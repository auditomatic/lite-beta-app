import{u as e}from"./settings-db-B3gFDSc-.js";import{p as a}from"./registry-CD_hKmbW.js";import{d as l,f as s,c as t,o as i,Z as n,Y as r,k as d,X as o,U as c,W as u,F as v,a6 as p,S as y,a5 as m,G as f,_ as g}from"./vendor-BiapkIQZ.js";import{_ as h}from"./index-JPKDQHeA.js";import"./db-CL8uhZCz.js";import"./logger.service-_k__GSpu.js";const b={class:"settings-view full-width"},_={class:"api-key-label"},k={class:"provider-info spacing-top-xs"},w={class:"text-secondary"},x={class:"collapse-header"},z={class:"text-secondary"},P={class:"provider-label"},C=h(l({__name:"SettingsView",setup(l){const h=e(),C=s([]),K=s([]),I=s([]),j=[{title:"Provider",dataIndex:"name",key:"name",width:150},{title:"Value",key:"input",width:100,align:"center"},{title:"Slider (1-64)",key:"slider",width:200,align:"center"}],A=t(()=>C.value.map(e=>{return{id:e.id,name:e.name,concurrency:(a=e.id,h.getProviderConcurrency(a)||L(a)),enabled:E(e.id)};var a})),S=t(()=>h.apiKeyGroups);function U(e){const a=C.value.find(a=>a.id===e);return a?.api.baseUrl||""}function E(e){return h.isProviderEnabled(e)}function L(e){const a=C.value.find(a=>a.id===e);return a?.execution?.defaultConcurrency||4}function O(e,a){h.setProviderConcurrency(e,a)}return i(async()=>{await a.waitForReady();const e=a.getAllProviders();e.length,e.map(e=>e.id),C.value=[...e],C.value.length}),(e,a)=>{const l=c("a-tag"),s=c("a-alert"),t=c("a-input-password"),i=c("a-form-item"),L=c("a-col"),T=c("a-row"),B=c("a-form"),F=c("a-card"),G=c("a-switch"),R=c("a-input"),V=c("a-collapse-panel"),q=c("a-collapse"),H=c("a-input-number"),M=c("a-slider"),N=c("a-table");return u(),n("div",b,[a[6]||(a[6]=r("div",{class:"settings-header"},[r("h2",null,"Settings"),r("p",{class:"description"},"Configure API keys and provider settings for scientific model testing")],-1)),d(F,{title:"API Keys",class:"settings-card",size:"small"},{extra:o(()=>[d(l,{color:"green",size:"small"},{default:o(()=>[f(m(Object.values(S.value).filter(e=>e.hasKey).length)+" / "+m(Object.keys(S.value).length)+" configured ",1)]),_:1})]),default:o(()=>[d(s,{message:"Local Storage Only: API keys are stored locally in your browser and are never sent to auditomatic.org. API Keys only leave your browser as authentication to external LLM API providers, via encrypted HTTPS.",type:"info","show-icon":"",class:"spacing-bottom-md"}),d(B,{layout:"vertical",size:"small"},{default:o(()=>[d(T,{gutter:[16,16]},{default:o(()=>[(u(!0),n(v,null,p(S.value,e=>(u(),y(L,{key:e.id,span:12},{default:o(()=>[d(i,null,{label:o(()=>[r("div",_,[f(m(e.name)+" ",1),e.hasKey?(u(),y(l,{key:0,color:"success",size:"small"},{default:o(()=>a[2]||(a[2]=[f("âœ“ Configured")])),_:1,__:[2]})):(u(),y(l,{key:1,color:"default",size:"small"},{default:o(()=>a[3]||(a[3]=[f("Not configured")])),_:1,__:[3]}))])]),default:o(()=>{return[d(t,{value:(a=e.id,h.getApiKey(a)||""),onInput:a=>function(e,a){const l=a.target.value;h.setApiKey(e,l)}(e.id,a),placeholder:`Enter ${e.name} API key`,autocomplete:"off",size:"small",visibilityToggle:!0},null,8,["value","onInput","placeholder"]),r("div",k,[r("small",w," Used by: "+m(e.providers.join(", ")),1)])];var a}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),d(F,{class:"settings-card",size:"small"},{default:o(()=>[d(q,{activeKey:K.value,"onUpdate:activeKey":a[0]||(a[0]=e=>K.value=e),bordered:!1},{default:o(()=>[d(V,{key:"endpoints"},{header:o(()=>[r("div",x,[a[4]||(a[4]=r("span",{class:"collapse-title"},"Provider Endpoints",-1)),r("small",z,m(C.value.filter(e=>E(e.id)).length)+" enabled",1)])]),default:o(()=>[d(B,{layout:"vertical",size:"small"},{default:o(()=>[d(T,{gutter:[16,16]},{default:o(()=>[(u(!0),n(v,null,p(C.value,e=>(u(),y(L,{key:e.id,span:12},{default:o(()=>[d(i,null,{label:o(()=>[r("div",P,[f(m(e.name)+" ",1),d(G,{checked:E(e.id),onChange:a=>{return l=e.id,s=a,void h.setProviderEnabled(l,s);var l,s},size:"small"},null,8,["checked","onChange"])])]),default:o(()=>{return[d(R,{value:(a=e.id,h.getBaseUrl(a)||""),onInput:a=>function(e,a){const l=a.target.value;h.setBaseUrl(e,l)}(e.id,a),placeholder:U(e.id),disabled:!E(e.id),size:"small"},null,8,["value","onInput","placeholder","disabled"])];var a}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1}),d(F,{class:"settings-card",size:"small"},{default:o(()=>[d(q,{activeKey:I.value,"onUpdate:activeKey":a[1]||(a[1]=e=>I.value=e),bordered:!1},{default:o(()=>[d(V,{key:"concurrency"},{header:o(()=>a[5]||(a[5]=[r("div",{class:"collapse-header"},[r("span",{class:"collapse-title"},"Concurrency Settings"),r("small",{class:"text-secondary"},"Request limits per provider")],-1)])),default:o(()=>[d(N,{columns:j,"data-source":A.value,pagination:!1,size:"small",class:"scientific-table","row-key":"id"},{bodyCell:o(({column:e,record:a})=>["input"===e.key?(u(),y(H,{key:0,value:a.concurrency,onChange:e=>O(a.id,e),min:1,max:64,disabled:!a.enabled,size:"small",style:{width:"80px"}},null,8,["value","onChange","disabled"])):g("",!0),"slider"===e.key?(u(),y(M,{key:1,value:a.concurrency,onChange:e=>O(a.id,e),min:1,max:64,disabled:!a.enabled,style:{width:"150px",margin:"0 auto"},size:"small"},null,8,["value","onChange","disabled"])):g("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1},8,["activeKey"])]),_:1})])}}}),[["__scopeId","data-v-314a05e8"]]);export{C as default};
