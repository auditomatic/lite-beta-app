const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./model-discovery-n_c2zKtu.js","./index-DfsMFxyB.js","./vendor-l9j4AUWK.js","./db-CL8uhZCz.js","./index-D0ItB65j.css","./registry-BhCALIg_.js"])))=>i.map(i=>d[i]);
import{R as e,a,_ as l}from"./index-DfsMFxyB.js";import{d as s,f as o,c as t,o as r,Z as i,Y as n,S as c,_ as d,k as u,X as p,U as y,W as m,G as v,u as k,F as f,a6 as b,a5 as g,B as h}from"./vendor-l9j4AUWK.js";import{f as _}from"./cost-formatting-D-OPWEvg.js";import{u as w}from"./models-db-B5PzUypc.js";import{modelDiscovery as C}from"./model-discovery-n_c2zKtu.js";import{p as j}from"./registry-BhCALIg_.js";import"./db-CL8uhZCz.js";import"./logger.service-_k__GSpu.js";const x={class:"models-view"},P={class:"page-header"},M={class:"provider-header"},F={class:"provider-name"},z={key:1},O={key:0},L={key:1,class:"text-secondary"},R={key:0,class:"cost-display"},T={key:0,class:"cost-line"},D={key:1,class:"cost-line"},E={key:1,class:"text-secondary"},I=l(s({__name:"ModelsView",setup(l){const s=w(),I=o(""),S=o(!1),A=o(""),B=o([]),K=[{title:"Enabled",key:"enabled",width:80,align:"center"},{title:"Model",key:"model",width:300},{title:"Source",key:"source",width:100,align:"center"},{title:"Context",key:"context",width:100,align:"right"},{title:"Cost/1M",key:"cost",width:100,align:"right"}],U=t(()=>{const e=I.value.toLowerCase(),a={};for(const[l,o]of Object.entries(s.modelsByProvider)){const s=o.filter(a=>a.displayName.toLowerCase().includes(e)||a.modelId.toLowerCase().includes(e)||l.toLowerCase().includes(e));s.length>0&&(a[l]=s)}return a}),N=t(()=>I.value?`No models found matching "${I.value}"`:'No models available. Click "Refresh Models" to discover models.');function W(e){const a=j.getProvider(e);return a?.name||e}function $(e){const a=s.modelsByProvider[e]||[];return a.length>0&&a.every(e=>e.enabled)}async function V(){try{const{modelDiscovery:e}=await a(async()=>{const{modelDiscovery:e}=await import("./model-discovery-n_c2zKtu.js");return{modelDiscovery:e}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url);await e.enableOpenRouterFavorites()}catch(e){console.error("Failed to enable OpenRouter favorites:",e),alert("Failed to enable OpenRouter favorites: "+(e instanceof Error?e.message:"Unknown error"))}}async function G(){S.value=!0,A.value="";try{await C.refreshAll()}catch(e){console.error("Failed to refresh models:",e),A.value="Failed to refresh models. Some sources may be unavailable."}finally{S.value=!1}}const X=_;return r(async()=>{0===s.allModels.length&&await G(),B.value=Object.keys(s.modelsByProvider)}),(a,l)=>{const o=y("a-button"),t=y("a-space"),r=y("a-alert"),_=y("a-input-search"),w=y("a-tag"),C=y("a-switch"),j=y("a-table"),Y=y("a-collapse-panel"),Z=y("a-collapse"),q=y("a-empty");return m(),i("div",x,[n("div",P,[l[5]||(l[5]=n("div",{class:"header-content"},[n("h1",null,"Model Management"),n("p",{class:"description"},"Configure and enable LLM models for testing")],-1)),u(t,null,{default:p(()=>[u(o,{type:"primary",onClick:G,loading:S.value},{icon:p(()=>[u(k(e))]),default:p(()=>[l[4]||(l[4]=v(" Refresh Models "))]),_:1,__:[4]},8,["loading"])]),_:1})]),A.value?(m(),c(r,{key:0,type:"error",message:A.value,closable:"",onClose:l[0]||(l[0]=e=>A.value=""),class:"error-alert"},null,8,["message"])):d("",!0),u(_,{value:I.value,"onUpdate:value":l[1]||(l[1]=e=>I.value=e),placeholder:"Search models by name, provider, or ID...","allow-clear":"",size:"large",class:"search-bar"},null,8,["value"]),u(Z,{activeKey:B.value,"onUpdate:activeKey":l[3]||(l[3]=e=>B.value=e),class:"provider-collapse",bordered:!1},{default:p(()=>[(m(!0),i(f,null,b(U.value,(e,a)=>(m(),c(Y,{key:a},{header:p(()=>[n("div",M,[n("span",F,[n("strong",null,g(W(a)),1),u(w,{size:"small",color:"blue"},{default:p(()=>[v(g(e.length)+" models",1)]),_:2},1024)]),u(t,{size:"small",onClick:l[2]||(l[2]=h(()=>{},["stop"]))},{default:p(()=>["openrouter"===a?(m(),c(o,{key:0,size:"small",type:"primary",ghost:"",onClick:h(V,["stop"])},{default:p(()=>l[6]||(l[6]=[v(" Enable Favorites ")])),_:1,__:[6]})):d("",!0),u(o,{size:"small",type:$(a)?"default":"primary",onClick:h(e=>async function(e,a){await s.toggleProvider(e,a)}(a,!$(a)),["stop"])},{default:p(()=>[v(g($(a)?"Disable All":"Enable All"),1)]),_:2},1032,["type","onClick"])]),_:2},1024)])]),default:p(()=>[u(j,{columns:K,"data-source":e,pagination:!1,size:"small",scroll:{y:"calc((100vh - 250px) * 0.75)"},"row-key":"id",class:"models-table"},{bodyCell:p(({column:e,record:a})=>{return["enabled"===e.key?(m(),c(C,{key:0,checked:a.enabled,onChange:e=>async function(e,a){await s.toggleModel(e,a)}(a.id,e),size:"small"},null,8,["checked","onChange"])):d("",!0),"model"===e.key?(m(),i("code",z,g(a.modelId),1)):d("",!0),"source"===e.key?(m(),i(f,{key:2},[a.source?(m(),c(w,{key:0,size:"small",color:"cyan"},{default:p(()=>[v(g(a.source),1)]),_:2},1024)):d("",!0)],64)):d("",!0),"context"===e.key?(m(),i(f,{key:3},[a.capabilities?.contextWindow?(m(),i("span",O,g((o=a.capabilities.contextWindow,o>=1e6?(o/1e6).toFixed(1)+"M":o>=1e3?(o/1e3).toFixed(0)+"K":o.toString())),1)):(m(),i("span",L,"-"))],64)):d("",!0),"cost"===e.key?(m(),i(f,{key:4},[a.capabilities?.inputCostPerToken||a.capabilities?.outputCostPerToken?(m(),i("div",R,[a.capabilities.inputCostPerToken?(m(),i("div",T,[l[7]||(l[7]=n("span",{class:"cost-label"},"In:",-1)),v(" $"+g(k(X)(a.capabilities.inputCostPerToken)),1)])):d("",!0),a.capabilities.outputCostPerToken?(m(),i("div",D,[l[8]||(l[8]=n("span",{class:"cost-label"},"Out:",-1)),v(" $"+g(k(X)(a.capabilities.outputCostPerToken)),1)])):d("",!0)])):(m(),i("span",E,"-"))],64)):d("",!0)];var o}),_:2},1032,["data-source"])]),_:2},1024))),128))]),_:1},8,["activeKey"]),0===Object.keys(U.value).length?(m(),c(q,{key:1,description:N.value,class:"empty-state"},null,8,["description"])):d("",!0)])}}}),[["__scopeId","data-v-81e7cd35"]]);export{I as default};
