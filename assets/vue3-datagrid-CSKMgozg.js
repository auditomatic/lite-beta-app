const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./revo-grid.entry-D9k5Noyy.js","./viewport.helpers-B3EYGhqf-_TQV38Ql.js","./events-BvSmBueA-CpOJa7On.js","./index--f-h8q18.js","./vendor-BsQOyEiA.js","./db-CL8uhZCz.js","./index-CaK6nz9C.css","./revogr-filter-panel.entry-DHylB1W9.js","./revogr-attribution_7.entry-RrEj8boj.js","./edit.utils-BBbK2wbv-0t4JW0mW.js","./throttle-Dshl76F1-CW0J_RyN.js","./revogr-clipboard_3.entry-BAoYA0t_.js","./revogr-data_4.entry-CWgSrzRj.js"])))=>i.map(i=>d[i]);
import{H as e}from"./index--f-h8q18.js";import{ao as t,d as n,f as s,g as r,e as o,l as i}from"./vendor-BsQOyEiA.js";const a="hydrated",l=!0,c=!1,u=!0,d=!0;var h=Object.defineProperty,f={isDev:!1},p=(e=>(e.Undefined="undefined",e.Null="null",e.String="string",e.Number="number",e.SpecialNumber="number",e.Boolean="boolean",e.BigInt="bigint",e))(p||{}),g=(e=>(e.Array="array",e.Date="date",e.Map="map",e.Object="object",e.RegularExpression="regexp",e.Set="set",e.Channel="channel",e.Symbol="symbol",e))(g||{}),m="type",v="value",$="serialized:",y=e=>{if(e.__stencil__getHostRef)return e.__stencil__getHostRef()},b=(e,t)=>{e.__stencil__getHostRef=()=>t,t.$lazyInstance$=e},w=(e,t)=>t in e,S=(e,t)=>(0,console.error)(e,t),x=new Map,C=new Map,E="s-id",O="c-id",j="slot-fb{display:contents}slot-fb[hidden]{display:none}",R="http://www.w3.org/1999/xlink",z="undefined"!=typeof window?window:{},I={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,s)=>e.addEventListener(t,n,s),rel:(e,t,n,s)=>e.removeEventListener(t,n,s),ce:(e,t)=>new CustomEvent(e,t)},_=c,T=(()=>{var e;let t=!1;try{null==(e=z.document)||e.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(n){}return t})(),N=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),D=!1,L=[],P=[],A=(e,t)=>t=>{e.push(t),D||(D=!0,4&I.$flags$?k(M):I.raf(M))},F=e=>{for(let n=0;n<e.length;n++)try{e[n](performance.now())}catch(t){S(t)}e.length=0},M=()=>{F(L),F(P),(D=L.length>0)&&I.raf(M)},k=e=>{return Promise.resolve(t).then(e);var t},B=A(P),H=e=>"object"===(e=typeof e)||"function"===e;function V(e){var t,n,s;return null!=(s=null==(n=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:n.getAttribute("content"))?s:void 0}var W=class e{static fromLocalValue(t){const n=t[m],s=v in t?t[v]:void 0;switch(n){case"string":case"boolean":return s;case"bigint":return BigInt(s);case"undefined":return;case"null":return null;case"number":return"NaN"===s?NaN:"-0"===s?-0:"Infinity"===s?1/0:"-Infinity"===s?-1/0:s;case"array":return s.map(t=>e.fromLocalValue(t));case"date":return new Date(s);case"map":const t=new Map;for(const[n,l]of s){const s="object"==typeof n&&null!==n?e.fromLocalValue(n):n,r=e.fromLocalValue(l);t.set(s,r)}return t;case"object":const r={};for(const[n,l]of s)r[n]=e.fromLocalValue(l);return r;case"regexp":const{pattern:o,flags:i}=s;return new RegExp(o,i);case"set":const a=new Set;for(const n of s)a.add(e.fromLocalValue(n));return a;case"symbol":return Symbol(s);default:throw new Error(`Unsupported type: ${n}`)}}static fromLocalValueArray(t){return t.map(t=>e.fromLocalValue(t))}static isLocalValueObject(e){if("object"!=typeof e||null===e)return!1;if(!e.hasOwnProperty(m))return!1;const t=e[m];return!!Object.values({...p,...g}).includes(t)&&("null"===t||"undefined"===t||e.hasOwnProperty(v))}};((e,t)=>{for(var n in t)h(e,n,{get:t[n],enumerable:!0})})({},{err:()=>G,map:()=>X,ok:()=>U,unwrap:()=>Y,unwrapErr:()=>q});var U=e=>({isOk:!0,isErr:!1,value:e}),G=e=>({isOk:!1,isErr:!0,value:e});function X(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then(e=>U(e)):U(n)}if(e.isErr){const t=e.value;return G(t)}throw"should never get here"}var Y=e=>{if(e.isOk)return e.value;throw e.value},q=e=>{if(e.isErr)return e.value;throw e.value};var K=e=>{const t=se(e,"childNodes");e.tagName&&e.tagName.includes("-")&&e["s-cr"]&&"SLOT-FB"!==e.tagName&&J(t,e.tagName).forEach(e=>{1===e.nodeType&&"SLOT-FB"===e.tagName&&(Z(e,te(e),!1).length?e.hidden=!0:e.hidden=!1)});let n=0;for(n=0;n<t.length;n++){const e=t[n];1===e.nodeType&&se(e,"childNodes").length&&K(e)}};function J(e,t,n){let s,r=0,o=[];for(;r<e.length;r++)s=e[r],!s["s-sr"]||t&&s["s-hn"]!==t||void 0!==n||o.push(s),o=[...o,...J(s.childNodes,t,n)];return o}var Z=(e,t,n=!0)=>{const s=[];(n&&e["s-sr"]||!e["s-sr"])&&s.push(e);let r=e;for(;r=r.nextSibling;)te(r)!==t||!n&&r["s-sr"]||s.push(r);return s},Q=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,ee=(e,t,n,s)=>{if(e["s-ol"]&&e["s-ol"].isConnected)return;const r=document.createTextNode("");if(r["s-nr"]=e,!t["s-cr"]||!t["s-cr"].parentNode)return;const o=t["s-cr"].parentNode,i=se(o,"appendChild");if(void 0!==s){r["s-oo"]=s;const e=se(o,"childNodes"),t=[r];e.forEach(e=>{e["s-nr"]&&t.push(e)}),t.sort((e,t)=>!e["s-oo"]||e["s-oo"]<(t["s-oo"]||0)?-1:!t["s-oo"]||t["s-oo"]<e["s-oo"]?1:0),t.forEach(e=>i.call(o,e))}else i.call(o,r);e["s-ol"]=r,e["s-sh"]=t["s-hn"]},te=e=>"string"==typeof e["s-sn"]?e["s-sn"]:1===e.nodeType&&e.getAttribute("slot")||void 0;function ne(e){if(e.assignedElements||e.assignedNodes||!e["s-sr"])return;const t=t=>function(e){const n=[],s=this["s-sn"];(null==e?void 0:e.flatten)&&console.error("\n          Flattening is not supported for Stencil non-shadow slots.\n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const r=this["s-cr"].parentElement;return(r.__childNodes?r.childNodes:(e=>{const t=[];for(let n=0;n<e.length;n++){const s=e[n]["s-nr"]||void 0;s&&s.isConnected&&t.push(s)}return t})(r.childNodes)).forEach(e=>{s===te(e)&&n.push(e)}),t?n.filter(e=>1===e.nodeType):n}.bind(e);e.assignedElements=t(!0),e.assignedNodes=t(!1)}function se(e,t){if("__"+t in e){const n=e["__"+t];return"function"!=typeof n?n:n.bind(e)}return"function"!=typeof e[t]?e[t]:e[t].bind(e)}var re=(e,t,...n)=>{let s=null,r=null,o=null,i=!1,a=!1;const l=[],c=t=>{for(let n=0;n<t.length;n++)s=t[n],Array.isArray(s)?c(s):null!=s&&"boolean"!=typeof s&&((i="function"!=typeof e&&!H(s))&&(s=String(s)),i&&a?l[l.length-1].$text$+=s:l.push(i?oe(null,s):s),a=i)};if(c(n),t){t.key&&(r=t.key),t.name&&(o=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,l,ae);const u=oe(e,null);return u.$attrs$=t,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=o,u},oe=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return n},ie={},ae={forEach:(e,t)=>e.map(le).forEach(t),map:(e,t)=>e.map(le).map(t).map(ce)},le=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),ce=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),re(e.vtag,t,...e.vchildren||[])}const t=oe(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},ue=(e,t,n,s,r,o,i,a=[])=>{let l,c,u,d;if(1===o.nodeType){if(l=o.getAttribute(O),l&&(c=l.split("."),c[0]===i||"0"===c[0])){u=he({$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:{class:o.className||""}}),t.push(u),o.removeAttribute(O),e.$children$||(e.$children$=[]);const r=u.$elm$.getAttribute("s-sn");"string"==typeof r&&("slot-fb"===u.$tag$&&fe(r,c[2],u,o,e,t,n,s,a),u.$elm$["s-sn"]=r,u.$elm$.removeAttribute("s-sn")),void 0!==u.$index$&&(e.$children$[u.$index$]=u),e=u}if(o.shadowRoot)for(d=o.shadowRoot.childNodes.length-1;d>=0;d--)ue(e,t,n,s,r,o.shadowRoot.childNodes[d],i,a);const h=o.__childNodes||o.childNodes;for(d=h.length-1;d>=0;d--)ue(e,t,n,s,r,h[d],i,a)}else if(8===o.nodeType){if(c=o.nodeValue.split("."),c[1]===i||"0"===c[1])if(l=c[0],u=he({$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4]||"0",$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),"t"===l)u.$elm$=ge(o,3),u.$elm$&&3===u.$elm$.nodeType&&(u.$text$=u.$elm$.textContent,t.push(u),o.remove(),i===u.$hostId$&&(e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u));else if("c"===l)u.$elm$=ge(o,8),u.$elm$&&8===u.$elm$.nodeType&&(t.push(u),o.remove());else if(u.$hostId$===i)if("s"===l){fe(o["s-sn"]=c[5]||"",c[2],u,o,e,t,n,s,a)}else"r"===l&&(r["s-cr"]=o,o["s-cn"]=!0)}else if(e&&"style"===e.$tag$){const t=oe(null,o.textContent);t.$elm$=o,t.$index$="0",e.$children$=[t]}else 3!==o.nodeType||o.wholeText.trim()||o.remove();return e},de=(e,t)=>{if(1===e.nodeType){const n=e[E]||e.getAttribute(E);n&&t.set(n,e);let s=0;if(e.shadowRoot)for(;s<e.shadowRoot.childNodes.length;s++)de(e.shadowRoot.childNodes[s],t);const r=e.__childNodes||e.childNodes;for(s=0;s<r.length;s++)de(r[s],t)}else if(8===e.nodeType){const n=e.nodeValue.split(".");"o"===n[0]&&(t.set(n[1]+"."+n[2],e),e.nodeValue="",e["s-en"]=n[3])}},he=e=>({$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null,...e});function fe(e,t,n,s,r,o,i,a,l){s["s-sr"]=!0,n.$name$=e||null,n.$tag$="slot";const c=(null==r?void 0:r.$elm$)?r.$elm$["s-id"]||r.$elm$.getAttribute("s-id"):"";{const o=n.$elm$,i=c&&c!==n.$hostId$&&r.$elm$.shadowRoot;pe(l,t,e,s,i?c:n.$hostId$),ne(s),i&&r.$elm$.insertBefore(o,r.$elm$.children[0])}o.push(n),i.push(n),r.$children$||(r.$children$=[]),r.$children$[n.$index$]=n}var pe=(e,t,n,s,r)=>{let o=s.nextSibling;for(e[t]=e[t]||[];o&&((o.getAttribute&&o.getAttribute("slot")||o["s-sn"])===n||""===n&&!o["s-sn"]&&(8===o.nodeType&&1!==o.nodeValue.indexOf(".")||3===o.nodeType));)o["s-sn"]=n,e[t].push({slot:s,node:o,hostId:r}),o=o.nextSibling},ge=(e,t)=>{let n=e;do{n=n.nextSibling}while(n&&(n.nodeType!==t||!n.nodeValue));return n},me=e=>{const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${t}))(${t}\\b)`,"g")};me("::slotted"),me(":host"),me(":host-context");var ve,$e,ye=(e,t,n)=>{if("string"==typeof e&&(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")))try{return e=JSON.parse(e)}catch(r){}return"string"==typeof e&&e.startsWith($)?e="string"==typeof(s=e)&&s.startsWith($)?W.fromLocalValue(JSON.parse(atob(s.slice(11)))):s:null==e||H(e)?e:4&t?"false"!==e&&(""===e||!!e):2&t?"string"==typeof e?parseFloat(e):"number"==typeof e?e:NaN:1&t?String(e):e;var s},be=e=>y(e).$hostElement$,we=(e,t,n)=>{const s=be(e);return{emit:e=>Se(s,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},Se=(e,t,n)=>{const s=I.ce(t,n);return e.dispatchEvent(s),s},xe=new WeakMap,Ce=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,s=(t.$tagName$,()=>{});((e,t)=>{var n;const s=Ee(t),r=C.get(s);if(!z.document)return s;if(e=11===e.nodeType?e:z.document,r)if("string"==typeof r){e=e.head||e;let o,i=xe.get(e);if(i||xe.set(e,i=new Set),!i.has(s)){if(e.host&&(o=e.querySelector(`[sty-id="${s}"]`)))o.innerHTML=r;else{o=z.document.createElement("style"),o.innerHTML=r;const s=null!=(n=I.$nonce$)?n:V(z.document);if(null!=s&&o.setAttribute("nonce",s),!(1&t.$flags$))if("HEAD"===e.nodeName){const t=e.querySelectorAll("link[rel=preconnect]"),n=t.length>0?t[t.length-1].nextSibling:e.querySelector("style");e.insertBefore(o,(null==n?void 0:n.parentNode)===e?n:null)}else if("host"in e)if(N){const t=new CSSStyleSheet;t.replaceSync(r),e.adoptedStyleSheets=[t,...e.adoptedStyleSheets]}else{const t=e.querySelector("style");t?t.innerHTML=r+t.innerHTML:e.prepend(o)}else e.append(o);1&t.$flags$&&e.insertBefore(o,null)}4&t.$flags$&&(o.innerHTML+=j),i&&i.add(s)}}else e.adoptedStyleSheets.includes(r)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,r])})(n.getRootNode(),t),s()},Ee=(e,t)=>"sc-"+e.$tagName$,Oe=(e,t,n,s,r,o,i)=>{if(n===s)return;let a=w(e,t),l=t.toLowerCase();if("class"===t){const t=e.classList,r=Re(n);let o=Re(s);e["s-si"]&&i?(o.push(e["s-si"]),r.forEach(t=>{t.startsWith(e["s-si"])&&o.push(t)}),o=[...new Set(o)],t.add(...o)):(t.remove(...r.filter(e=>e&&!o.includes(e))),t.add(...o.filter(e=>e&&!r.includes(e))))}else if("style"===t){for(const t in n)s&&null!=s[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in s)n&&s[t]===n[t]||(t.includes("-")?e.style.setProperty(t,s[t]):e.style[t]=s[t])}else if("key"===t);else if("ref"===t)s&&s(e);else if(a||"o"!==t[0]||"n"!==t[1]){const i=H(s);if((a||i&&null!==s)&&!r)try{if(e.tagName.includes("-"))e[t]!==s&&(e[t]=s);else{const r=null==s?"":s;"list"===t?a=!1:null!=n&&e[t]==r||("function"==typeof e.__lookupSetter__(t)?e[t]=r:e.setAttribute(t,r))}}catch(c){}let u=!1;l!==(l=l.replace(/^xlink\:?/,""))&&(t=l,u=!0),null==s||!1===s?!1===s&&""!==e.getAttribute(t)||(u?e.removeAttributeNS(R,t):e.removeAttribute(t)):(!a||4&o||r)&&!i&&1===e.nodeType&&(s=!0===s?"":s,u?e.setAttributeNS(R,t,s):e.setAttribute(t,s))}else if(t="-"===t[2]?t.slice(3):w(z,l)?l.slice(2):l[2]+t.slice(3),n||s){const r=t.endsWith(ze);t=t.replace(Ie,""),n&&I.rel(e,t,n,r),s&&I.ael(e,t,s,r)}},je=/\s/,Re=e=>("object"==typeof e&&e&&"baseVal"in e&&(e=e.baseVal),e&&"string"==typeof e?e.split(je):[]),ze="Capture",Ie=new RegExp(ze+"$"),_e=(e,t,n,s)=>{const r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||{},i=t.$attrs$||{};for(const a of Te(Object.keys(o)))a in i||Oe(r,a,o[a],void 0,n,t.$flags$,s);for(const a of Te(Object.keys(i)))Oe(r,a,o[a],i[a],n,t.$flags$,s)};function Te(e){return e.includes("ref")?[...e.filter(e=>"ref"!==e),"ref"]:e}var Ne=!1,De=!1,Le=!1,Pe=!1,Ae=(e,t,n)=>{var s;const r=t.$children$[n];let o,i,a,l=0;if(Ne||(Le=!0,"slot"===r.$tag$&&(r.$flags$|=r.$children$?2:1)),null!==r.$text$)o=r.$elm$=z.document.createTextNode(r.$text$);else if(1&r.$flags$)o=r.$elm$=z.document.createTextNode(""),_e(null,r,Pe);else{if(Pe||(Pe="svg"===r.$tag$),!z.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(o=r.$elm$=z.document.createElementNS(Pe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Ne&&u&&2&r.$flags$?"slot-fb":r.$tag$),Pe&&"foreignObject"===r.$tag$&&(Pe=!1),_e(null,r,Pe),r.$children$)for(l=0;l<r.$children$.length;++l)i=Ae(e,r,l),i&&o.appendChild(i);"svg"===r.$tag$?Pe=!1:"foreignObject"===o.tagName&&(Pe=!0)}return o["s-hn"]=$e,3&r.$flags$&&(o["s-sr"]=!0,o["s-cr"]=ve,o["s-sn"]=r.$name$||"",o["s-rf"]=null==(s=r.$attrs$)?void 0:s.ref,ne(o),a=e&&e.$children$&&e.$children$[n],a&&a.$tag$===r.$tag$&&e.$elm$&&Fe(e.$elm$,!1)),o},Fe=(e,t)=>{I.$flags$|=1;const n=Array.from(e.__childNodes||e.childNodes);for(let s=n.length-1;s>=0;s--){const e=n[s];e["s-hn"]!==$e&&e["s-ol"]&&(Xe(He(e).parentNode,e,He(e)),e["s-ol"].remove(),e["s-ol"]=void 0,e["s-sh"]=void 0,Le=!0),t&&Fe(e,t)}I.$flags$&=-2},Me=(e,t,n,s,r,o)=>{let i,a=e["s-cr"]&&e["s-cr"].parentNode||e;for(;r<=o;++r)s[r]&&(i=Ae(null,n,r),i&&(s[r].$elm$=i,Xe(a,i,He(t))))},ke=(e,t,n)=>{for(let s=t;s<=n;++s){const t=e[s];if(t){const e=t.$elm$;Ge(t),e&&(De=!0,e["s-ol"]?e["s-ol"].remove():Fe(e,!0),e.remove())}}},Be=(e,t,n=!1)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:n?(n&&!e.$key$&&t.$key$&&(e.$key$=t.$key$),!0):e.$key$===t.$key$),He=e=>e&&e["s-ol"]||e,Ve=(e,t,n=!1)=>{const s=t.$elm$=e.$elm$,r=e.$children$,o=t.$children$,i=t.$tag$,a=t.$text$;let l;null===a?(_e(e,t,Pe="svg"===i||"foreignObject"!==i&&Pe,n),null!==r&&null!==o?((e,t,n,s,r=!1)=>{let o,i,a=0,l=0,c=0,u=0,d=t.length-1,h=t[0],f=t[d],p=s.length-1,g=s[0],m=s[p];for(;a<=d&&l<=p;)if(null==h)h=t[++a];else if(null==f)f=t[--d];else if(null==g)g=s[++l];else if(null==m)m=s[--p];else if(Be(h,g,r))Ve(h,g,r),h=t[++a],g=s[++l];else if(Be(f,m,r))Ve(f,m,r),f=t[--d],m=s[--p];else if(Be(h,m,r))"slot"!==h.$tag$&&"slot"!==m.$tag$||Fe(h.$elm$.parentNode,!1),Ve(h,m,r),Xe(e,h.$elm$,f.$elm$.nextSibling),h=t[++a],m=s[--p];else if(Be(f,g,r))"slot"!==h.$tag$&&"slot"!==m.$tag$||Fe(f.$elm$.parentNode,!1),Ve(f,g,r),Xe(e,f.$elm$,h.$elm$),f=t[--d],g=s[++l];else{for(c=-1,u=a;u<=d;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===g.$key$){c=u;break}c>=0?(i=t[c],i.$tag$!==g.$tag$?o=Ae(t&&t[l],n,c):(Ve(i,g,r),t[c]=void 0,o=i.$elm$),g=s[++l]):(o=Ae(t&&t[l],n,l),g=s[++l]),o&&Xe(He(h.$elm$).parentNode,o,He(h.$elm$))}a>d?Me(e,null==s[p+1]?null:s[p+1].$elm$,n,s,l,p):l>p&&ke(t,a,d)})(s,r,t,o,n):null!==o?(null!==e.$text$&&(s.textContent=""),Me(s,null,t,o,0,o.length-1)):!n&&d&&null!==r&&ke(r,0,r.length-1),Pe&&"svg"===i&&(Pe=!1)):(l=s["s-cr"])?l.parentNode.textContent=a:e.$text$!==a&&(s.data=a)},We=[],Ue=e=>{let t,n,s;const r=e.__childNodes||e.childNodes;for(const o of r){if(o["s-sr"]&&(t=o["s-cr"])&&t.parentNode){n=t.parentNode.__childNodes||t.parentNode.childNodes;const e=o["s-sn"];for(s=n.length-1;s>=0;s--)if(t=n[s],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==o["s-hn"])if(Q(t,e)){let n=We.find(e=>e.$nodeToRelocate$===t);De=!0,t["s-sn"]=t["s-sn"]||e,n?(n.$nodeToRelocate$["s-sh"]=o["s-hn"],n.$slotRefNode$=o):(t["s-sh"]=o["s-hn"],We.push({$slotRefNode$:o,$nodeToRelocate$:t})),t["s-sr"]&&We.map(e=>{Q(e.$nodeToRelocate$,t["s-sn"])&&(n=We.find(e=>e.$nodeToRelocate$===t),n&&!e.$slotRefNode$&&(e.$slotRefNode$=n.$slotRefNode$))})}else We.some(e=>e.$nodeToRelocate$===t)||We.push({$nodeToRelocate$:t})}1===o.nodeType&&Ue(o)}},Ge=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(Ge)},Xe=(e,t,n)=>null==e?void 0:e.insertBefore(t,n),Ye=(e,t,n=!1)=>{var s,r,o,i;const a=e.$hostElement$,l=e.$cmpMeta$,c=e.$vnode$||oe(null,null);var u;const d=(u=t)&&u.$tag$===ie?t:re(null,null,t);if($e=a.tagName,l.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},l.$attrsToReflect$.map(([e,t])=>d.$attrs$[t]=a[e])),n&&d.$attrs$)for(const h of Object.keys(d.$attrs$))a.hasAttribute(h)&&!["key","ref","style","class"].includes(h)&&(d.$attrs$[h]=a[h]);if(d.$tag$=null,d.$flags$|=4,e.$vnode$=d,d.$elm$=c.$elm$=a,Ne=_,ve=a["s-cr"],De=!1,Ve(c,d,n),I.$flags$|=1,Le){Ue(d.$elm$);for(const e of We){const t=e.$nodeToRelocate$;if(!t["s-ol"]&&z.document){const e=z.document.createTextNode("");e["s-nr"]=t,Xe(t.parentNode,t["s-ol"]=e,t)}}for(const e of We){const t=e.$nodeToRelocate$,a=e.$slotRefNode$;if(a){const e=a.parentNode;let n=a.nextSibling;{let o=null==(s=t["s-ol"])?void 0:s.previousSibling;for(;o;){let s=null!=(r=o["s-nr"])?r:null;if(s&&s["s-sn"]===t["s-sn"]&&e===(s.__parentNode||s.parentNode)){for(s=s.nextSibling;s===t||(null==s?void 0:s["s-sr"]);)s=null==s?void 0:s.nextSibling;if(!s||!s["s-nr"]){n=s;break}}o=o.previousSibling}}const i=t.__parentNode||t.parentNode,l=t.__nextSibling||t.nextSibling;(!n&&e!==i||l!==n)&&t!==n&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),Xe(e,t,n),1===t.nodeType&&"SLOT-FB"!==t.tagName&&(t.hidden=null!=(o=t["s-ih"])&&o)),t&&"function"==typeof a["s-rf"]&&a["s-rf"](a)}else 1===t.nodeType&&(n&&(t["s-ih"]=null!=(i=t.hidden)&&i),t.hidden=!0)}}De&&K(d.$elm$),I.$flags$&=-2,We.length=0,ve=void 0},qe=(e,t)=>{if(t&&!e.$onRenderResolve$&&t["s-p"]){const n=t["s-p"].push(new Promise(s=>e.$onRenderResolve$=()=>{t["s-p"].splice(n-1,1),s()}))}},Ke=(e,t)=>{if(e.$flags$|=16,4&e.$flags$)return void(e.$flags$|=512);qe(e,e.$ancestorComponent$);return B(()=>Je(e,t))},Je=(e,t)=>{const n=e.$hostElement$,s=(e.$cmpMeta$.$tagName$,()=>{}),r=e.$lazyInstance$;if(!r)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let o;return t?(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(([e,t])=>at(r,e,t,n)),e.$queuedListeners$=void 0),o=at(r,"componentWillLoad",void 0,n)):o=at(r,"componentWillUpdate",void 0,n),o=Ze(o,()=>at(r,"componentWillRender",void 0,n)),s(),Ze(o,()=>et(e,r,t))},Ze=(e,t)=>Qe(e)?e.then(t).catch(e=>{console.error(e),t()}):t(),Qe=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,et=async(e,t,n)=>{var s;const r=e.$hostElement$,o=(e.$cmpMeta$.$tagName$,()=>{}),i=r["s-rc"];n&&Ce(e);const a=(e.$cmpMeta$.$tagName$,()=>{});nt(e,t,r,n),i&&(i.map(e=>e()),r["s-rc"]=void 0),a(),o();{const t=null!=(s=r["s-p"])?s:[],n=()=>rt(e);0===t.length?n():(Promise.all(t).then(n),e.$flags$|=4,t.length=0)}},tt=null,nt=(e,t,n,s)=>{try{tt=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,Ye(e,t,s)}catch(r){S(r,e.$hostElement$)}return tt=null,null},st=()=>tt,rt=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,n=()=>{},s=e.$lazyInstance$,r=e.$ancestorComponent$;at(s,"componentDidRender",void 0,t),64&e.$flags$?(at(s,"componentDidUpdate",void 0,t),n()):(e.$flags$|=64,lt(t),at(s,"componentDidLoad",void 0,t),n(),e.$onReadyResolve$(t),r||it()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&k(()=>Ke(e,!1)),e.$flags$&=-517},ot=e=>{{const t=y(e),n=t.$hostElement$.isConnected;return n&&2==(18&t.$flags$)&&Ke(t,!1),n}},it=e=>{k(()=>Se(z,"appload",{detail:{namespace:"revo-grid"}}))},at=(e,t,n,s)=>{if(e&&e[t])try{return e[t](n)}catch(r){S(r,s)}},lt=e=>{var t;return e.classList.add(null!=(t=a)?t:"hydrated")},ct=(e,t,n,s)=>{const r=y(e);if(!r)throw new Error(`Couldn't find host element for "${s.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const o=r.$hostElement$,i=r.$instanceValues$.get(t),a=r.$flags$,l=r.$lazyInstance$;n=ye(n,s.$members$[t][0]);const c=Number.isNaN(i)&&Number.isNaN(n);if((!(8&a)||void 0===i)&&(n!==i&&!c)&&(r.$instanceValues$.set(t,n),l)){if(s.$watchers$&&128&a){const e=s.$watchers$[t];e&&e.map(e=>{try{l[e](n,i,t)}catch(s){S(s,o)}})}if(2==(18&a)){if(l.componentShouldUpdate&&!1===l.componentShouldUpdate(n,i,t))return;Ke(r,!1)}}},ut=(e,t,n)=>{var s,r;const o=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const i=Object.entries(null!=(s=t.$members$)?s:{});if(i.map(([e,[s]])=>{if(31&s||2&n&&32&s){const{get:r,set:i}=Object.getOwnPropertyDescriptor(o,e)||{};r&&(t.$members$[e][0]|=2048),i&&(t.$members$[e][0]|=4096),(1&n||!r)&&Object.defineProperty(o,e,{get(){{if(!(2048&t.$members$[e][0]))return((e,t)=>y(e).$instanceValues$.get(t))(this,e);const n=y(this),s=n?n.$lazyInstance$:o;if(!s)return;return s[e]}},configurable:!0,enumerable:!0}),Object.defineProperty(o,e,{set(r){const o=y(this);if(i){const n=32&s?this[e]:o.$hostElement$[e];return void 0===n&&o.$instanceValues$.get(e)?r=o.$instanceValues$.get(e):!o.$instanceValues$.get(e)&&n&&o.$instanceValues$.set(e,n),i.apply(this,[ye(r,s)]),r=32&s?this[e]:o.$hostElement$[e],void ct(this,e,r,t)}{if(!(1&n&&4096&t.$members$[e][0]))return ct(this,e,r,t),void(1&n&&!o.$lazyInstance$&&o.$onReadyPromise$.then(()=>{4096&t.$members$[e][0]&&o.$lazyInstance$[e]!==o.$instanceValues$.get(e)&&(o.$lazyInstance$[e]=r)}));const i=()=>{const n=o.$lazyInstance$[e];!o.$instanceValues$.get(e)&&n&&o.$instanceValues$.set(e,n),o.$lazyInstance$[e]=ye(r,s),ct(this,e,o.$lazyInstance$[e],t)};o.$lazyInstance$?i():o.$onReadyPromise$.then(()=>i())}}})}else 1&n&&64&s&&Object.defineProperty(o,e,{value(...t){var n;const s=y(this);return null==(n=null==s?void 0:s.$onInstancePromise$)?void 0:n.then(()=>{var n;return null==(n=s.$lazyInstance$)?void 0:n[e](...t)})}})}),1&n){const n=new Map;o.attributeChangedCallback=function(e,s,r){I.jmp(()=>{var i;const a=n.get(e);if(this.hasOwnProperty(a)&&l)r=this[a],delete this[a];else{if(o.hasOwnProperty(a)&&"number"==typeof this[a]&&this[a]==r)return;if(null==a){const n=y(this),o=null==n?void 0:n.$flags$;if(o&&!(8&o)&&128&o&&r!==s){const o=n.$lazyInstance$,a=null==(i=t.$watchers$)?void 0:i[e];null==a||a.forEach(t=>{null!=o[t]&&o[t].call(o,r,s,e)})}return}}const c=Object.getOwnPropertyDescriptor(o,a);(r=(null!==r||"boolean"!=typeof this[a])&&r)===this[a]||c.get&&!c.set||(this[a]=r)})},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(r=t.$watchers$)?r:{}),...i.filter(([e,t])=>15&t[0]).map(([e,s])=>{var r;const o=s[1]||e;return n.set(o,e),512&s[0]&&(null==(r=t.$attrsToReflect$)||r.push([e,o])),o})]))}}return e},dt=async(t,n,s,r)=>{let o;if(!(32&n.$flags$)){n.$flags$|=32;if(s.$lazyBundleId$){const r=((t,n)=>{const s=t.$tagName$.replace(/-/g,"_"),r=t.$lazyBundleId$;if(!r)return;const o=x.get(r);if(o)return o[s];{const t=e=>(x.set(r,e),e[s]);switch(r){case"revo-grid":return e(()=>import("./revo-grid.entry-D9k5Noyy.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url).then(t,S);case"revogr-filter-panel":return e(()=>import("./revogr-filter-panel.entry-DHylB1W9.js"),__vite__mapDeps([7,3,4,5,6]),import.meta.url).then(t,S);case"revogr-attribution_7":return e(()=>import("./revogr-attribution_7.entry-RrEj8boj.js"),__vite__mapDeps([8,2,9,1,10,3,4,5,6]),import.meta.url).then(t,S);case"revogr-clipboard_3":return e(()=>import("./revogr-clipboard_3.entry-BAoYA0t_.js"),__vite__mapDeps([11,9,3,4,5,6]),import.meta.url).then(t,S);case"revogr-data_4":return e(()=>import("./revogr-data_4.entry-CWgSrzRj.js"),__vite__mapDeps([12,10,1,3,4,5,6]),import.meta.url).then(t,S)}}return e(()=>import(`./${r}.entry.js`),[],import.meta.url).then(e=>(x.set(r,e),e[s]),e=>{S(e,n.$hostElement$)})})(s,n);if(r&&"then"in r){const e=()=>{};o=await r,e()}else o=r;if(!o)throw new Error(`Constructor for "${s.$tagName$}#${n.$modeName$}" was not found`);o.isProxied||(s.$watchers$=o.watchers,ut(o,s,2),o.isProxied=!0);const i=(s.$tagName$,()=>{});n.$flags$|=8;try{new o(n)}catch(l){S(l,t)}n.$flags$&=-9,n.$flags$|=128,i(),ht(n.$lazyInstance$,t)}else{o=t.constructor;const e=t.localName;customElements.whenDefined(e).then(()=>n.$flags$|=128)}if(o&&o.style){let e;"string"==typeof o.style&&(e=o.style);const t=Ee(s);if(!C.has(t)){const n=(s.$tagName$,()=>{});((e,t,n)=>{let s=C.get(e);N&&n?(s=s||new CSSStyleSheet,"string"==typeof s?s=t:s.replaceSync(t)):s=t,C.set(e,s)})(t,e,!!(1&s.$flags$)),n()}}}const i=n.$ancestorComponent$,a=()=>Ke(n,!0);i&&i["s-rc"]?i["s-rc"].push(a):a()},ht=(e,t)=>{at(e,"connectedCallback",void 0,t)},ft=e=>{if(!(1&I.$flags$)){const t=y(e),n=t.$cmpMeta$,s=(n.$tagName$,()=>{});if(1&t.$flags$)vt(e,t,n.$listeners$),(null==t?void 0:t.$lazyInstance$)?ht(t.$lazyInstance$,e):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then(()=>ht(t.$lazyInstance$,e));else{let s;t.$flags$|=1,s=e.getAttribute(E),s&&((e,t,n,s)=>{var r;const o=()=>{},i=e.shadowRoot,a=[],l=[],c=oe(t,null);c.$elm$=e,Object.entries((null==(r=s.$cmpMeta$)?void 0:r.$members$)||{}).forEach(([t,[n,r]])=>{var o;if(!(31&n))return;const i=r||t,a=e.getAttribute(i);if(null!==a){const e=ye(a,n);null==(o=null==s?void 0:s.$instanceValues$)||o.set(t,e)}}),!z.document||I.$orgLocNodes$&&I.$orgLocNodes$.size||de(z.document.body,I.$orgLocNodes$=new Map),e[E]=n,e.removeAttribute(E),s.$vnode$=ue(c,a,[],null,e,e,n,l);let u=0;const d=a.length;let h;for(;u<d;u++){h=a[u];const n=h.$hostId$+"."+h.$nodeId$,s=I.$orgLocNodes$.get(n),r=h.$elm$;i||(r["s-hn"]=t.toUpperCase(),"slot"===h.$tag$&&(r["s-cr"]=e["s-cr"])),"slot"===h.$tag$&&(h.$name$=h.$elm$["s-sn"]||h.$elm$.name||null,h.$children$?(h.$flags$|=2,h.$elm$.childNodes.length||h.$children$.forEach(e=>{h.$elm$.appendChild(e.$elm$)})):h.$flags$|=1),s&&s.isConnected&&(i&&""===s["s-en"]&&s.parentNode.insertBefore(r,s.nextSibling),s.parentNode.removeChild(s),i||(r["s-oo"]=parseInt(h.$nodeId$))),I.$orgLocNodes$.delete(n)}const f=[],p=l.length;let g,m,v,$,y=0;for(;y<p;y++)if(g=l[y],g&&g.length)for(v=g.length,m=0;m<v;m++){if($=g[m],f[$.hostId]||(f[$.hostId]=I.$orgLocNodes$.get($.hostId)),!f[$.hostId])continue;const e=f[$.hostId];e.shadowRoot&&i||($.slot["s-cr"]=e["s-cr"],!$.slot["s-cr"]&&e.shadowRoot?$.slot["s-cr"]=e:$.slot["s-cr"]=(e.__childNodes||e.childNodes)[0],ee($.node,$.slot,0,$.node["s-oo"])),e.shadowRoot&&$.node.parentElement!==e&&e.appendChild($.node)}I.$orgLocNodes$.delete(e["s-id"]),s.$hostElement$=e,o()})(e,n.$tagName$,s,t),s||12&n.$flags$&&pt(e);{let n=e;for(;n=n.parentNode||n.host;)if(1===n.nodeType&&n.hasAttribute("s-id")&&n["s-p"]||n["s-p"]){qe(t,t.$ancestorComponent$=n);break}}n.$members$&&Object.entries(n.$members$).map(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}}),k(()=>dt(e,t,n))}s()}},pt=e=>{if(!z.document)return;const t=e["s-cr"]=z.document.createComment("");t["s-cn"]=!0,Xe(e,t,e.firstChild)},gt=(e,t)=>{at(e,"disconnectedCallback",void 0,t||e)},mt=(e,t={})=>{var n;if(!z.document)return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");const s=()=>{},r=[],o=t.exclude||[],i=z.customElements,a=z.document.head,l=a.querySelector("meta[charset]"),c=z.document.createElement("style"),u=[];let d,h=!0;Object.assign(I,t),I.$resourcesUrl$=new URL(t.resourcesUrl||"./",z.document.baseURI).href,I.$flags$|=2;let f=!1;if(e.map(e=>{e[1].map(t=>{var n;const s={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};4&s.$flags$&&(f=!0),s.$members$=t[2],s.$listeners$=t[3],s.$attrsToReflect$=[],s.$watchers$=null!=(n=t[4])?n:{};const a=s.$tagName$,l=class extends HTMLElement{constructor(e){super(e),this.hasRegisteredEventListeners=!1,((e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};n.$onInstancePromise$=new Promise(e=>n.$onInstanceResolve$=e),n.$onReadyPromise$=new Promise(e=>n.$onReadyResolve$=e),e["s-p"]=[],e["s-rc"]=[];const s=n;e.__stencil__getHostRef=()=>s})(e=this,s)}connectedCallback(){const e=y(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,vt(this,e,s.$listeners$)),d&&(clearTimeout(d),d=null),h?u.push(this):I.jmp(()=>ft(this))}disconnectedCallback(){I.jmp(()=>(async e=>{if(!(1&I.$flags$)){const t=y(e);t.$rmListeners$&&(t.$rmListeners$.map(e=>e()),t.$rmListeners$=void 0),(null==t?void 0:t.$lazyInstance$)?gt(t.$lazyInstance$,e):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then(()=>gt(t.$lazyInstance$,e))}xe.has(e)&&xe.delete(e),e.shadowRoot&&xe.has(e.shadowRoot)&&xe.delete(e.shadowRoot)})(this)),I.raf(()=>{var e;const t=y(this),n=u.findIndex(e=>e===this);n>-1&&u.splice(n,1),(null==(e=null==t?void 0:t.$vnode$)?void 0:e.$elm$)instanceof Node&&!t.$vnode$.$elm$.isConnected&&delete t.$vnode$.$elm$})}componentOnReady(){return y(this).$onReadyPromise$}};s.$lazyBundleId$=e[0],o.includes(a)||i.get(a)||(r.push(a),i.define(a,ut(l,s,1)))})}),r.length>0&&(f&&(c.textContent+=j),c.innerHTML.length)){c.setAttribute("data-styles","");const e=null!=(n=I.$nonce$)?n:V(z.document);null!=e&&c.setAttribute("nonce",e),a.insertBefore(c,l?l.nextSibling:a.firstChild)}h=!1,u.length?u.map(e=>e.connectedCallback()):I.jmp(()=>d=setTimeout(it,30)),s()},vt=(e,t,n,s)=>{n&&z.document&&n.map(([n,s,r])=>{const o=yt(z.document,e,n),i=$t(t,r),a=bt(n);I.ael(o,s,i,a),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>I.rel(o,s,i,a))})},$t=(e,t)=>n=>{var s;try{256&e.$flags$?null==(s=e.$lazyInstance$)||s[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(r){S(r,e.$hostElement$)}},yt=(e,t,n)=>4&n?e:t,bt=e=>T?{passive:!!(1&e),capture:!!(2&e)}:!!(2&e);const wt=
/*!
 * Built by Revolist OU ❤️
 */
function(){};
/*!
 * Built by Revolist OU ❤️
 */
/*!
 * Built by Revolist OU ❤️
 */
!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();
/*!
 * Built by Revolist OU ❤️
 */
var St="object"==typeof global&&global&&global.Object===Object&&global,xt="object"==typeof self&&self&&self.Object===Object&&self,Ct=St||xt||Function("return this")(),Et=Ct.Symbol,Ot=Object.prototype,jt=Ot.hasOwnProperty,Rt=Ot.toString,zt=Et?Et.toStringTag:void 0;var It=Object.prototype.toString;var _t=Et?Et.toStringTag:void 0;function Tt(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_t&&_t in Object(e)?function(e){var t=jt.call(e,zt),n=e[zt];try{e[zt]=void 0;var s=!0}catch(o){}var r=Rt.call(e);return s&&(t?e[zt]=n:delete e[zt]),r}(e):function(e){return It.call(e)}(e)}function Nt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Dt(e){return null!=e&&"object"==typeof e}function Lt(e){return"symbol"==typeof e||Dt(e)&&"[object Symbol]"==Tt(e)}var Pt=/\s/;var At=/^\s+/;function Ft(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Pt.test(e.charAt(t)););return t}(e)+1).replace(At,""):e}var Mt=/^[-+]0x[0-9a-f]+$/i,kt=/^0b[01]+$/i,Bt=/^0o[0-7]+$/i,Ht=parseInt;function Vt(e){if("number"==typeof e)return e;if(Lt(e))return NaN;if(Nt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Nt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ft(e);var n=kt.test(e);return n||Bt.test(e)?Ht(e.slice(2),n?2:8):Mt.test(e)?NaN:+e}var Wt=function(){return Ct.Date.now()},Ut=Math.max,Gt=Math.min;function Xt(e,t,n){var s,r,o,i,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=s,o=r;return s=r=void 0,c=t,i=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function g(){var e=Wt();if(p(e))return m(e);a=setTimeout(g,function(e){var n=t-(e-l);return d?Gt(n,o-(e-c)):n}(e))}function m(e){return a=void 0,h&&s?f(e):(s=r=void 0,i)}function v(){var e=Wt(),n=p(e);if(s=arguments,r=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(g,t),u?f(e):i}(l);if(d)return clearTimeout(a),a=setTimeout(g,t),f(l)}return void 0===a&&(a=setTimeout(g,t)),i}return t=Vt(t)||0,Nt(n)&&(u=!!n.leading,o=(d="maxWait"in n)?Ut(Vt(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,s=l=r=a=void 0},v.flush=function(){return void 0===a?i:m(Wt())},v}
/*!
 * Built by Revolist OU ❤️
 */function Yt(e,t){return e===t||e!=e&&t!=t}function qt(e,t){for(var n=e.length;n--;)if(Yt(e[n][0],t))return n;return-1}var Kt=Array.prototype.splice;function Jt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Jt.prototype.clear=function(){this.__data__=[],this.size=0},Jt.prototype.delete=function(e){var t=this.__data__,n=qt(t,e);return!(n<0)&&(n==t.length-1?t.pop():Kt.call(t,n,1),--this.size,!0)},Jt.prototype.get=function(e){var t=this.__data__,n=qt(t,e);return n<0?void 0:t[n][1]},Jt.prototype.has=function(e){return qt(this.__data__,e)>-1},Jt.prototype.set=function(e,t){var n=this.__data__,s=qt(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this};function Zt(e){if(!Nt(e))return!1;var t=Tt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Qt,en=Ct["__core-js_shared__"],tn=(Qt=/[^.]+$/.exec(en&&en.keys&&en.keys.IE_PROTO||""))?"Symbol(src)_1."+Qt:"";var nn=Function.prototype.toString;function sn(e){if(null!=e){try{return nn.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var rn=/^\[object .+?Constructor\]$/,on=Function.prototype,an=Object.prototype,ln=on.toString,cn=an.hasOwnProperty,un=RegExp("^"+ln.call(cn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dn(e){return!(!Nt(e)||(t=e,tn&&tn in t))&&(Zt(e)?un:rn).test(sn(e));var t}function hn(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return dn(n)?n:void 0}var fn=hn(Ct,"Map"),pn=hn(Object,"create");var gn=Object.prototype.hasOwnProperty;var mn=Object.prototype.hasOwnProperty;function vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function $n(e,t){var n,s,r=e.__data__;return("string"==(s=typeof(n=t))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}vn.prototype.clear=function(){this.__data__=pn?pn(null):{},this.size=0},vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vn.prototype.get=function(e){var t=this.__data__;if(pn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return gn.call(t,e)?t[e]:void 0},vn.prototype.has=function(e){var t=this.__data__;return pn?void 0!==t[e]:mn.call(t,e)},vn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pn&&void 0===t?"__lodash_hash_undefined__":t,this},yn.prototype.clear=function(){this.size=0,this.__data__={hash:new vn,map:new(fn||Jt),string:new vn}},yn.prototype.delete=function(e){var t=$n(this,e).delete(e);return this.size-=t?1:0,t},yn.prototype.get=function(e){return $n(this,e).get(e)},yn.prototype.has=function(e){return $n(this,e).has(e)},yn.prototype.set=function(e,t){var n=$n(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this};function bn(e){var t=this.__data__=new Jt(e);this.size=t.size}bn.prototype.clear=function(){this.__data__=new Jt,this.size=0},bn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},bn.prototype.get=function(e){return this.__data__.get(e)},bn.prototype.has=function(e){return this.__data__.has(e)},bn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Jt){var s=n.__data__;if(!fn||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new yn(s)}return n.set(e,t),this.size=n.size,this};function wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new yn;++t<n;)this.add(e[t])}function Sn(e,t){for(var n=-1,s=null==e?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}wn.prototype.add=wn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},wn.prototype.has=function(e){return this.__data__.has(e)};function xn(e,t,n,s,r,o){var i=1&n,a=e.length,l=t.length;if(a!=l&&!(i&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=2&n?new wn:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var p=e[d],g=t[d];if(s)var m=i?s(g,p,d,t,e,o):s(p,g,d,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!Sn(t,function(e,t){if(i=t,!f.has(i)&&(p===e||r(p,e,n,s,o)))return f.push(t);var i})){h=!1;break}}else if(p!==g&&!r(p,g,n,s,o)){h=!1;break}}return o.delete(e),o.delete(t),h}var Cn=Ct.Uint8Array;function En(e){var t=-1,n=Array(e.size);return e.forEach(function(e,s){n[++t]=[s,e]}),n}function On(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var jn=Et?Et.prototype:void 0,Rn=jn?jn.valueOf:void 0;var zn=Array.isArray;var In=Object.prototype.propertyIsEnumerable,_n=Object.getOwnPropertySymbols,Tn=_n?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,s=null==e?0:e.length,r=0,o=[];++n<s;){var i=e[n];t(i,n,e)&&(o[r++]=i)}return o}(_n(e),function(t){return In.call(e,t)}))}:function(){return[]};function Nn(e){return Dt(e)&&"[object Arguments]"==Tt(e)}var Dn=Object.prototype,Ln=Dn.hasOwnProperty,Pn=Dn.propertyIsEnumerable,An=Nn(function(){return arguments}())?Nn:function(e){return Dt(e)&&Ln.call(e,"callee")&&!Pn.call(e,"callee")};var Fn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Mn=Fn&&"object"==typeof module&&module&&!module.nodeType&&module,kn=Mn&&Mn.exports===Fn?Ct.Buffer:void 0,Bn=(kn?kn.isBuffer:void 0)||function(){return!1},Hn=/^(?:0|[1-9]\d*)$/;function Vn(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Hn.test(e))&&e>-1&&e%1==0&&e<t}function Wn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var Un={};Un["[object Float32Array]"]=Un["[object Float64Array]"]=Un["[object Int8Array]"]=Un["[object Int16Array]"]=Un["[object Int32Array]"]=Un["[object Uint8Array]"]=Un["[object Uint8ClampedArray]"]=Un["[object Uint16Array]"]=Un["[object Uint32Array]"]=!0,Un["[object Arguments]"]=Un["[object Array]"]=Un["[object ArrayBuffer]"]=Un["[object Boolean]"]=Un["[object DataView]"]=Un["[object Date]"]=Un["[object Error]"]=Un["[object Function]"]=Un["[object Map]"]=Un["[object Number]"]=Un["[object Object]"]=Un["[object RegExp]"]=Un["[object Set]"]=Un["[object String]"]=Un["[object WeakMap]"]=!1;var Gn,Xn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Yn=Xn&&"object"==typeof module&&module&&!module.nodeType&&module,qn=Yn&&Yn.exports===Xn&&St.process,Kn=function(){try{var e=Yn&&Yn.require&&Yn.require("util").types;return e||qn&&qn.binding&&qn.binding("util")}catch(t){}}(),Jn=Kn&&Kn.isTypedArray,Zn=Jn?(Gn=Jn,function(e){return Gn(e)}):function(e){return Dt(e)&&Wn(e.length)&&!!Un[Tt(e)]},Qn=Object.prototype.hasOwnProperty;function es(e,t){var n=zn(e),s=!n&&An(e),r=!n&&!s&&Bn(e),o=!n&&!s&&!r&&Zn(e),i=n||s||r||o,a=i?function(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}(e.length,String):[],l=a.length;for(var c in e)!Qn.call(e,c)||i&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Vn(c,l))||a.push(c);return a}var ts=Object.prototype;var ns=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ss=Object.prototype.hasOwnProperty;function rs(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||ts))return ns(e);var t,n,s=[];for(var r in Object(e))ss.call(e,r)&&"constructor"!=r&&s.push(r);return s}function os(e){return null!=e&&Wn(e.length)&&!Zt(e)}function is(e){return os(e)?es(e):rs(e)}function as(e){return function(e,t,n){var s=t(e);return zn(e)?s:function(e,t){for(var n=-1,s=t.length,r=e.length;++n<s;)e[r+n]=t[n];return e}(s,n(e))}(e,is,Tn)}var ls=Object.prototype.hasOwnProperty;var cs=hn(Ct,"DataView"),us=hn(Ct,"Promise"),ds=hn(Ct,"Set"),hs=hn(Ct,"WeakMap"),fs="[object Map]",ps="[object Promise]",gs="[object Set]",ms="[object WeakMap]",vs="[object DataView]",$s=sn(cs),ys=sn(fn),bs=sn(us),ws=sn(ds),Ss=sn(hs),xs=Tt;(cs&&xs(new cs(new ArrayBuffer(1)))!=vs||fn&&xs(new fn)!=fs||us&&xs(us.resolve())!=ps||ds&&xs(new ds)!=gs||hs&&xs(new hs)!=ms)&&(xs=function(e){var t=Tt(e),n="[object Object]"==t?e.constructor:void 0,s=n?sn(n):"";if(s)switch(s){case $s:return vs;case ys:return fs;case bs:return ps;case ws:return gs;case Ss:return ms}return t});var Cs="[object Arguments]",Es="[object Array]",Os="[object Object]",js=Object.prototype.hasOwnProperty;function Rs(e,t,n,s,r,o){var i=zn(e),a=zn(t),l=i?Es:xs(e),c=a?Es:xs(t),u=(l=l==Cs?Os:l)==Os,d=(c=c==Cs?Os:c)==Os,h=l==c;if(h&&Bn(e)){if(!Bn(t))return!1;i=!0,u=!1}if(h&&!u)return o||(o=new bn),i||Zn(e)?xn(e,t,n,s,r,o):function(e,t,n,s,r,o,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Cn(e),new Cn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Yt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=En;case"[object Set]":var l=1&s;if(a||(a=On),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;s|=2,i.set(e,t);var u=xn(a(e),a(t),s,r,o,i);return i.delete(e),u;case"[object Symbol]":if(Rn)return Rn.call(e)==Rn.call(t)}return!1}(e,t,l,n,s,r,o);if(!(1&n)){var f=u&&js.call(e,"__wrapped__"),p=d&&js.call(t,"__wrapped__");if(f||p){var g=f?e.value():e,m=p?t.value():t;return o||(o=new bn),r(g,m,n,s,o)}}return!!h&&(o||(o=new bn),function(e,t,n,s,r,o){var i=1&n,a=as(e),l=a.length;if(l!=as(t).length&&!i)return!1;for(var c=l;c--;){var u=a[c];if(!(i?u in t:ls.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=i;++c<l;){var g=e[u=a[c]],m=t[u];if(s)var v=i?s(m,g,u,t,e,o):s(g,m,u,e,t,o);if(!(void 0===v?g===m||r(g,m,n,s,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var $=e.constructor,y=t.constructor;$==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof $&&$ instanceof $&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,s,r,o))}function zs(e,t,n,s,r){return e===t||(null==e||null==t||!Dt(e)&&!Dt(t)?e!=e&&t!=t:Rs(e,t,n,s,zs,r))}function Is(e){return e==e&&!Nt(e)}function _s(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Ts(e){var t=function(e){for(var t=is(e),n=t.length;n--;){var s=t[n],r=e[s];t[n]=[s,r,Is(r)]}return t}(e);return 1==t.length&&t[0][2]?_s(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,s){var r=n.length,o=r;if(null==e)return!o;for(e=Object(e);r--;){var i=n[r];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++r<o;){var a=(i=n[r])[0],l=e[a],c=i[1];if(i[2]){if(void 0===l&&!(a in e))return!1}else if(!zs(c,l,3,s,new bn))return!1}return!0}(n,0,t)}}var Ns=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ds=/^\w*$/;function Ls(e,t){if(zn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Lt(e))||(Ds.test(e)||!Ns.test(e)||null!=t&&e in Object(t))}function Ps(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var s=arguments,r=t?t.apply(this,s):s[0],o=n.cache;if(o.has(r))return o.get(r);var i=e.apply(this,s);return n.cache=o.set(r,i)||o,i};return n.cache=new(Ps.Cache||yn),n}Ps.Cache=yn;var As=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fs=/\\(\\)?/g,Ms=function(e){var t=Ps(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(As,function(e,n,s,r){t.push(s?r.replace(Fs,"$1"):n||e)}),t});var ks=Et?Et.prototype:void 0,Bs=ks?ks.toString:void 0;function Hs(e){if("string"==typeof e)return e;if(zn(e))return function(e,t){for(var n=-1,s=null==e?0:e.length,r=Array(s);++n<s;)r[n]=t(e[n],n,e);return r}(e,Hs)+"";if(Lt(e))return Bs?Bs.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Vs(e,t){return zn(e)?e:Ls(e,t)?[e]:Ms(function(e){return null==e?"":Hs(e)}(e))}function Ws(e){if("string"==typeof e||Lt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Us(e,t){for(var n=0,s=(t=Vs(t,e)).length;null!=e&&n<s;)e=e[Ws(t[n++])];return n&&n==s?e:void 0}function Gs(e,t){return null!=e&&t in Object(e)}function Xs(e,t){return null!=e&&function(e,t,n){for(var s=-1,r=(t=Vs(t,e)).length,o=!1;++s<r;){var i=Ws(t[s]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++s!=r?o:!!(r=null==e?0:e.length)&&Wn(r)&&Vn(i,r)&&(zn(e)||An(e))}(e,t,Gs)}function Ys(e,t){return Ls(e)&&Is(t)?_s(Ws(e),t):function(n){var s=function(e,t,n){var s=null==e?void 0:Us(e,t);return void 0===s?n:s}(n,e);return void 0===s&&s===t?Xs(n,e):zs(t,s,3)}}function qs(e){return e}function Ks(e){return function(t){return null==t?void 0:t[e]}}function Js(e){return Ls(e)?Ks(Ws(e)):function(e){return function(t){return Us(t,e)}}(e)}function Zs(e){return"function"==typeof e?e:null==e?qs:"object"==typeof e?zn(e)?Ys(e[0],e[1]):Ts(e):Js(e)}var Qs=1/0;function er(e){return e?(e=Vt(e))===Qs||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}var tr=Math.ceil,nr=Math.max;function sr(e,t,n){if(!Nt(n))return!1;var s=typeof t;return!!("number"==s?os(n)&&Vn(t,n.length):"string"==s&&t in n)&&Yt(n[t],e)}var rr=function(e,t,n){return n&&"number"!=typeof n&&sr(e,t,n)&&(t=n=void 0),e=er(e),void 0===t?(t=e,e=0):t=er(t),function(e,t,n){for(var s=-1,r=nr(tr((t-e)/(n||1)),0),o=Array(r);r--;)o[++s]=e,e+=n;return o}(e,t,n=void 0===n?e<t?1:-1:er(n))};const or=e=>!("isConnected"in e)||e.isConnected,ir=((e,t)=>{let n;return(...s)=>{n&&clearTimeout(n),n=setTimeout(()=>{n=0,e(...s)},t)}})(e=>{for(let t of e.keys())e.set(t,e.get(t).filter(or))},2e3),ar=e=>"function"==typeof e?e():e,lr=(e,t)=>{const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.length--)},cr=(e,t)=>{const n=((e,t=(e,t)=>e!==t)=>{const n=ar(e);let s=new Map(Object.entries(n??{}));const r={dispose:[],get:[],set:[],reset:[]},o=()=>{s=new Map(Object.entries(ar(e)??{})),r.reset.forEach(e=>e())},i=e=>(r.get.forEach(t=>t(e)),s.get(e)),a=(e,n)=>{const o=s.get(e);t(n,o,e)&&(s.set(e,n),r.set.forEach(t=>t(e,n,o)))},l="undefined"==typeof Proxy?{}:new Proxy(n,{get:(e,t)=>i(t),ownKeys:e=>Array.from(s.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>s.has(t),set:(e,t,n)=>(a(t,n),!0)}),c=(e,t)=>(r[e].push(t),()=>{lr(r[e],t)});return{state:l,get:i,set:a,on:c,onChange:(t,n)=>{const s=c("set",(e,s)=>{e===t&&n(s)}),r=c("reset",()=>n(ar(e)[t]));return()=>{s(),r()}},use:(...e)=>{const t=e.reduce((e,t)=>(t.set&&e.push(c("set",t.set)),t.get&&e.push(c("get",t.get)),t.reset&&e.push(c("reset",t.reset)),t.dispose&&e.push(c("dispose",t.dispose)),e),[]);return()=>t.forEach(e=>e())},dispose:()=>{r.dispose.forEach(e=>e()),o()},reset:o,forceUpdate:e=>{const t=s.get(e);r.set.forEach(n=>n(e,t,t))}}})(e,t);return n.use((()=>{const e=new Map;return{dispose:()=>e.clear(),get:t=>{const n=st();n&&((e,t,n)=>{const s=e.get(t);s?s.includes(n)||s.push(n):e.set(t,[n])})(e,t,n)},set:t=>{const n=e.get(t);n&&e.set(t,n.filter(ot)),ir(e)},reset:()=>{e.forEach(e=>e.forEach(ot)),ir(e)}}})()),n};function ur(e){const t={};for(let n in e)for(let s in e[n])t[s]=t[s]||e[n][s];return t}function dr(e,t){Object.entries(t).forEach(([t,n])=>{e.set(t,n)})}const hr=30,fr=40,pr="data-rgCol",gr="data-rgRow",mr="disabled",vr="rgCell",$r="rowHeaders",yr="rgHeaderCell",br="sortable",wr="header-rgRow",Sr="actual-rgRow",xr="revo-drag-icon",Cr="revo-draggable",Er="focused-cell",Or="selection-border-range",jr="mobile-handler",Rr="temp-bg-range",zr="autofill-handle",Ir="edit-input-wrapper",_r="Draggable item",Tr="__rvgr",Nr="focused-rgRow";var Dr,Lr,Pr,Ar,Fr,Mr,kr;function Br(e){const t=e.createElement("div");t.style.overflow="scroll",t.style.visibility="hidden",t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",e.body.appendChild(t);const n=t.offsetWidth-t.clientWidth;return e.body.removeChild(t),n}function Hr(e,t,n){return(n[1]-n[0])*(e-t[0])/(t[1]-t[0])+n[0]}async function Vr(e=0){await new Promise(t=>{setTimeout(()=>t(),e)})}(Lr=Dr||(Dr={}))[Lr.MOUSE_LEFT=1]="MOUSE_LEFT",Lr[Lr.MOUSE_RIGHT=3]="MOUSE_RIGHT",Lr[Lr.MOUSE_MIDDLE=2]="MOUSE_MIDDLE",Lr[Lr.BACKSPACE=8]="BACKSPACE",Lr[Lr.COMMA=188]="COMMA",Lr[Lr.INSERT=45]="INSERT",Lr[Lr.DELETE=46]="DELETE",Lr[Lr.END=35]="END",Lr[Lr.ENTER=13]="ENTER",Lr[Lr.ESCAPE=27]="ESCAPE",Lr[Lr.CONTROL=17]="CONTROL",Lr[Lr.COMMAND_LEFT=91]="COMMAND_LEFT",Lr[Lr.COMMAND_RIGHT=93]="COMMAND_RIGHT",Lr[Lr.COMMAND_FIREFOX=224]="COMMAND_FIREFOX",Lr[Lr.ALT=18]="ALT",Lr[Lr.HOME=36]="HOME",Lr[Lr.PAGE_DOWN=34]="PAGE_DOWN",Lr[Lr.PAGE_UP=33]="PAGE_UP",Lr[Lr.PERIOD=190]="PERIOD",Lr[Lr.SPACE=32]="SPACE",Lr[Lr.SHIFT=16]="SHIFT",Lr[Lr.CAPS_LOCK=20]="CAPS_LOCK",Lr[Lr.TAB=9]="TAB",Lr[Lr.ARROW_RIGHT=39]="ARROW_RIGHT",Lr[Lr.ARROW_LEFT=37]="ARROW_LEFT",Lr[Lr.ARROW_UP=38]="ARROW_UP",Lr[Lr.ARROW_DOWN=40]="ARROW_DOWN",Lr[Lr.F1=112]="F1",Lr[Lr.F2=113]="F2",Lr[Lr.F3=114]="F3",Lr[Lr.F4=115]="F4",Lr[Lr.F5=116]="F5",Lr[Lr.F6=117]="F6",Lr[Lr.F7=118]="F7",Lr[Lr.F8=119]="F8",Lr[Lr.F9=120]="F9",Lr[Lr.F10=121]="F10",Lr[Lr.F11=122]="F11",Lr[Lr.F12=123]="F12",Lr[Lr.A=65]="A",Lr[Lr.C=67]="C",Lr[Lr.D=68]="D",Lr[Lr.F=70]="F",Lr[Lr.L=76]="L",Lr[Lr.O=79]="O",Lr[Lr.P=80]="P",Lr[Lr.S=83]="S",Lr[Lr.V=86]="V",Lr[Lr.X=88]="X",(Ar=Pr||(Pr={})).ENTER="Enter",Ar.ENTER_NUM="NumpadEnter",Ar.A="KeyA",Ar.C="KeyC",Ar.X="KeyX",Ar.V="KeyV",Ar.ESCAPE="Escape",Ar.TAB="Tab",Ar.BACKSPACE="Backspace",Ar.DELETE="Delete",Ar.ARROW_RIGHT="ArrowRight",Ar.ARROW_LEFT="ArrowLeft",Ar.ARROW_UP="ArrowUp",Ar.ARROW_DOWN="ArrowDown",Ar.SHIFT="Shift",(Mr=Fr||(Fr={})).ENTER="Enter",Mr.TAB="Tab",(kr||(kr={})).mac="Mac";class Wr{get store(){return this.dataStore}constructor(e,t){const n=this.dataStore=cr(Object.assign({items:[],proxyItems:[],source:[],groupingDepth:0,groups:{},type:e,trimmed:{},groupingCustomRenderer:void 0},t));n.use((e=>({set(t,n){if("proxyItems"!==t)return;const s=e.get("items").reduce((e,t)=>(e.add(t),e),new Set),r=n.reduce((e,t)=>(s.has(t)&&e.push(t),e),[]);e.set("items",r)}}))(n)),n.use((e=>({set(t,n){switch(t){case"trimmed":{const t=e.get("proxyItems"),s=ur(n),r=t.filter(e=>!s[e]);e.set("items",r);break}}}}))(n))}updateData(e,t,n=!1){n||this.store.set("trimmed",{}),this.store.set("items",[]);const s=rr(0,(null==e?void 0:e.length)||0);dr(this.store,{source:e,proxyItems:[...s]}),this.store.set("items",s),t&&dr(this.store,{groupingDepth:t.depth,groups:t.groups,groupingCustomRenderer:t.customRenderer})}addTrimmed(e){let t=this.store.get("trimmed");t=Object.assign(Object.assign({},t),e),dr(this.store,{trimmed:t})}setSourceData(e,t=!0){Yr(this.store,e,t)}setData(e){const t=Object.assign({},e);dr(this.store,t)}refresh(){const e=this.store.get("source");this.store.set("source",[...e])}}function Ur(e){const t=e.get("source");return e.get("items").map(e=>t[e])}const Gr=(e,t)=>e.get("source")[Xr(e,t)],Xr=(e,t)=>e.get("items")[t];function Yr(e,t,n=!0){const s=e.get("items"),r=e.get("source");for(let o in t){const e=s[o],n=t[o];r[e]=n}n&&e.set("source",[...r])}function qr(e,t,n=!0){const s=e.get("source");for(let r in t)s[r]=t[r];n&&e.set("source",[...s])}function Kr(e,t){const n=e.get("items"),s=e.get("source"),r=(i={prop:t},null!=(o=s)&&o.length?function(e,t,n){for(var s=e.length,r=n+-1;++r<s;)if(t(e[r],r,e))return r;return-1}(o,Zs(i),0):-1);var o,i;return n.indexOf(r)}var Jr=Math.floor,Zr=Math.min;function Qr(e,t,n){var s=0,r=null==e?s:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;s<r;){var o=s+r>>>1,i=e[o];null!==i&&!Lt(i)&&i<t?s=o+1:r=o}return r}return function(e,t,n){var s=0,r=null==e?0:e.length;if(0===r)return 0;for(var o=(t=n(t))!=t,i=null===t,a=Lt(t),l=void 0===t;s<r;){var c=Jr((s+r)/2),u=n(e[c]),d=void 0!==u,h=null===u,f=u==u,p=Lt(u);if(o)var g=f;else g=l?f&&d:i?f&&d&&!h:a?f&&d&&!h&&!p:!h&&!p&&u<t;g?s=c+1:r=c}return Zr(r,4294967294)}(e,t,qs)}function eo(e,t){return Qr(e,t)}const to=({indexes:e,positionIndexes:t,originItemSize:n,positionIndexToItem:s},r)=>{const o={itemIndex:0,start:0,end:0},i=e.length?eo(t,r):0;if(!i)return o.itemIndex=Math.floor(r/n),o.start=o.itemIndex*n,o.end=o.start+n,o;const a=s[i-1];if(a.end>r)return a;const l=r-a.end,c=Math.floor(l/n);return o.itemIndex=a.itemIndex+1+c,o.start=a.end+c*n,o.end=o.start+n,o};function no(e,t){let n={itemIndex:t,start:0,end:0};if(e.indexToItem[t])return e.indexToItem[t];const s=e.indexes.length?eo(e.indexes,t):0;if(!s)return n.start=n.itemIndex*e.originItemSize,n.end=n.start+e.originItemSize,n;const r=e.indexToItem[e.indexes[s-1]];return n.start=r.end+(t-r.itemIndex-1)*e.originItemSize,n.end=n.start+e.originItemSize,n}
/*!
 * Built by Revolist OU ❤️
 */function so(e){var t=er(e),n=t%1;return t==t?n?t-n:t:0}function ro(e,t,n,s){var r=-1,o=null==e?0:e.length;for(s&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}var oo=function(e,t,n){for(var s=-1,r=Object(e),o=n(e),i=o.length;i--;){var a=o[++s];if(!1===t(r[a],a,r))break}return e};var io,ao=(io=function(e,t){return e&&oo(e,t,is)},function(e,t){if(null==e)return e;if(!os(e))return io(e,t);for(var n=e.length,s=-1,r=Object(e);++s<n&&!1!==t(r[s],s,r););return e});function lo(e,t,n,s,r){return r(e,function(e,r,o){n=s?(s=!1,e):t(n,e,r,o)}),n}function co(e,t,n){var s=zn(e)?ro:lo,r=arguments.length<3;return s(e,Zs(t),n,r,ao)}function uo(e){return null==e?"":e}function ho(e={},t){if(t)return t.cellParser?t.cellParser(e,t):e[t.prop]}function fo(e,t){return uo(ho(e,t))}function po(e){return e.pin?e.pin:"rgCol"}function go(e){const t={};for(const[n,s]of e.entries())s.size&&(t[n]=s.size);return t}function mo(e){return!!e.children}function vo(e,t=0,n){return co(e,(e,s)=>{if(mo(s))return e=function(e,t,n,s=0){const r=Object.assign(Object.assign({},t),{level:s,indexes:[]});Ro.forEach(t=>{const s=e.columns[t],o=n.columns[t];if(zn(s)&&zn(o)){const n=o.length;if(n){const i=s.length;s.push(...o),e.columnGrouping[t].push(Object.assign(Object.assign({},r),{indexes:Array(n).fill(i).map((e,t)=>e+t)}))}}});for(let o in n.columnGrouping){const t=o,s=n.columnGrouping[t];e.columnGrouping[t].push(...s)}return e.maxLevel=Math.max(e.maxLevel,n.maxLevel),e.sort=Object.assign(Object.assign({},e.sort),n.sort),e.columnByProp=Object.assign(Object.assign({},e.columnByProp),n.columnByProp),e}(e,s,vo(s.children,t+1,n),t),e;const r=s.columnType&&(null==n?void 0:n[s.columnType]),o=Object.assign(Object.assign({},r),s);return o.pin?e.columns[o.pin].push(o):e.columns.rgCol.push(o),o.order&&(e.sort[o.prop]=o),e.columnByProp[o.prop]||(e.columnByProp[o.prop]=[]),e.columnByProp[o.prop].push(o),o.beforeSetup&&o.beforeSetup(o),e},{columns:{rgCol:[],colPinStart:[],colPinEnd:[]},columnByProp:{},columnGrouping:{rgCol:[],colPinStart:[],colPinEnd:[]},maxLevel:t,sort:{}})}function $o(e,t){for(const n of e)if(mo(n)){const e=$o(n.children,t);if(e)return e}else if(n.prop===t)return n}function yo(e,t){return $o(e,t)}class bo{constructor(){this.unsubscribe=[],this.store=cr({range:null,tempRange:null,tempRangeType:null,focus:null,edit:null,lastCell:null,nextFocus:null}),this.store.on("set",(e,t)=>{"tempRange"!==e||t||this.store.set("tempRangeType",null)})}onChange(e,t){this.unsubscribe.push(this.store.onChange(e,t))}clearFocus(){dr(this.store,{focus:null,range:null,edit:null,tempRange:null})}setFocus(e,t){dr(this.store,t?{focus:e,range:Eo(e,t),edit:null,tempRange:null}:{focus:e})}setNextFocus(e){dr(this.store,{nextFocus:e})}setTempArea(e){dr(this.store,{tempRange:null==e?void 0:e.area,tempRangeType:null==e?void 0:e.type,edit:null})}clearTemp(){dr(this.store,{tempRange:null})}setRangeArea(e){dr(this.store,{range:e,edit:null,tempRange:null})}setRange(e,t){const n=Eo(e,t);this.setRangeArea(n)}setLastCell(e){dr(this.store,{lastCell:e})}setEdit(e){const t=this.store.get("focus");dr(this.store,t&&"string"==typeof e?{edit:{x:t.x,y:t.y,val:e}}:{edit:null})}dispose(){this.unsubscribe.forEach(e=>e()),this.store.dispose()}}const wo=-1;class So{constructor(){this.dirty=!1,this.stores={},this.columnStores={},this.rowStores={},this.storesByType={},this.storesXToType={},this.storesYToType={},this.sections=[]}get focusedStore(){var e;for(let t in this.stores)for(let n in this.stores[t]){const s=null===(e=this.stores[t][n])||void 0===e?void 0:e.store.get("focus");if(s)return{entity:this.stores[t][n],cell:s,position:{x:parseInt(n,10),y:parseInt(t,10)}}}return null}get edit(){var e;return null===(e=this.focusedStore)||void 0===e?void 0:e.entity.store.get("edit")}get focused(){var e;return null===(e=this.focusedStore)||void 0===e?void 0:e.entity.store.get("focus")}get selectedRange(){var e;return null===(e=this.focusedStore)||void 0===e?void 0:e.entity.store.get("range")}registerSection(e){if(!e)return this.sections.length=0,void(this.dirty=!0);-1===this.sections.indexOf(e)&&this.sections.push(e)}beforeUpdate(){if(this.dirty){for(let e in this.stores)for(let t in this.stores[e])this.stores[e][t].dispose();this.dirty=!1}}registerColumn(e,t){return xo(e)?new bo:(this.columnStores[e]||(this.columnStores[e]=new bo,this.storesByType[t]=e,this.storesXToType[e]=t),this.columnStores[e])}registerRow(e,t){return xo(e)?new bo:(this.rowStores[e]||(this.rowStores[e]=new bo,this.storesByType[t]=e,this.storesYToType[e]=t),this.rowStores[e])}register({x:e,y:t}){var n,s;return xo(e)||xo(t)?new bo:(this.stores[t]||(this.stores[t]={}),this.stores[t][e]||(this.stores[t][e]=new bo,null===(n=this.stores[t][e])||void 0===n||n.onChange("range",n=>{this.columnStores[e].setRangeArea(n),this.rowStores[t].setRangeArea(n)}),null===(s=this.stores[t][e])||void 0===s||s.store.on("dispose",()=>this.destroy(e,t))),this.stores[t][e])}destroy(e,t){var n,s;if(null===(n=this.columnStores[e])||void 0===n||n.dispose(),null===(s=this.rowStores[t])||void 0===s||s.dispose(),delete this.rowStores[t],delete this.columnStores[e],this.storesXToType[e]){const t=this.storesXToType[e];delete this.storesXToType[e],delete this.storesByType[t]}if(this.storesYToType[t]){const e=this.storesYToType[t];delete this.storesYToType[t],delete this.storesByType[e]}this.stores[t]&&delete this.stores[t][e],Object.keys(this.stores[t]||{}).length||delete this.stores[t]}setEditByCell(e,t){this.focusByCell(e,t,t),this.setEdit("")}beforeNextFocusCell(e){var t;if(!this.focusedStore)return;const n=this.focusedStore.entity.store.get("lastCell"),s=n&&this.getNextStore(e,this.focusedStore.position,n);null===(t=null==s?void 0:s.store)||void 0===t||t.setNextFocus(Object.assign(Object.assign({},e),s.item))}focusByCell(e,t,n){const s=this.stores[e.y][e.x];this.focus(s,{focus:t,end:n})}focus(e,{focus:t,end:n}){const s=this.getCurrentStorePointer(e);if(!s)return null;const r=e.store.get("lastCell"),o=r&&this.getNextStore(t,s,r);if(null==o?void 0:o.store){const e=Object.assign(Object.assign({},t),o.item);return this.focus(o.store,{focus:e,end:e}),null}return r&&(t=Co(t,r),n=Co(n,r)),e.setFocus(t,n),t}getCurrentStorePointer(e){let t;for(let n in this.stores)for(let s in this.stores[n]){const r=this.stores[n][s];r!==e?r.clearFocus():t={x:parseInt(s,10),y:parseInt(n,10)}}return t}getNextStore(e,t,n){const s=function(e,t){const n={};let s=["x","y"];for(let r of s)if(e[r]<0)return n[r]=e[r],n;for(let r of s)if(e[r]>=t[r])return n[r]=e[r]-t[r],n;return null}(e,n);let r;return s&&Object.entries(s).forEach(([e,n])=>{let o;switch(e){case"x":o=this.getXStores(t.y);break;case"y":o=this.getYStores(t.x)}if(n>=0)r=o[++t[e]];else{r=o[--t[e]];const i=null==r?void 0:r.store.get("lastCell");i&&(s[e]=i[e]+n)}}),{store:r,item:s}}clearAll(){var e;for(let t in this.stores)for(let n in this.stores[t])null===(e=this.stores[t][n])||void 0===e||e.clearFocus()}setEdit(e){this.focusedStore&&this.focusedStore.entity.setEdit(e)}selectAll(){for(let e in this.stores)for(let t in this.stores[e]){const n=this.stores[e][t];if(!n)continue;const s=n.store.get("lastCell");s&&n.setRange({x:0,y:0},{x:s.x-1,y:s.y-1})}}getXStores(e){return this.stores[e]}getYStores(e){const t={};for(let n in this.stores)t[n]=this.stores[n][e];return t}}function xo(e){return-1===e}function Co(e,t){const n=Object.assign({},e),s=["x","y"];for(const r of s)e[r]<0?n[r]=0:e[r]>=t[r]&&(n[r]=t[r]-1);return n}function Eo(e,t){return e&&t?{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x1:Math.max(e.x,t.x),y1:Math.max(e.y,t.y)}:null}function Oo(e){return e.x===e.x1&&e.y===e.y1}const jo=["rowPinStart","rgRow","rowPinEnd"],Ro=["colPinStart","rgCol","colPinEnd"];function zo(e){return jo.indexOf(e)>-1}const Io=`${Tr}-depth`,_o=`${Tr}-name`,To=`${Tr}-id`,No=`${Tr}-value`,Do=`${Tr}-column`,Lo=`${Tr}-expanded`,Po=`${Tr}-prop`,Ao=`${Tr}-original-index`,Fo="group-expand",Mo="groupexpandclick",ko="rgRow";function Bo(e,t){return e[t]||null}function Ho(e,t,n=!1){let s=0;const r={source:[],prevExpanded:{},oldNewIndexes:{}};return t.forEach(t=>{const o=e[t];n?Go(o)?Vo(o)&&(r.prevExpanded[o[No]]=!0):(r.source.push(o),r.oldNewIndexes[t]=s,s++):r.source.push(o)}),r}function Vo(e={}){return e[Lo]}function Wo({groupedValues:e,parentIds:t,isExpanded:n,itemIndex:s,expandedAll:r,prevExpanded:o,columnProps:i}){const a=t.length,l=[];let c={},u={};return e.forEach((e,d)=>{const h=[...t,d],f=h.join(","),p=n&&(!!r||!!o[f]);if(l.push({[_o]:d,[Io]:a,[To]:JSON.stringify(h),[No]:f,[Lo]:p,[Po]:i[a],[i[a]]:d}),s+=1,!n&&a&&(c[s]=!0),Array.isArray(e))e.forEach(e=>{s+=1,p||(c[s]=!0),u[e[Ao]]=s}),l.push(...e);else{const t=Wo({groupedValues:e,parentIds:h,isExpanded:p,itemIndex:s,expandedAll:r,prevExpanded:o,columnProps:i});l.push(...t.source),c=Object.assign(Object.assign({},t.trimmed),c),u=Object.assign(Object.assign({},t.oldNewIndexMap),u),s=t.itemIndex}}),{source:l,oldNewIndexMap:u,trimmed:c,itemIndex:s}}function Uo(e,t,{prevExpanded:n={},expandedAll:s=!1,getGroupValue:r=Bo}){const o=new Map;e.forEach((e,n)=>{const s=t.map(t=>r(e,t)),i=s.pop();let a=o;if(s.forEach(e=>{a.has(e)||a.set(e,new Map),a=a.get(e)}),!a.has(i)){const e=[];a.set(i,e)}a.get(i).push(Object.assign(Object.assign({},e),{[Ao]:n}))});const i=t.length,{source:a,trimmed:l,oldNewIndexMap:c}=Wo({groupedValues:o,parentIds:[],isExpanded:!0,itemIndex:-1,expandedAll:s,prevExpanded:n,columnProps:t});return{sourceWithGroups:a,depth:i,trimmed:l,oldNewIndexMap:c}}function Go(e){return void 0!==(null==e?void 0:e[_o])}function Xo(e){return void 0!==(null==e?void 0:e[Do])}function Yo(e){const t=JSON.parse(e);return Array.isArray(t)?t:null}function qo(e,t,n){const s=Yo(n[To]);if(!s)return!1;const r=function(e,t){const n=e.length;let s=0;for(;s<n;s++)if(e[s]!==t[s])return s;return s}(e,s);return t[Io]<r}function Ko(e,t,n){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&sr(e,t,n)?(t=0,n=s):(t=null==t?0:so(t),n=void 0===n?s:so(n)),function(e,t,n){var s=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++s<r;)o[s]=e[s+t];return o}(e,t,n)):[]}function Jo(e,t={}){const n=null==e?void 0:e.editor;if(n)return"string"==typeof n?t[n]:n}class Zo{get columns(){return Ur(this.source)}constructor(e,t){this.dataStore=e,this.source=t,this.unsubscribe=[],this.hasGrouping=!1,this.unsubscribe.push(t.onChange("source",e=>this.checkGrouping(e))),this.checkGrouping(t.get("source")),this.type=t.get("type")}checkGrouping(e){for(let t of e){if(Xo(t))return void(this.hasGrouping=!0);this.hasGrouping=!1}}isReadOnly(e,t){var n;const s=null===(n=this.columns[t])||void 0===n?void 0:n.readonly;if("function"==typeof s){return s(this.rowDataModel(e,t))}return!!s}mergeProperties(e,t,n,s){var r,o;const i=Object.assign({},n);i.class=Object.assign(Object.assign({},"string"==typeof i.class?{[i.class]:!0}:i.class),{[vr]:!0,[mr]:this.isReadOnly(e,t)});const a=null===(o=null===(r=s.column)||void 0===r?void 0:r.cellProperties)||void 0===o?void 0:o.call(r,s);return a?ti(i,a):i}getRowClass(e,t){return(Gr(this.dataStore,e)||{})[t]||""}getSaveData(e,t,n){const s=this.rowDataModel(e,t);return void 0===n&&(n=uo(s.value)),Object.assign(Object.assign({},s),{val:n})}rowDataModel(e,t){const n=this.columns[t],s=null==n?void 0:n.prop,r=Gr(this.dataStore,e)||{},o=this.dataStore.get("type");return{prop:s,model:r,data:this.dataStore.get("source"),column:n,rowIndex:e,colIndex:t,colType:this.type,type:o,value:ho(r,n)}}getRangeData(e,t){var n;const s={},r=e.oldRange.x1-e.oldRange.x+1,o=e.oldRange.y1-e.oldRange.y+1,i={};for(let a=e.newRange.y,l=0;a<e.newRange.y1+1;a++,l++){const c=e.oldRange.y+l%o,u=Gr(this.dataStore,c)||{};for(let o=e.newRange.x,l=0;o<e.newRange.x1+1;o++,l++){if(a>=e.oldRange.y&&a<=e.oldRange.y1&&o>=e.oldRange.x&&o<=e.oldRange.x1)continue;if(!this.columns[o])continue;const d=null===(n=this.columns[o])||void 0===n?void 0:n.prop,h=e.oldRange.x+l%r,f=t[h].prop;this.isReadOnly(a,o)||(s[a]||(s[a]={}),s[a][d]=u[f],i[a]||(i[a]={}),i[a][d]={colIndex:h,colProp:f,rowIndex:c})}}return{changed:s,mapping:i}}getTransformedDataToApply(e,t){const n={},s=t.length,r=this.columns.length,o=this.dataStore.get("items").length;let i=e.y,a=0;for(let l=0;i<o&&l<s;i++,l++){const o=t[l%s],c=(null==o?void 0:o.length)||0;let u=e.x;for(let e=0;u<r&&e<c;u++,e++){const t=this.columns[u].prop,s=e%r;this.isReadOnly(i,u)||(n[i]||(n[i]={}),n[i][t]=o[s])}a=Math.max(a,u-1)}return{changed:n,range:Eo(e,{y:i-1,x:a})}}getRangeStaticData(e,t){const n={};for(let s=e.y,r=0;s<e.y1+1;s++,r++)for(let o=e.x,i=0;o<e.x1+1;o++,i++){if(!this.columns[o])continue;const e=this.columns[o].prop;this.isReadOnly(s,o)||(n[s]||(n[s]={}),n[s][e]=t)}return n}getRangeTransformedToProps(e,t){var n;const s=[],r=this.dataStore.get("type");for(let o=e.y,i=0;o<e.y1+1;o++,i++)for(let a=e.x,l=0;a<e.x1+1;a++,l++){const e=null===(n=this.columns[a])||void 0===n?void 0:n.prop;s.push({prop:e,rowIndex:o,colIndex:a,model:Gr(t,o),type:r,colType:this.type})}return s}copyRangeArray(e,t){const n=Ko([...this.columns],e.x,e.x1+1).map(e=>e.prop),s=[],r={};for(let o=e.y;o<=e.y1;o++){const e=[];r[o]={};for(let s of n){const n=Gr(t,o);if(!n)continue;const i=n[s];e.push(i),r[o][s]=i}s.push(e)}return{data:s,mapping:r}}destroy(){this.unsubscribe.forEach(e=>e())}}function Qo(e,t){return"function"==typeof e?e(t):!!e}function ei(e={},t={}){return"string"==typeof e&&(e={[e]:!0}),"string"==typeof t&&(t={[t]:!0}),Object.assign(Object.assign({},e),t)}function ti(e,t){t.className&&(t.class=ei(t.class,t.className),delete t.className);let n=Object.assign(Object.assign({},t),e);return t.class&&(n.class=ei(n.class,t.class)),t.style&&(n.style=Object.assign(Object.assign({},t.style),n.style)),n}
/*!
 * Built by Revolist OU ❤️
 */const ni=(e,t,n=50)=>(null==t?void 0:t.size)||Math.max(10*(e.toString().length+1),n);function si(e,t,n,s,r){const o=to(r,e),i=li(t);let a;if(i){let e=o.itemIndex-(i.itemIndex||0);e&&(a=function(e,t){var n,s;const r=[...t.items],o=r.length;let i={start:t.start,end:t.end};if(e>o)return;if(t.positiveDirection){let n=ci(t),s=i.start;const a=s+e;for(;s<a;s++){const e=n.itemIndex+1,a=ai(e,t.sizes,t.originItemSize);if(n.end+a>t.realSize)break;let l=s%o;if(!r[l])throw new Error("incorrect index");r[l]=n={start:n.end,end:n.end+a,itemIndex:e,size:a},i.start++,i.end=l}}else{let a=li(t);const l=i.end;for(let c=0;c<e;c++){const e=(null!==(n=null==a?void 0:a.itemIndex)&&void 0!==n?n:0)-1,u=ai(e,t.sizes,t.originItemSize);let d=l-c;if(d=(d<0?o+d:d)%o,!r[d]){console.error("incorrect index");break}const h=null!==(s=null==a?void 0:a.start)&&void 0!==s?s:0;r[d]=a={start:h-u,end:h,itemIndex:e,size:u},i.start=d,i.end--}}const a={start:(i.start<0?o+i.start:i.start)%o,end:(i.end<0?o+i.end:i.end)%o};return Object.assign({items:r},a)}(Math.abs(e),Object.assign(Object.assign({positiveDirection:e>-1},r),t)))}const l=function(e,t,n){return Math.min(e+(n.end-n.start),t)}(s,r.realSize,o);if(a){const e=oi(o,n,l,a,r);e.length&&ri(a.items,e,a)}if(!a){const e=ii({firstItemStart:o.start,firstItemIndex:o.itemIndex,origSize:r.originItemSize,maxSize:l,maxCount:n,sizes:r.sizes});a={items:e,start:0,end:e.length-1}}return a}function ri(e,t,n){e.splice(n.end+1,0,...t),n.start>=n.end&&(n.start!==n.end||0!==n.start)&&(n.start+=t.length),n.end+=t.length}function oi(e,t,n,s,r){const o=ci(s);return ii({sizes:r.sizes,firstItemStart:o.end,firstItemIndex:o.itemIndex+1,origSize:r.originItemSize,maxSize:n-(o.end-e.start),maxCount:t})}function ii(e,t=0){const n=[];let s=e.firstItemIndex,r=t;for(;r<=e.maxSize&&s<e.maxCount;){const t=ai(s,e.sizes,e.origSize);n.push({start:e.firstItemStart+r,end:e.firstItemStart+r+t,itemIndex:s,size:t}),r+=t,s++}return n}function ai(e,t,n=0){return t&&t[e]?t[e]:n}function li(e){return e.items[e.start]}function ci(e){return e.items[e.end]}function ui(e,t,n,s){const r=[...e],o=r.length;let i=s,a=0,l=t;if(!o)return[];for(;a<o;){const e=r[l];e.start=i,e.size=n,e.end=e.start+n,i=e.end,l++,a++,l===o&&(l=0)}return r}class di{get lastCoordinate(){return this.lastKnownScroll}set lastCoordinate(e){this.lastKnownScroll=e}constructor(e){this.type=e,this.lastKnownScroll=0,this.store=cr({items:[],start:0,end:0,virtualSize:0,realCount:0,clientSize:0})}setViewPortCoordinate(e,t,n=!1){const s=this.store.get("virtualSize");if(!s)return;const r=1*t.originItemSize,o=s+2*r;let i=0;t.realSize>s&&(i=t.realSize-s-r);let a,l=e;l<0?l=0:l>i&&(l=i),this.lastCoordinate=l,l-=r,l=l<0?0:l<i?l:i,a=n?{items:[],start:0,end:0}:this.getItems();const c=li(a),u=ci(a);let d={};if(function(e,t,n,s){return!(!n||!s)&&(e>=n.start&&e<=n.end||e>n.end&&s.end===t)}(l,t.realSize,c,u)){if(function(e,t,n,s){var r;return!!n&&t+e>(null!==(r=null==s?void 0:s.end)&&void 0!==r?r:0)}(l,o,c,u)){const e=[...a.items],n=oi(c,this.store.get("realCount"),o+l-c.start,a,{sizes:t.sizes,originItemSize:t.originItemSize});if(n.length){const t={start:this.store.get("start"),end:this.store.get("end")};ri(e,n,t),d=Object.assign(Object.assign(Object.assign({},d),{items:[...e]}),t),this.setViewport(Object.assign({},d))}}}else d=Object.assign(Object.assign({},d),si(l,a,this.store.get("realCount"),o,t)),this.setViewport(Object.assign({},d))}setOriginalSizes(e){const t=this.store.get("items");t.length&&dr(this.store,{items:ui(t,this.store.get("start"),e,this.lastCoordinate)})}getItems(){return{items:this.store.get("items"),start:this.store.get("start"),end:this.store.get("end")}}setViewport(e){"number"!=typeof e.realCount&&"number"!=typeof e.virtualSize||(e=Object.assign(Object.assign({},e),{items:e.items||[]})),dr(this.store,e)}}
/*!
 * Built by Revolist OU ❤️
 */const hi="rv-filter",fi="active",pi="hasFilter",gi="and-or-button",mi="trash-button",vi=({column:e})=>re("span",null,re("button",{class:{[hi]:!0,[fi]:e&&!!e[pi]}},re("svg",{class:"filter-img",viewBox:"0 0 64 64"},re("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},re("path",{d:"M43,48 L43,56 L21,56 L21,48 L43,48 Z M53,28 L53,36 L12,36 L12,28 L53,28 Z M64,8 L64,16 L0,16 L0,8 L64,8 Z",fill:"currentColor"}))))),$i=()=>re("div",{class:{[mi]:!0}},re("svg",{class:"trash-img",viewBox:"0 0 24 24"},re("path",{fill:"currentColor",d:"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z"}))),yi=({text:e})=>re("button",{class:{[gi]:!0,"light revo-button":!0}},e);function bi(e){return!!e.classList.contains(hi)||(null==e?void 0:e.closest(`.${hi}`))}
/*!
 * Built by Revolist OU ❤️
 */function wi(e,t,n){const s=new CustomEvent(t,{detail:n,cancelable:!0,bubbles:!0});return null==e||e.dispatchEvent(s),s}var Si,xi;(xi=Si||(Si={})).start="resize:start",xi.move="resize:move",xi.end="resize:end";const Ci={"resizable-r":{bit:1,cursor:"ew-resize"},"resizable-rb":{bit:3,cursor:"se-resize"},"resizable-b":{bit:2,cursor:"s-resize"},"resizable-lb":{bit:6,cursor:"sw-resize"},"resizable-l":{bit:4,cursor:"w-resize"},"resizable-lt":{bit:12,cursor:"nw-resize"},"resizable-t":{bit:8,cursor:"n-resize"},"resizable-rt":{bit:9,cursor:"ne-resize"}},Ei=4,Oi=8;class ji{constructor(e,t){var n,s,r;this.initialProps=e,this.$event=t,this.mouseX=0,this.mouseY=0,this.width=0,this.height=0,this.changeX=0,this.changeY=0,this.disableCalcMap=15,this.props=(r=e,Object.assign(Object.assign({},r),{fitParent:r.fitParent||!1,active:r.active||[],disableAttributes:r.disableAttributes||[],minWidth:r.minWidth||0,minHeight:r.minHeight||0})),this.mouseMoveFunc=this.handleMove.bind(this),this.mouseUpFunc=this.handleUp.bind(this),this.minW=this.props.minWidth,this.minH=this.props.minHeight,this.maxW=null!==(n=this.props.maxWidth)&&void 0!==n?n:0,this.maxH=null!==(s=this.props.maxHeight)&&void 0!==s?s:0,this.parent={width:0,height:0},this.resizeState=0}set(e){this.$el=e,this.props.disableAttributes.forEach(e=>{switch(e){case"l":this.disableCalcMap&=-2;break;case"t":this.disableCalcMap&=-3;break;case"w":this.disableCalcMap&=-5;break;case"h":this.disableCalcMap&=-9}})}emitEvent(e,t){var n;if(!this.$event)return;const s=null===(n=this.activeResizer)||void 0===n?void 0:n.classList.contains("resizable-l");this.$event(Object.assign({eventName:e,width:this.width+this.changeX*(s?-1:1),height:this.height+this.changeY,changedX:this.changeX,changedY:this.changeY},t))}static isTouchEvent(e){var t;return(null===(t=e.touches)||void 0===t?void 0:t.length)>=0}handleMove(e){var t;if(!this.resizeState)return;let n,s;ji.isTouchEvent(e)?(n=e.touches[0].clientY,s=e.touches[0].clientX):(n=e.clientY,s=e.clientX);let r=this.resizeState&Ci["resizable-r"].bit||this.resizeState&Ci["resizable-l"].bit;if((this.resizeState&Ci["resizable-t"].bit||this.resizeState&Ci["resizable-b"].bit)&&this.disableCalcMap&Oi){let e=n-this.mouseY,t=this.changeY+e;const s=this.height+t;s<this.minH&&(t=-(this.height-this.minH)),this.maxH&&s>this.maxH&&(t=this.maxH-this.height),this.changeY=t,this.mouseY=n,this.activeResizer&&(this.activeResizer.style.bottom=-this.changeY+"px")}if(r&&this.disableCalcMap&Ei){const e=null===(t=this.activeResizer)||void 0===t?void 0:t.classList.contains("resizable-l");let n=s-this.mouseX,r=this.changeX+n;const o=this.width+r*(e?-1:1);o<this.minW&&(r=-(this.width-this.minW)),this.maxW&&o>this.maxW&&(r=this.maxW-this.width),this.changeX=r,this.mouseX=s,this.activeResizer&&(e?this.activeResizer.style.left=`${this.changeX}px`:this.activeResizer.style.right=-this.changeX+"px")}this.emitEvent(Si.move)}handleDown(e){if(!e.defaultPrevented){e.preventDefault(),this.dropInitial();for(let t in Ci){const n=e.target;if(this.$el.contains(n)&&(null==n?void 0:n.classList.contains(t))){document.body.style.cursor=Ci[t].cursor,ji.isTouchEvent(e)?this.setInitials(e.touches[0],n):(e.preventDefault&&e.preventDefault(),this.setInitials(e,n)),this.resizeState=Ci[t].bit;const s=Si.start;this.emitEvent(s);break}}this.bindMove()}}handleUp(e){if(e.preventDefault(),0!==this.resizeState){this.resizeState=0,document.body.style.cursor="";const e=Si.end;this.emitEvent(e)}this.dropInitial(),this.unbindMove()}setInitials({clientX:e,clientY:t},n){var s,r,o,i;const a=getComputedStyle(this.$el);if(this.$el.classList.add("active"),this.activeResizer=n,this.disableCalcMap&Ei){this.mouseX=e,this.width=this.$el.clientWidth,this.parent.width=null!==(r=null===(s=this.$el.parentElement)||void 0===s?void 0:s.clientWidth)&&void 0!==r?r:0;const t=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight);this.minW=Math.max(t,this.initialProps.minWidth||0),this.initialProps.maxWidth&&(this.maxW=Math.max(this.width,this.initialProps.maxWidth))}if(this.disableCalcMap&Oi){this.mouseY=t,this.height=this.$el.clientHeight,this.parent.height=null!==(i=null===(o=this.$el.parentElement)||void 0===o?void 0:o.clientHeight)&&void 0!==i?i:0;const e=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom);this.minH=Math.max(e,this.initialProps.minHeight||0),this.initialProps.maxHeight&&(this.maxH=Math.max(this.height,this.initialProps.maxHeight))}}dropInitial(){this.changeX=this.changeY=this.minW=this.minH,this.width=this.height=0,this.activeResizer&&this.activeResizer.removeAttribute("style"),this.$el.classList.remove("active"),this.activeResizer=void 0}bindMove(){document.documentElement.addEventListener("mouseup",this.mouseUpFunc,!0),document.documentElement.addEventListener("touchend",this.mouseUpFunc,!0),document.documentElement.addEventListener("mousemove",this.mouseMoveFunc,!0),document.documentElement.addEventListener("touchmove",this.mouseMoveFunc,!0),document.documentElement.addEventListener("mouseleave",this.mouseUpFunc)}unbindMove(){document.documentElement.removeEventListener("mouseup",this.mouseUpFunc,!0),document.documentElement.removeEventListener("touchend",this.mouseUpFunc,!0),document.documentElement.removeEventListener("mousemove",this.mouseMoveFunc,!0),document.documentElement.removeEventListener("touchmove",this.mouseMoveFunc,!0),document.documentElement.removeEventListener("mouseleave",this.mouseUpFunc)}}const Ri=(e,t)=>{const n=[],s=e.canResize&&new ji(e,t=>{var n;t.eventName===Si.end&&(null===(n=e.onResize)||void 0===n||n.call(e,t))})||null;if(e.active)if(e.canResize)for(let r in e.active)n.push(re("div",{onClick:e=>e.preventDefault(),onDblClick:t=>{var n;t.preventDefault(),null===(n=e.onDblClick)||void 0===n||n.call(e,t)},onMouseDown:e=>null==s?void 0:s.handleDown(e),onTouchStart:e=>null==s?void 0:s.handleDown(e),class:`resizable resizable-${e.active[r]}`}));else for(let r in e.active)n.push(re("div",{onClick:e=>e.preventDefault(),onTouchStart:e=>e.preventDefault(),onDblClick:t=>{var n;t.preventDefault(),null===(n=e.onDblClick)||void 0===n||n.call(e,t)},class:"no-resize"}));return re("div",Object.assign({},e,{ref:e=>e&&(null==s?void 0:s.set(e))}),t,n)},zi="columnclick",Ii=({data:e,props:t,additionalData:n},s)=>{let r=(null==e?void 0:e.name)||"",o=t;if((null==e?void 0:e.columnTemplate)&&(r=e.columnTemplate(re,e,n)),null==e?void 0:e.columnProperties){const n=e.columnProperties(e);n&&(o=ti(t,n))}const i=Object.assign(Object.assign({},o),{onMouseDown(t){wi(t.currentTarget,zi,{data:e,event:t})}});return re(Ri,Object.assign({},i),re("div",{class:"header-content"},r),s)},_i=e=>{let t=null,n=null;return{set(s,r){switch(s){case"sizes":if(t&&t===r)return void(t=null);n=null;break;case"trimmed":{const s=r;n||(n=e.store.get("sizes")),t=function(e,t){const n={},s=Object.keys(e||{}).map(Number).sort((e,t)=>e-t),r=s[s.length-1];let o=0;for(let i=0;i<=r;i++)void 0!==t[i]&&(o++,void 0!==e[i])||void 0!==e[i]&&(n[i-o]=e[i]);return n}(n,s||{}),e.setSizes(t);break}}}}};function Ti(){return Object.assign(Object.assign({},{indexes:[],count:0,trimmed:null,sizes:{},positionIndexToItem:{},indexToItem:{},positionIndexes:[]}),{realSize:0,originItemSize:0})}class Ni{constructor(e){var t;this.type=e,this.store=cr(Ti()),this.store.use(_i({store:this.store,setSizes:this.setDimensionSize.bind(this)})),this.store.use((t={store:this.store,setStore:this.setStore.bind(this)},{set(e){switch(e){case"count":case"sizes":case"originItemSize":{let e=0;const n=t.store.get("count");for(let s=0;s<n;s++)e+=t.store.get("sizes")[s]||t.store.get("originItemSize");t.setStore({realSize:e});break}}}}))}getCurrentState(){const e=Ti();return co(Object.keys(e),(e,t)=>{const n=this.store.get(t);return e[t]=n,e},e)}dispose(){dr(this.store,Ti())}setStore(e){dr(this.store,e)}drop(){dr(this.store,{indexes:[],count:0,trimmed:null,sizes:{},positionIndexToItem:{},indexToItem:{},positionIndexes:[]})}setDimensionSize(e={}){const t=function(e,t={}){const n=[],s={},r={},o=Object.keys(t).map(Number).sort((e,t)=>e-t);let i;for(let a=0;a<o.length;a++){const l=o[a],c={itemIndex:l,start:0,end:0};if(i){const t=(l-i.itemIndex-1)*e;c.start=t+i.end}else c.start=l*e;c.end=c.start+t[l],n.push(c.start),r[l]=s[a]=c,i=c}return{indexes:o,positionIndexes:[...n],positionIndexToItem:Object.assign({},s),indexToItem:r}}(this.store.get("originItemSize"),e);dr(this.store,Object.assign(Object.assign({},t),{sizes:e}))}updateSizesPositionByIndexes(e,t=[]){const n=Object.assign({},this.store.get("sizes"));if(!Object.keys(n).length)return;const s={};t.forEach((e,t)=>{s[e]||(s[e]=[]),s[e].push(t)});const r={};e.forEach((e,t)=>{const o=s[e];if(o&&o.length>0){const e=o.shift();void 0!==e&&e!==t&&n[e]&&(r[t]=n[e],delete n[e])}}),Object.keys(r).length&&this.setDimensionSize(Object.assign(Object.assign({},n),r))}}class Di{constructor(e,t){this.revogrid=e,this.providers=t,this.h=re,this.subscriptions={}}addEventListener(e,t){this.revogrid.addEventListener(e,t),this.subscriptions[e]=t}watch(e,t,{immediate:n}={immediate:!1}){const s=Object.getOwnPropertyDescriptor(this.revogrid,e)||Object.getOwnPropertyDescriptor(this.revogrid.constructor.prototype,e);Object.defineProperty(this.revogrid,e,{set(e){var n;if(!1!==t(e))return null===(n=null==s?void 0:s.set)||void 0===n?void 0:n.call(this,e)},get(){var e;return null===(e=null==s?void 0:s.get)||void 0===e?void 0:e.call(this)}}),n&&t(null==s?void 0:s.value)}removeEventListener(e){this.revogrid.removeEventListener(e,this.subscriptions[e]),delete this.subscriptions[e]}emit(e,t){const n=new CustomEvent(e,{detail:t,cancelable:!0});return this.revogrid.dispatchEvent(n),n}clearSubscriptions(){for(let e in this.subscriptions)this.removeEventListener(e)}destroy(){this.clearSubscriptions()}}function Li(e,t){for(var n=-1,s=null==e?0:e.length;++n<s&&!1!==t(e[n],n,e););return e}function Pi(e,t){var n;return(zn(e)?Li:ao)(e,"function"==typeof(n=t)?n:qs)}class Ai extends Di{constructor(e,t,n){super(e,t),this.providers=t,this.config=n,this.autoSizeColumns=null,this.dataResolve=null,this.dataReject=null,this.letterBlockSize=(null==n?void 0:n.letterBlockSize)||7,(null==n?void 0:n.preciseSize)&&(this.precsizeCalculationArea=this.initiatePresizeElement(),e.appendChild(this.precsizeCalculationArea));const s=({detail:{source:e}})=>{this.setSource(e)};switch(this.addEventListener("beforecolumnsset",({detail:{columns:e}})=>{this.columnSet(e)}),null==n?void 0:n.mode){case"autoSizeOnTextOverlap":this.addEventListener("aftersourceset",s),this.addEventListener("afteredit",({detail:e})=>{this.afteredit(e)});break;case"autoSizeAll":this.addEventListener("aftersourceset",s),this.addEventListener("afteredit",({detail:e})=>{this.afterEditAll(e)});break;default:this.addEventListener("headerdblclick",({detail:e})=>{const t=po(e.column),n=this.getColumnSize(e.index,t);n&&this.providers.dimension.setCustomSizes(t,{[e.index]:n},!0)})}}async setSource(e){let t=this.autoSizeColumns;if(this.dataReject&&(this.dataReject(),this.clearPromise()),!t){const e=new Promise((e,t)=>{this.dataResolve=e,this.dataReject=t});try{t=await e}catch(n){return}}Pi(t,(n,s)=>{const r={};Pi(t[s],t=>{t.size=r[t.index]=e.reduce((e,n)=>Math.max(e,this.getLength(n[t.prop])),this.getLength(t.name||""))}),this.providers.dimension.setCustomSizes(s,r,!0)})}getLength(e){var t;if(!e)return 0;try{const n=e.toString();return(null===(t=this.config)||void 0===t?void 0:t.preciseSize)?(this.precsizeCalculationArea.innerText=n,this.precsizeCalculationArea.scrollWidth+30):n.length*this.letterBlockSize+30}catch(n){return 0}}afteredit(e){let t;t=this.isRangeEdit(e)?e.data:{0:{[e.prop]:e.val}},Pi(this.autoSizeColumns,(e,n)=>{const s={};Pi(e,e=>{var n;const r=co(t,(t,n)=>void 0===n[e.prop]?t:Math.max(t||0,this.getLength(n[e.prop])),void 0);r&&(null!==(n=e.size)&&void 0!==n?n:0)<r&&(e.size=s[e.index]=r)}),this.providers.dimension.setCustomSizes(n,s,!0)})}afterEditAll(e){const t={};this.isRangeEdit(e)?Pi(e.data,e=>Pi(e,(e,n)=>t[n]=!0)):t[e.prop]=!0,Pi(this.autoSizeColumns,(e,n)=>{const s={};Pi(e,e=>{if(t[e.prop]){const t=this.getColumnSize(e.index,n);t&&(s[e.index]=t)}}),this.providers.dimension.setCustomSizes(n,s,!0)})}getColumnSize(e,t){var n,s;const r=null===(s=null===(n=this.autoSizeColumns)||void 0===n?void 0:n[t])||void 0===s?void 0:s[e];return r?co(this.providers.data.stores,(e,t)=>{const n=co(t.store.get("items"),(e,n,s)=>{const o=Gr(t.store,s);return Math.max(e||0,this.getLength(null==o?void 0:o[r.prop]))},0);return Math.max(e,n)},r.size||0):0}columnSet(e){var t;for(let n of Ro){const s=n,r=e[s];for(let e in r)(r[e].autoSize||(null===(t=this.config)||void 0===t?void 0:t.allColumns))&&(this.autoSizeColumns||(this.autoSizeColumns={}),this.autoSizeColumns[s]||(this.autoSizeColumns[s]={}),this.autoSizeColumns[s][e]=Object.assign(Object.assign({},r[e]),{index:parseInt(e,10)}))}this.dataResolve&&(this.dataResolve(this.autoSizeColumns||{}),this.clearPromise())}clearPromise(){this.dataResolve=null,this.dataReject=null}isRangeEdit(e){return!!e.data}initiatePresizeElement(){var e;const t={position:"absolute",fontSize:"14px",height:"0",width:"0",whiteSpace:"nowrap",top:"0",overflowX:"scroll",display:"block"},n=document.createElement("div");for(let s in t)n.style[s]=null!==(e=t[s])&&void 0!==e?e:"";return n.classList.add("revo-test-container"),n}destroy(){var e;super.destroy(),null===(e=this.precsizeCalculationArea)||void 0===e||e.remove()}}class Fi extends Di{constructor(e,t){super(e,t),this.providers=t,this.stretchedColumn=null,this.scrollSize=Br(document);this.addEventListener("beforecolumnapplied",({detail:{columns:e}})=>this.applyStretch(e))}setScroll({type:e,hasScroll:t}){var n;"rgRow"===e&&this.stretchedColumn&&(null===(n=this.stretchedColumn)||void 0===n?void 0:n.initialSize)===this.stretchedColumn.size&&t&&(this.stretchedColumn.size-=this.scrollSize,this.apply(),this.dropChanges())}activateChanges(){this.addEventListener("scrollchange",({detail:e})=>this.setScroll(e))}dropChanges(){this.stretchedColumn=null,this.removeEventListener("scrollchange")}apply(){if(!this.stretchedColumn)return;const e="rgCol",t=this.providers.dimension.stores[e].store.get("sizes");this.providers.dimension.setCustomSizes(e,Object.assign(Object.assign({},t),{[this.stretchedColumn.index]:this.stretchedColumn.size}),!0)}applyStretch(e){this.dropChanges();let t=this.revogrid.clientWidth-1;if(Pi(e,(e,n)=>{const s=this.providers.dimension.stores[n].store.get("realSize");t-=s}),this.revogrid.rowHeaders){const e=this.providers.data.stores.rgRow.store.get("source").length,n=this.revogrid.rowHeaders,s=ni(e,"object"==typeof n?n:void 0);s&&(t-=s)}if(t>0){const n=e.rgCol.length-1,s=e.rgCol[n],r=(null==s?void 0:s.size)||this.revogrid.colSize||0,o=t+r-1;s&&!s.autoSize&&r<o&&(this.stretchedColumn={initialSize:o,index:n,size:o},this.apply(),this.activateChanges())}}}function Mi(e){return!!e.applyStretch}function ki(e,t,n,s){var r=e.length;for((n=so(n))<0&&(n=-n>r?0:r+n),(s=void 0===s||s>r?r:so(s))<0&&(s+=r),s=n>s?0:function(e){return e?(t=so(e),n=0,s=4294967295,t==t&&(t=(t=t<=s?t:s)>=n?t:n),t):0;var t,n,s}(s);n<s;)e[n++]=t;return e}const Bi={mime:"text/csv",fileKind:"csv",bom:!0,columnDelimiter:",",rowDelimiter:"\r\n",encoding:""},Hi=String.fromCharCode(13),Vi=String.fromCharCode(10),Wi=String.fromCharCode(34),Ui=String.fromCharCode(65279),Gi=new RegExp('"',"g");class Xi{constructor(e={}){this.options=Object.assign(Object.assign({},Bi),e)}doExport({data:e,headers:t,props:n}){let s=this.options.bom?Ui:"";return(null==t?void 0:t.length)>0&&t.forEach(e=>{e.length&&(s+=this.prepareHeader(e,this.options.columnDelimiter),s+=this.options.rowDelimiter)}),e.forEach((e,t)=>{t>0&&(s+=this.options.rowDelimiter),Go(e)?s+=this.parseCell(function(e){return null==e?void 0:e[_o]}(e),this.options.columnDelimiter):s+=n.map(t=>this.parseCell(e[t],this.options.columnDelimiter)).join(this.options.columnDelimiter)}),s}prepareHeader(e,t){let n="";return n+=e.map(e=>this.parseCell(e,t,!0)).join(t),n}parseCell(e,t,n=!1){let s=e;"string"!=typeof e&&(s=JSON.stringify(e));return void 0===s?"":""!==s&&(n||[Hi,Wi,Vi,t].some(e=>s.indexOf(e)>=0))?`"${s.replace(Gi,'""')}"`:s}}var Yi;(Yi||(Yi={})).csv="csv";class qi extends Di{async exportString(e={},t=Yi.csv){const n=await this.beforeexport();return n?this.formatter(t,e).doExport(n):null}async exportBlob(e={},t=Yi.csv){return await this.getBlob(this.formatter(t,e))}async exportFile(e={},t=Yi.csv){const n=this.formatter(t,e),s=window.URL||window.webkitURL,r=document.createElement("a"),{filename:o,fileKind:i}=n.options,a=`${o}.${i}`,l=await this.getBlob(n),c=l?s.createObjectURL(l):"";r.style.display="none",r.setAttribute("href",c),r.setAttribute("download",a),this.revogrid.appendChild(r),r.dispatchEvent(new MouseEvent("click")),this.revogrid.removeChild(r),await Vr(120),s.revokeObjectURL(c)}async getBlob(e){const t=`${e.options.mime};charset=${e.options.encoding}`;if("undefined"!=typeof Blob){const n=await this.beforeexport();return n?new Blob([e.doExport(n)],{type:t}):null}return null}async beforeexport(){let e=await this.getData();const t=this.emit("beforeexport",{data:e});return t.defaultPrevented?null:t.detail.data}async getData(){const e=await this.getSource(),t=[],n=[];Ro.forEach((e,s)=>{n.push(this.getColPerSource(e).then(e=>t[s]=e))}),await Promise.all(n);const s={headers:[],props:[]};for(let r of t)r.headers.forEach((e,t)=>{s.headers[t]||(s.headers[t]=[]),s.headers[t].push(...e)}),s.props.push(...r.props);return Object.assign({data:e},s)}async getColPerSource(e){const t=await this.revogrid.getColumnStore(e),n=t.get("source"),s=t.get("items"),r=t.get("groupingDepth"),o=t.get("groups"),i=[],a=[];s.forEach(e=>{const t=n[e].prop;i.push(n[e].name||""),a.push(t)});const l=this.getGroupHeaders(r,o,s);return l.push(i),{headers:l,props:a}}getGroupHeaders(e,t,n){const s=[],r=(o=new Array(n.length),i="",null!=o&&o.length?ki(o,i,a,l):[]);var o,i,a,l;for(let c=0;c<e;c++){const e=[...r];if(s.push(e),!t[c])continue;t[c].forEach(t=>{const n=t.indexes[0];"number"==typeof n&&(e[n]=t.name)})}return s}async getSource(){const e=[],t=[];return jo.forEach(n=>{const s=[];e.push(s);const r=this.revogrid.getVisibleSource(n).then(e=>s.push(...e));t.push(r)}),await Promise.all(t),e.reduce((e,t)=>(e.push(...t),e),[])}formatter(e,t={}){if(e===Yi.csv)return new Xi(t);throw new Error("Unknown format")}}const Ki=(e,t)=>{if(void 0===e||null===e&&!t)return!0;"string"!=typeof e&&(e=JSON.stringify(e));const n=null==t?void 0:t.toString().toLocaleLowerCase();return 0===(null==n?void 0:n.length)||e.toLocaleLowerCase()===n},Ji=(e,t)=>!Ki(e,t);Ji.extra="input",Ki.extra="input";const Zi=function(e,t){let n;return"number"==typeof e&&null!=t&&(n=parseFloat(null==t?void 0:t.toString()),e>n)};Zi.extra="input";const Qi=function(e,t){return Ki(e,t)||Zi(e,t)};Qi.extra="input";const ea=function(e,t){let n;return"number"==typeof e&&null!=t&&(n=parseFloat(t.toString()),e<n)};ea.extra="input";const ta=function(e,t){return Ki(e,t)||ea(e,t)};ta.extra="input";const na=e=>!(""===e||null==e),sa=(e,t)=>!!e&&(!t||("string"!=typeof e&&(e=JSON.stringify(e)),"string"!=typeof t&&(t=JSON.stringify(t)),0===e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())));sa.extra="input";const ra=(e,t)=>!t||!!e&&(!t||("string"!=typeof e&&(e=JSON.stringify(e)),e.toLocaleLowerCase().indexOf(t.toString().toLowerCase())>-1)),oa=(e,t)=>!ra(e,t);oa.extra="input",ra.extra="input";const ia={none:()=>!0,empty:e=>!na(e),notEmpty:na,eq:Ki,notEq:Ji,begins:sa,contains:ra,notContains:oa,eqN:Ki,neqN:Ji,gt:Zi,gte:Qi,lt:ea,lte:ta},aa={string:["notEmpty","empty","eq","notEq","begins","contains","notContains"],number:["notEmpty","empty","eqN","neqN","gt","gte","lt","lte"]},la={none:"None",empty:"Not set",notEmpty:"Set",eq:"Equal",notEq:"Not equal",begins:"Begins with",contains:"Contains",notContains:"Does not contain",eqN:"=",neqN:"!=",gt:">",gte:">=",lt:"<",lte:"<="},ca="filter";class ua extends Di{constructor(e,t,n){var s;super(e,t),this.revogrid=e,this.config=n,this.filterCollection={},this.multiFilterItems={},this.filterByType=Object.assign({},aa),this.filterNameIndexByType=Object.assign({},la),this.filterFunctionsIndexedByType=Object.assign({},ia),this.filterProp=pi,n&&this.initConfig(n);const r=this.revogrid.registerVNode.filter(e=>"object"==typeof e&&"revogr-filter-panel"!==e.$tag$);this.revogrid.registerVNode=[...r,re("revogr-filter-panel",{filterNames:this.filterNameIndexByType,filterEntities:this.filterFunctionsIndexedByType,filterCaptions:null===(s=null==n?void 0:n.localization)||void 0===s?void 0:s.captions,onFilterChange:e=>this.onFilterChange(e.detail),onResetChange:e=>this.onFilterReset(e.detail),disableDynamicFiltering:null==n?void 0:n.disableDynamicFiltering,closeOnOutsideClick:null==n?void 0:n.closeFilterPanelOnOutsideClick,ref:e=>this.pop=e}," ",this.extraContent())];const o=async()=>{const e=Object.keys(this.filterCollection);e.length>0&&e.forEach((e,t)=>{this.multiFilterItems[e]||(this.multiFilterItems[e]=[{id:t,type:this.filterCollection[e].type,value:this.filterCollection[e].value,relation:"and"}])}),0!==Object.keys(this.multiFilterItems).length&&await this.runFiltering(this.multiFilterItems)};this.addEventListener("headerclick",e=>this.headerclick(e)),this.addEventListener("filterconfigchanged",({detail:e})=>{e&&("object"!=typeof e||e.multiFilterItems&&Object.keys(e.multiFilterItems).length)?("object"==typeof e&&this.initConfig(e),o()):this.clearFiltering()}),this.addEventListener("aftersourceset",o),this.addEventListener("filter",({detail:e})=>this.onFilterChange(e))}beforeshow(e){}extraContent(){return null}initConfig(e){if(e.multiFilterItems?this.multiFilterItems=Object.assign({},e.multiFilterItems):this.multiFilterItems={},e.customFilters)for(let n in e.customFilters){const t=e.customFilters[n];this.filterByType[t.columnFilterType]||(this.filterByType[t.columnFilterType]=[]),this.filterByType[t.columnFilterType].push(n),this.filterFunctionsIndexedByType[n]=t.func,this.filterNameIndexByType[n]=t.name}e.filterProp&&(this.filterProp=e.filterProp);const t=e.include;if(t){const e={};for(let n in this.filterByType){const s=this.filterByType[n].filter(e=>t.indexOf(e)>-1);s.length&&(e[n]=s)}Object.keys(e).length>0&&(this.filterByType=e)}if(e.collection){const t=Object.entries(e.collection).filter(([,e])=>this.filterFunctionsIndexedByType[e.type]);this.filterCollection=Object.fromEntries(t)}else this.filterCollection={};e.localization&&e.localization.filterNames&&Object.entries(e.localization.filterNames).forEach(([e,t])=>{null!=this.filterNameIndexByType[e]&&(this.filterNameIndexByType[e]=t)})}async headerclick(e){var t,n;const s=null===(t=e.detail.originalEvent)||void 0===t?void 0:t.target;if(!bi(s))return;if(e.preventDefault(),!this.pop)return;const r=this.revogrid.getBoundingClientRect(),o=s.getBoundingClientRect(),i=e.detail.prop,a=Object.assign(Object.assign(Object.assign({},e.detail),this.filterCollection[i]),{x:o.x-r.x,y:o.y-r.y+o.height,autoCorrect:!0,filterTypes:this.getColumnFilter(e.detail.filter),filterItems:this.multiFilterItems,extraContent:this.extraHyperContent});null===(n=this.beforeshow)||void 0===n||n.call(this,a),this.pop.show(a)}getColumnFilter(e){let t="string";if(!e)return{[t]:this.filterByType[t]};if(this.isValidType(e))t=e;else if("object"==typeof e&&e.length)return e.reduce((e,t)=>(this.isValidType(t)&&(e[t]=this.filterByType[t]),e),{});return{[t]:this.filterByType[t]}}isValidType(e){return!("string"!=typeof e||!this.filterByType[e])}async onFilterChange(e){this.multiFilterItems=e,this.runFiltering(this.multiFilterItems)}onFilterReset(e){delete this.multiFilterItems[null!=e?e:""],this.onFilterChange(this.multiFilterItems)}async doFiltering(e,t,n,s){const r=[],o={};n.forEach(e=>{const t=Object.assign({},e),n=s[t.prop];o[t.prop]=t,t[this.filterProp]&&!n&&(delete t[this.filterProp],r.push(t)),!t[this.filterProp]&&n&&(r.push(t),t[this.filterProp]=!0)});const i=this.getRowFilter(t,s,o),{defaultPrevented:a,detail:l}=this.emit("beforefiltertrimmed",{collection:e,itemsToFilter:i,source:t,filterItems:s});a||(this.providers.data.setTrimmed({[ca]:l.itemsToFilter}),this.providers.column.updateColumns(r),this.emit("afterfilterapply",{multiFilterItems:s,source:t,collection:e}))}async clearFiltering(){this.multiFilterItems={},await this.runFiltering(this.multiFilterItems)}async runFiltering(e){const t={},n=Object.keys(e);for(const a of n)if(e[a].length>0){const n=e[a][0];t[a]={type:n.type,value:n.value}}this.filterCollection=t;const s=this.providers.column.getColumns(),r=this.providers.data.stores.rgRow.store.get("source"),{defaultPrevented:o,detail:i}=this.emit("beforefilterapply",{collection:this.filterCollection,source:r,columns:s,filterItems:this.multiFilterItems});o||this.doFiltering(i.collection,i.source,i.columns,i.filterItems)}getRowFilter(e,t,n){const s=Object.keys(t),r={};for(let o=0;o<e.length;o++)for(const i of s)this.shouldTrimRow(t[i],i,n[i],e[o])&&(r[o]=!0);return r}shouldTrimRow(e,t,n,s={}){let r=0,o=[];for(const[i,a]of e.entries()){const l=this.filterFunctionsIndexedByType[a.type],c=n?fo(s,n):s[t];if("or"===a.relation){if(o=[],l(c,a.value))continue;r++}else if(o.push(!l(c,a.value)),da(i,e)){if(ha(o)){o=[];continue}r+=o.length,o=[]}}return r===e.length}}function da(e,t){const n=t[e+1];return!n||!!n.relation&&"and"!==n.relation}function ha(e){return!e.includes(!0)}var fa=Ks("length"),pa=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var ga="\\ud800-\\udfff",ma="["+ga+"]",va="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",$a="\\ud83c[\\udffb-\\udfff]",ya="[^"+ga+"]",ba="(?:\\ud83c[\\udde6-\\uddff]){2}",wa="[\\ud800-\\udbff][\\udc00-\\udfff]",Sa="(?:"+va+"|"+$a+")"+"?",xa="[\\ufe0e\\ufe0f]?",Ca=xa+Sa+("(?:\\u200d(?:"+[ya,ba,wa].join("|")+")"+xa+Sa+")*"),Ea="(?:"+[ya+va+"?",va,ba,wa,ma].join("|")+")",Oa=RegExp($a+"(?="+$a+")|"+Ea+Ca,"g");function ja(e){return function(e){return pa.test(e)}(e)?function(e){for(var t=Oa.lastIndex=0;Oa.test(e);)++t;return t}(e):fa(e)}function Ra(e){if(null==e)return 0;if(os(e))return"string"==typeof(t=e)||!zn(t)&&Dt(t)&&"[object String]"==Tt(t)?ja(e):e.length;var t,n=xs(e);return"[object Map]"==n||"[object Set]"==n?e.size:rs(e).length}function za(e,t,n={}){return 0===Object.entries(n).length?[...Array(e.length).keys()]:e.sort((e,s)=>{const r=t[e],o=t[s];for(const[t,i]of Object.entries(n)){if(Go(r)&&r["__rvgr-prop"]!==t)return 0;if(Go(o)&&o["__rvgr-prop"]!==t)return 0;const e=null==i?void 0:i(t,r,o);if(e)return e}return 0})}function Ia(e,t,n){const s=this.column?ho(t,this.column):null==t?void 0:t[e],r=this.column?ho(n,this.column):null==n?void 0:n[e],o=null==s?void 0:s.toString().toLowerCase(),i=null==r?void 0:r.toString().toLowerCase();return o===i?0:o>i?1:-1}function _a(e,t){var n;const s=(null===(n=null==e?void 0:e.cellCompare)||void 0===n?void 0:n.bind({order:t}))||(null==Ia?void 0:Ia.bind({column:e,order:t}));return"asc"==t?s:"desc"==t?(r=s,(e,t,n)=>-1*r(e,t,n)):void 0;var r}class Ta extends Di{constructor(e,t,n){super(e,t),this.revogrid=e,this.sortingPromise=null,this.postponeSort=Xt((e,t,n)=>this.runSorting(e,t,n),50);const s=e=>{var t;if(e){const n={},s={};null===(t=e.columns)||void 0===t||t.forEach(e=>{n[e.prop]=_a(e,e.order),s[e.prop]=e.order}),e.additive?(this.sorting=Object.assign(Object.assign({},this.sorting),s),this.sortingFunc=Object.assign(Object.assign({},this.sortingFunc),n)):(this.sorting=s,this.sortingFunc=n)}};s(n),this.addEventListener("sortingconfigchanged",({detail:e})=>{n=e,s(e),this.startSorting(this.sorting,this.sortingFunc)}),this.addEventListener("beforeheaderrender",({detail:e})=>{var t;const{data:n}=e;n.sortable&&(e.data=Object.assign(Object.assign({},n),{order:null===(t=this.sorting)||void 0===t?void 0:t[n.prop]}))}),this.addEventListener("beforeanysource",({detail:{type:e}})=>{if(this.sorting&&this.sortingFunc){if(this.emit("beforesourcesortingapply",{type:e,sorting:this.sorting}).defaultPrevented)return;this.startSorting(this.sorting,this.sortingFunc)}}),this.addEventListener("aftercolumnsset",({detail:{order:e}})=>{if(n)return;const t=this.providers.column.getColumns(),s={};for(let n in e){const r=_a(yo(t,n),e[n]);s[n]=r}this.sorting=e,this.sortingFunc=e&&s}),this.addEventListener("beforeheaderclick",e=>{var t,n,s,r;e.defaultPrevented||(null===(n=null===(t=e.detail)||void 0===t?void 0:t.column)||void 0===n?void 0:n.sortable)&&this.headerclick(e.detail.column,null===(r=null===(s=e.detail)||void 0===s?void 0:s.originalEvent)||void 0===r?void 0:r.shiftKey)})}startSorting(e,t,n){this.sortingPromise||this.revogrid.jobsBeforeRender.push(new Promise(e=>{this.sortingPromise=e})),this.postponeSort(e,t,n)}headerclick(e,t){var n,s,r;const o=e.prop;let i=function(e){switch(e){case void 0:return"asc";case"asc":return"desc";case"desc":return}}(null===(n=this.sorting)||void 0===n?void 0:n[o]);const a=this.emit("beforesorting",{column:e,order:i,additive:t});if(a.defaultPrevented)return;i=a.detail.order;const l=this.emit("beforesortingapply",{column:a.detail.column,order:i,additive:t});if(l.defaultPrevented)return;const c=_a(l.detail.column,l.detail.order);if(l.detail.additive&&this.sorting){const e={},t={};this.sorting=Object.assign(Object.assign({},this.sorting),e),this.sortingFunc=Object.assign(Object.assign({},this.sortingFunc),t),o in e&&Ra(e)>1&&void 0===i?(delete e[o],delete t[o]):(e[o]=i,t[o]=c)}else i?(this.sorting={[o]:i},this.sortingFunc={[o]:c}):(null===(s=this.sorting)||void 0===s||delete s[o],null===(r=this.sortingFunc)||void 0===r||delete r[o]);this.startSorting(this.sorting,this.sortingFunc)}runSorting(e,t,n){var s;this.sort(e,t,void 0,n),null===(s=this.sortingPromise)||void 0===s||s.call(this),this.sortingPromise=null}sort(e,t,n=jo,s=!1){if(Object.keys(e||{}).length)for(let r of n){const e=this.providers.data.stores[r],n=e.store.get("source"),o=za([...e.store.get("proxyItems")],n,t),i=e.store.get("items");e.setData({proxyItems:o,source:[...n]});const a=e.store.get("items");s||this.providers.dimension.updateSizesPositionByNewDataIndexes(r,a,i)}else for(let r of n){const e=this.providers.data.stores[r],t=e.store.get("source"),n=e.store.get("proxyItems"),s=Array.from({length:t.length},(e,t)=>t);this.providers.dimension.updateSizesPositionByNewDataIndexes(r,s,n),e.setData({proxyItems:s,source:[...t]})}Ro.forEach(e=>{this.providers.column.dataSources[e].refresh()}),this.emit("aftersortingapply")}}const Na="grouping";class Da extends Di{getStore(e=ko){return this.providers.data.stores[e].store}constructor(e,t){super(e,t)}onFocus(e){Go(e.detail.model)&&e.preventDefault()}onExpand({virtualIndex:e}){const{source:t}=Ho(this.getStore().get("source"),this.getStore().get("proxyItems"));let n=this.getStore().get("trimmed")[Na],s=function(e,t){return e.get("items")[t]}(this.getStore(),e);if(Vo(t[s])){const{trimmed:e}=function(e,t){const n=t[e],s=n[No],r={};let o=e+1;const i=t.length;for(;o<i;){const e=t[o];if(Go(e)){const t=e[No];if(!t.length||!t.startsWith(s+","))break;e[Lo]=!1}r[o++]=!0}return n[Lo]=!1,{trimmed:r}}(s,t);n=Object.assign(Object.assign({},n),e),this.revogrid.clearFocus()}else{const{trimmed:s,items:r}=function(e,t,n){const s=n[e],r=t[s],o=Yo(r[To]),i={};if(!o)return{trimmed:i};const a=[];r[Lo]=!0;let l=s+1;const c=t.length;let u=0;for(;l<c;){const e=t[l],n=Go(e);if(n){if(!qo(o,r,e))break;u||(u=e[Io])}(!u||n&&u===e[Io])&&(i[l]=!1,a.push(l)),l++}const d={trimmed:i};if(a.length){const t=[...n];t.splice(e+1,0,...a),d.items=t}return d}(e,t,this.getStore().get("items"));n=Object.assign(Object.assign({},n),s),r&&function(e,t){e.set("items",t)}(this.getStore(),r)}this.getStore().set("source",t),this.revogrid.addTrimmed(n,Na)}setColumnGrouping(e){return!!(null==e?void 0:e.length)&&(e[0][Do]=!0,!0)}setColumns({columns:e}){for(let t of Ro)if(this.setColumnGrouping(e[t]))break}onDrag(e){const{from:t,to:n}=e.detail,s=n-t>=0,{source:r}=Ho(this.getStore().get("source"),this.getStore().get("proxyItems")),o=this.getStore().get("items");let i=s?t:n;const a=s?n:t;for(;i<a;i++){if(Go(r[o[i]]))return void e.preventDefault()}}beforeTrimmedApply(e,t){if(t===ca){const t=this.getStore().get("source");for(let n in e)e[n]&&Go(t[n])&&(e[n]=!1)}}isSortingRunning(){const e=this.providers.plugins.getByClass(Ta);return!!(null==e?void 0:e.sortingPromise)}doSourceUpdate(e){var t;const n=this.getStore(),{source:s,prevExpanded:r,oldNewIndexes:o}=Ho(n.get("source"),n.get("proxyItems"),!0),i=Object.assign({prevExpanded:r},e),{sourceWithGroups:a,depth:l,trimmed:c,oldNewIndexMap:u}=Uo(s,(null===(t=this.options)||void 0===t?void 0:t.props)||[],i),d=null==e?void 0:e.groupLabelTemplate;this.providers.data.setData(a,ko,this.revogrid.disableVirtualY,{depth:l,customRenderer:d},!0),this.updateTrimmed(c,null!=o?o:{},u)}onDataSet(e){var t,n;let s={};if(!1!==(null===(t=this.options)||void 0===t?void 0:t.preserveGroupingOnUpdate)){let{prevExpanded:e}=Ho(this.getStore().get("source"),this.getStore().get("proxyItems"),!0);s=e}const r=e.source.filter(e=>!Go(e)),o=Object.assign(Object.assign({},this.revogrid.grouping||{}),{prevExpanded:s}),{sourceWithGroups:i,depth:a,trimmed:l,oldNewIndexMap:c}=Uo(r,(null===(n=this.options)||void 0===n?void 0:n.props)||[],o);e.source=i,this.providers.data.setGrouping({depth:a}),this.updateTrimmed(l,c)}setGrouping(e){var t,n;if(this.clearSubscriptions(),this.options=e,!(null===(n=null===(t=this.options)||void 0===t?void 0:t.props)||void 0===n?void 0:n.length))return void this.clearGrouping();const s=this.getStore(),{source:r}=Ho(s.get("source"),s.get("proxyItems"));r.length&&this.doSourceUpdate(Object.assign({},e));for(let o of Ro)if(this.setColumnGrouping(this.providers.column.getColumns(o))){this.providers.column.refreshByType(o);break}this.addEventListener("beforesourceset",({detail:e})=>{var t,n,s;(null===(n=null===(t=this.options)||void 0===t?void 0:t.props)||void 0===n?void 0:n.length)&&(null===(s=null==e?void 0:e.source)||void 0===s?void 0:s.length)&&(this.isSortingRunning()||this.onDataSet(e))}),this.addEventListener("beforecolumnsset",({detail:e})=>{this.setColumns(e)}),this.addEventListener("beforetrimmed",({detail:{trimmed:e,trimmedType:t}})=>this.beforeTrimmedApply(e,t)),this.addEventListener("aftersortingapply",()=>{var e,t;(null===(t=null===(e=this.options)||void 0===e?void 0:e.props)||void 0===t?void 0:t.length)&&this.doSourceUpdate(Object.assign({},this.options))}),this.addEventListener("beforecellfocus",e=>this.onFocus(e)),this.addEventListener("roworderchanged",e=>this.onDrag(e)),this.addEventListener(Mo,e=>this.onExpand(e.detail))}clearGrouping(){Ro.forEach(e=>{const t=this.providers.column.getColumns(e);let n=!1;t.forEach(e=>{Xo(e)&&(delete e[Do],n=!0)}),n&&this.providers.column.refreshByType(e)});const{source:e,oldNewIndexes:t}=Ho(this.getStore().get("source"),this.getStore().get("proxyItems"),!0);this.providers.data.setData(e,ko,this.revogrid.disableVirtualY,void 0,!0),this.updateTrimmed(void 0,void 0,t)}updateTrimmed(e={},t={},n){const s=function(e,t,n){const s={};for(let r in e){if(r===Na)continue;const o=e[r],i={};for(let e in o){let a=t[e];n&&(a=n[a]),o[e]&&(i[a]=!0,a!==parseInt(e,10)&&(s[r]=i))}}return s}(this.getStore().get("trimmed"),t,n);for(let r in s)this.revogrid.addTrimmed(s[r],r);this.revogrid.addTrimmed(Object.assign({},e),Na)}}const La="column-drag-start";class Pa{constructor(){this.offset=0}renderAutoscroll(e,t){t&&(this.autoscrollEl=document.createElement("div"),this.autoscrollEl.classList.add("drag-auto-scroll-y"),t.appendChild(this.autoscrollEl))}autoscroll(e,t,n="translateX"){if(!this.autoscrollEl)return;const s=Math.min(e+10,t-3);this.autoscrollEl.style.transform=`${n}(${s}px)`,this.autoscrollEl.scrollIntoView({block:"nearest",inline:"nearest"})}start(e,{dataEl:t,gridRect:n,scrollEl:s,gridEl:r},o="left"){r.classList.add(La);const i=s.getBoundingClientRect();i&&(this.offset=i[o]-n[o]),this.renderAutoscroll(e,t)}stop(e){var t;e.classList.remove(La),this.element&&(this.element.hidden=!0),this.offset=0,null===(t=this.autoscrollEl)||void 0===t||t.remove(),this.autoscrollEl=void 0}showHandler(e,t,n="translateX"){this.element&&(this.offset&&(e=Math.max(e,this.offset)),e=Math.min(e,t),this.element.style.transform=`${n}(${e}px)`,this.element.hidden=!1)}render(){const e=this.element=document.createElement("div");return e.classList.add("drag-position-y"),e.hidden=!0,e}}const Aa=zi;class Fa extends Di{constructor(e,t){super(e,t),this.revogrid=e,this.providers=t,this.moveFunc=Xt(e=>this.doMove(e),5),this.staticDragData=null,this.dragData=null,this.localSubscriptions={},this.orderUi=new Pa,e.appendChild(this.orderUi.render()),e.classList.add("column-draggable"),this.localSubscriptions.mouseleave={target:document,callback:e=>this.onMouseOut(e)},this.localSubscriptions.mouseup={target:document,callback:e=>this.onMouseUp(e)},this.localSubscriptions.mousemove={target:document,callback:e=>this.move(e)},this.addEventListener(Aa,({detail:e})=>this.dragStart(e))}dragStart({event:e,data:t}){if(e.defaultPrevented)return;const{defaultPrevented:n}=wi(this.revogrid,"columndragstart",t);if(n)return;this.clearOrder();const{mouseleave:s,mouseup:r,mousemove:o}=this.localSubscriptions;s.target.addEventListener("mouseleave",s.callback),r.target.addEventListener("mouseup",r.callback);const i=e.target.closest("revogr-header"),a=e.target.closest("revogr-viewport-scroll");if(!i||!a)return;if(mo(t)||"rowHeaders"===t.providers.type)return;const l=this.getDimension(t.pin||"rgCol"),c=this.revogrid.getBoundingClientRect(),u=i.getBoundingClientRect(),d=to(l,Ma(e.x,c.left,u.left-c.left));this.staticDragData={startPos:e.x,startItem:d,data:t,dataEl:i,scrollEl:a,gridEl:this.revogrid,cols:l},this.dragData=this.getData(this.staticDragData),o.target.addEventListener("mousemove",o.callback),this.orderUi.start(e,Object.assign(Object.assign({},this.dragData),this.staticDragData))}doMove(e){if(!this.staticDragData)return;const t=this.dragData=this.getData(this.staticDragData);if(!t)return;const n=this.staticDragData.startPos;if(Math.abs(n-e.x)>10){const n=Ma(e.x,this.dragData.gridRect.left,this.dragData.scrollOffset),s=to(this.staticDragData.cols,n);if(this.orderUi.autoscroll(n,t.elRect.width),s.itemIndex>=this.staticDragData.cols.count)return;this.orderUi.showHandler(s.end+t.scrollOffset,t.gridRect.width)}}move(e){wi(this.revogrid,"columndragmousemove",e),this.moveFunc(e)}onMouseOut(e){this.clearOrder()}onMouseUp(e){if(this.dragData&&this.staticDragData){let t=Ma(e.x,this.dragData.gridRect.left,this.dragData.scrollOffset);t<0&&(t=0);const n=to(this.staticDragData.cols,t),s=this.providers.column.stores[this.dragData.type].store,r=[...s.get("items")],{defaultPrevented:o}=wi(this.revogrid,"beforecolumndragend",Object.assign(Object.assign({},this.staticDragData),{startPosition:this.staticDragData.startItem,newPosition:n,newItem:s.get("source")[r[this.staticDragData.startItem.itemIndex]]}));if(!o){const e=[...r],t=r.splice(this.staticDragData.startItem.itemIndex,1);r.splice(n.itemIndex,0,...t),s.set("items",r),this.providers.dimension.updateSizesPositionByNewDataIndexes(this.dragData.type,r,e)}wi(this.revogrid,"columndragend",this.dragData)}this.clearOrder()}clearLocalSubscriptions(){Pi(this.localSubscriptions,({target:e,callback:t},n)=>e.removeEventListener(n,t))}clearOrder(){this.staticDragData=null,this.dragData=null,this.clearLocalSubscriptions(),this.orderUi.stop(this.revogrid)}clearSubscriptions(){super.clearSubscriptions(),this.clearLocalSubscriptions()}getData({gridEl:e,dataEl:t,data:n}){const s=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=r.left-s.left;return{elRect:r,gridRect:s,type:n.pin||"rgCol",scrollOffset:o}}getDimension(e){return this.providers.dimension.stores[e].getCurrentState()}}function Ma(e,t,n){return e-t-n}const ka="routerLink",Ba="navManager",Ha=Symbol(),Va={default:Ha},Wa=e=>(null==e?void 0:e.split(" "))||[],Ua=(e,t,n=[])=>{var s;return[...Array.from((null==(s=e.value)?void 0:s.classList)||[]),...n].filter((e,n,s)=>!t.has(e)&&s.indexOf(e)===n)},Ga=((e,t,a=[],l)=>{const c=n((t,{attrs:n,slots:a,emit:c})=>{var u;t[l];const d=s(),h=new Set(Wa(n.class)),f=r(),p=(null==(u=null==f?void 0:f.appContext)?void 0:u.provides[Ba])?o(Ba):void 0;return()=>{t[l],Wa(n.class).forEach(e=>{h.add(e)});const s=t.onClick;let r={ref:d,class:Ua(d,h),onClick:e=>{void 0!==s&&s(e),e.defaultPrevented||(e=>{const{routerLink:n}=t;if(n!==Ha)if(void 0!==p){e.preventDefault();let n={event:e};for(const e in t){const s=t[e];t.hasOwnProperty(e)&&e.startsWith("router")&&s!==Ha&&(n[e]=s)}p.navigate(n)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")})(e)}};for(const e in t){const n=t[e];(t.hasOwnProperty(e)&&n!==Ha||e.startsWith("aria"))&&(r[e]=n)}return t[ka]!==Ha&&(r={...r,href:t[ka]}),i(e,r,a.default&&a.default())}});return"function"!=typeof c&&(c.name=e,c.props={[ka]:Va},a.forEach(e=>{c.props[e]=Va})),c})("revo-grid",0,["rowHeaders","frameSize","rowSize","colSize","range","readonly","resize","canFocus","useClipboard","columns","source","pinnedTopSource","pinnedBottomSource","rowDefinitions","editors","applyOnClose","plugins","columnTypes","theme","rowClass","autoSizeColumn","filter","sorting","focusTemplate","canMoveColumns","trimmedRows","exporting","grouping","stretch","additionalData","disableVirtualX","disableVirtualY","hideAttribution","jobsBeforeRender","registerVNode","accessible","rtl","canDrag","contentsizechanged","beforeedit","beforerangeedit","afteredit","beforeautofill","beforerange","afterfocus","roworderchanged","beforesorting","beforesourcesortingapply","beforesortingapply","rowdragstart","headerclick","beforecellfocus","beforefocuslost","beforesourceset","beforeanysource","aftersourceset","afteranysource","beforecolumnsset","beforecolumnapplied","aftercolumnsset","beforefilterapply","beforefiltertrimmed","beforetrimmed","aftertrimmed","viewportscroll","beforeexport","beforeeditstart","aftercolumnresize","beforerowdefinition","filterconfigchanged","sortingconfigchanged","rowheaderschanged","beforegridrender","aftergridrender","aftergridinit","additionaldatachanged","afterthemechanged","created"]);var Xa;const Ya=null==(Xa=async(e,t)=>{if("undefined"!=typeof window)return await wt(),mt([["revo-grid",[[4,"revo-grid",{rowHeaders:[4,"row-headers"],frameSize:[2,"frame-size"],rowSize:[2,"row-size"],colSize:[2,"col-size"],range:[4],readonly:[4],resize:[4],canFocus:[4,"can-focus"],useClipboard:[4,"use-clipboard"],columns:[16],source:[16],pinnedTopSource:[16,"pinned-top-source"],pinnedBottomSource:[16,"pinned-bottom-source"],rowDefinitions:[16,"row-definitions"],editors:[16],applyOnClose:[4,"apply-on-close"],plugins:[16],columnTypes:[16,"column-types"],theme:[1537],rowClass:[513,"row-class"],autoSizeColumn:[4,"auto-size-column"],filter:[4],sorting:[16],focusTemplate:[16,"focus-template"],canMoveColumns:[4,"can-move-columns"],trimmedRows:[16,"trimmed-rows"],exporting:[4],grouping:[16],stretch:[8],additionalData:[16,"additional-data"],disableVirtualX:[4,"disable-virtual-x"],disableVirtualY:[4,"disable-virtual-y"],hideAttribution:[4,"hide-attribution"],jobsBeforeRender:[16,"jobs-before-render"],registerVNode:[16,"register-v-node"],accessible:[4],rtl:[4],canDrag:[4,"can-drag"],refresh:[64],setDataAt:[64],scrollToRow:[64],scrollToColumnIndex:[64],scrollToColumnProp:[64],updateColumns:[64],addTrimmed:[64],scrollToCoordinate:[64],setCellEdit:[64],setCellsFocus:[64],getSource:[64],getVisibleSource:[64],getSourceStore:[64],getColumnStore:[64],updateColumnSorting:[64],clearSorting:[64],getColumns:[64],clearFocus:[64],getPlugins:[64],getFocused:[64],getContentSize:[64],getSelectedRange:[64],refreshExtraElements:[64],getProviders:[64]},[[5,"touchstart","mousedownHandle"],[5,"mousedown","mousedownHandle"],[5,"touchend","mouseupHandle"],[5,"mouseup","mouseupHandle"],[0,"rowdragstartinit","onRowDragStarted"],[0,"rowdragendinit","onRowDragEnd"],[0,"roworderchange","onRowOrderChange"],[0,"rowdragmoveinit","onRowDrag"],[0,"rowdragmousemove","onRowMouseMove"],[0,"celleditapply","onCellEdit"],[0,"rangeeditapply","onRangeEdit"],[0,"selectionchangeinit","onRangeChanged"],[0,"rowdropinit","onRowDropped"],[0,"beforeheaderclick","onHeaderClick"],[0,"beforecellfocusinit","onCellFocus"]],{columnTypes:["columnTypesChanged"],columns:["columnChanged"],disableVirtualX:["disableVirtualXChanged"],rowSize:["rowSizeChanged"],theme:["themeChanged"],source:["dataSourceChanged"],pinnedBottomSource:["dataSourceChanged"],pinnedTopSource:["dataSourceChanged"],disableVirtualY:["disableVirtualYChanged"],rowDefinitions:["rowDefChanged"],trimmedRows:["trimmedRowsChanged"],grouping:["groupingChanged"],stretch:["applyStretch"],filter:["applyFilter"],sorting:["applySorting"],rowHeaders:["rowHeadersChange"],registerVNode:["registerOutsideVNodes"],additionalData:["additionalDataChanged"],rtl:["rtlChanged"],plugins:["pluginsChanged"]}]]],["revogr-filter-panel",[[4,"revogr-filter-panel",{filterNames:[16,"filter-names"],filterEntities:[16,"filter-entities"],filterCaptions:[16,"filter-captions"],disableDynamicFiltering:[4,"disable-dynamic-filtering"],closeOnOutsideClick:[4,"close-on-outside-click"],isFilterIdSet:[32],filterId:[32],currentFilterId:[32],currentFilterType:[32],changes:[32],filterItems:[32],show:[64],getChanges:[64]},[[5,"mousedown","onMouseDown"]]]]],["revogr-clipboard_3",[[0,"revogr-clipboard",{readonly:[4],doCopy:[64]},[[4,"paste","onPaste"],[4,"copy","copyStarted"],[4,"cut","cutStarted"]]],[0,"revogr-edit",{editCell:[16,"edit-cell"],column:[16],editor:[16],saveOnClose:[4,"save-on-close"],additionalData:[8,"additional-data"],cancelChanges:[64],beforeDisconnect:[64]}],[0,"revogr-order-editor",{parent:[16],dimensionRow:[16,"dimension-row"],dimensionCol:[16,"dimension-col"],dataStore:[16,"data-store"],rowType:[1,"row-type"],dragStart:[64],endOrder:[64],clearOrder:[64]}]]],["revogr-data_4",[[4,"revogr-data",{readonly:[4],range:[4],rowClass:[1,"row-class"],additionalData:[8,"additional-data"],rowSelectionStore:[16,"row-selection-store"],viewportRow:[16,"viewport-row"],viewportCol:[16,"viewport-col"],dimensionRow:[16,"dimension-row"],colData:[16,"col-data"],dataStore:[16,"data-store"],type:[513],colType:[513,"col-type"],jobsBeforeRender:[16,"jobs-before-render"],providers:[32],updateCell:[64]},null,{dataStore:["onDataStoreChange"],colData:["onColDataChange"]}],[0,"revogr-header",{viewportCol:[16,"viewport-col"],dimensionCol:[16,"dimension-col"],selectionStore:[16,"selection-store"],groups:[16],groupingDepth:[2,"grouping-depth"],readonly:[4],canResize:[4,"can-resize"],resizeHandler:[16,"resize-handler"],colData:[16,"col-data"],columnFilter:[4,"column-filter"],type:[1],additionalData:[8,"additional-data"]}],[4,"revogr-viewport-scroll",{rowHeader:[4,"row-header"],contentWidth:[2,"content-width"],contentHeight:[2,"content-height"],colType:[1,"col-type"],setScroll:[64],changeScroll:[64],applyScroll:[64]},[[0,"mousewheel-vertical","mousewheelVertical"],[0,"mousewheel-horizontal","mousewheelHorizontal"],[0,"scroll-coordinate","scrollApply"]]],[0,"vnode-html",{redraw:[16]}]]],["revogr-attribution_7",[[0,"revogr-row-headers",{height:[2],dataPorts:[16,"data-ports"],headerProp:[16,"header-prop"],rowClass:[1,"row-class"],resize:[4],rowHeaderColumn:[16,"row-header-column"],additionalData:[8,"additional-data"],jobsBeforeRender:[16,"jobs-before-render"]}],[4,"revogr-overlay-selection",{readonly:[4],range:[4],canDrag:[4,"can-drag"],useClipboard:[4,"use-clipboard"],selectionStore:[16,"selection-store"],dimensionRow:[16,"dimension-row"],dimensionCol:[16,"dimension-col"],dataStore:[16,"data-store"],colData:[16,"col-data"],lastCell:[16,"last-cell"],editors:[16],applyChangesOnClose:[4,"apply-changes-on-close"],additionalData:[8,"additional-data"],isMobileDevice:[4,"is-mobile-device"]},[[5,"touchmove","onMouseMove"],[5,"mousemove","onMouseMove"],[5,"touchend","onMouseUp"],[5,"mouseup","onMouseUp"],[5,"mouseleave","onMouseUp"],[0,"dragstartcell","onCellDrag"],[4,"keyup","onKeyUp"],[4,"keydown","onKeyDown"]],{selectionStore:["selectionServiceSet"],dimensionRow:["createAutoFillService"],dimensionCol:["createAutoFillService"],dataStore:["columnServiceSet"],colData:["columnServiceSet"]}],[0,"revogr-attribution"],[4,"revogr-focus",{colType:[1,"col-type"],rowType:[1,"row-type"],selectionStore:[16,"selection-store"],dimensionRow:[16,"dimension-row"],dimensionCol:[16,"dimension-col"],dataStore:[16,"data-store"],colData:[16,"col-data"],focusTemplate:[16,"focus-template"]}],[0,"revogr-scroll-virtual",{dimension:[1],realSize:[2,"real-size"],virtualSize:[2,"virtual-size"],clientSize:[2,"client-size"],setScroll:[64],changeScroll:[64]}],[0,"revogr-temp-range",{selectionStore:[16,"selection-store"],dimensionRow:[16,"dimension-row"],dimensionCol:[16,"dimension-col"]}],[0,"revogr-extra",{nodes:[16],update:[32],refresh:[64]}]]]],t)})?void 0:Xa(),qa=t(async()=>{return!!(e=Ya)&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then&&await Ya,Ga;var e});export{zr as $,Ai as A,Di as B,Fa as C,Wr as D,qi as E,ua as F,Da as G,ie as H,bi as I,yi as J,Zo as K,Or as L,jr as M,uo as N,Jo as O,Eo as P,qa as Q,fr as R,Fi as S,$i as T,Pr as U,di as V,Oo as W,ni as X,$r as Y,Br as Z,Er as _,Ur as a,Rr as a0,to as a1,Ir as a2,Fr as a3,Hr as a4,Nt as a5,_r as a6,_o as a7,Lo as a8,Io as a9,Fo as aa,gr as ab,f as ac,Qo as ad,xr as ae,Cr as af,fo as ag,Mo as ah,Go as ai,pr as aj,wr as ak,Sr as al,Nr as am,Zs as an,br as ao,hr as ap,vi as aq,Ii as ar,zn as as,ao as at,yr as au,hn as av,vo as b,we as c,jo as d,Ta as e,So as f,yo as g,re as h,Mi as i,be as j,co as k,Ro as l,Xt as m,ur as n,go as o,no as p,Gr as q,b as r,Kr as s,Vr as t,po as u,qr as v,Yr as w,zo as x,wo as y,Ni as z};
