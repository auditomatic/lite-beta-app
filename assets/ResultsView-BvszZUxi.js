const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./PivotTableCore-DQVaAAT8.js","./vendor-AtAbR8ZE.js","./BaseModal.vue_vue_type_style_index_0_lang-Dt0u-Isl.js","./BaseModal-DbTyIa7L.css","./index-CUKeN6v3.js","./db-CL8uhZCz.js","./index-WKWW6WoI.css","./GenericModelSelectorModal-DO51gLSO.js","./models-db-otj6c6HH.js","./cost-formatting-Bv_drrqY.js","./feature-flags-DaxAZY-J.js","./EnvironmentalCostSummary-Bfbp4R2h.js","./designs-db-DRTwaT6B.js","./defaultData-Bk-Mi7PC.js","./variable.service-CAlTEhg4.js","./EnvironmentalCostSummary-BKiZ-OJU.css","./GenericModelSelectorModal-DA6kRAYO.css","./variables-db-w0s2OEpK.js","./PivotTableCore-BPEy8Vxy.css"])))=>i.map(i=>d[i]);
import{I as e,l as a,e as t,n as l,_ as s,T as i,R as n,f as r,r as o,t as c,v as u,w as d,L as p,x as v,s as f,u as m,y}from"./index-CUKeN6v3.js";import{k as g,d as b,f as h,c as _,a6 as k,B as x,_ as C,F as w,a8 as S,G as R,a0 as E,W as $,Z as T,Y as j,q as I,af as P,ai as O,V as M,a1 as q,u as A,l as D,aa as z,w as L,o as F,X as U}from"./vendor-AtAbR8ZE.js";import{u as N}from"./useResponsiveTable-D21Makc9.js";import{A as B,P as V,a as H,_ as J,T as K}from"./PivotTableCore-DQVaAAT8.js";import{i as W}from"./feature-flags-DaxAZY-J.js";import"./db-CL8uhZCz.js";import"./BaseModal.vue_vue_type_style_index_0_lang-Dt0u-Isl.js";import"./GenericModelSelectorModal-DO51gLSO.js";import"./models-db-otj6c6HH.js";import"./cost-formatting-Bv_drrqY.js";import"./EnvironmentalCostSummary-Bfbp4R2h.js";import"./designs-db-DRTwaT6B.js";import"./defaultData-Bk-Mi7PC.js";import"./variable.service-CAlTEhg4.js";import"./variables-db-w0s2OEpK.js";var G={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};function Y(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},l=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),l.forEach(function(a){X(e,a,t[a])})}return e}function X(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var Z=function(a,t){var l=Y({},a,t.attrs);return g(e,Y({},l,{icon:G}),null)};Z.displayName="ExportOutlined",Z.inheritAttrs=!1;const Q={class:"modal-content"},ee={class:"modal-header"},ae={class:"modal-body"},te={class:"section"},le={class:"format-options"},se=["data-testid","aria-label"],ie=["value","data-testid","aria-label"],ne={class:"format-label"},re={class:"format-name"},oe={class:"section"},ce={class:"field-groups"},ue=["data-testid"],de={class:"field-list"},pe=["data-testid","aria-label"],ve=["value","data-testid","aria-label"],fe={class:"field-label"},me={class:"field-name"},ye={class:"field-desc"},ge={class:"section"},be={class:"preview-info"},he={class:"preview-count"},_e={class:"preview-fields"},ke={class:"preview-size"},xe={class:"modal-footer"},Ce=s(b({__name:"ExportDataModal",props:{trial:{},apiCalls:{}},emits:["close"],setup(e){const s=e,i=[{id:"csv",name:"CSV",description:"Comma-separated values (Excel compatible)"},{id:"tsv",name:"TSV",description:"Tab-separated values"},{id:"excel",name:"Excel",description:"Microsoft Excel (.xlsx)"},{id:"json",name:"JSON",description:"JavaScript Object Notation"},{id:"jsonl",name:"JSONL",description:"JSON Lines (one object per line)"}],n=[{name:"Basic Info",fields:[{id:"id",name:"ID",description:"API call identifier",default:!0},{id:"trial_id",name:"Trial ID",description:"Parent trial identifier",default:!0},{id:"trial_name",name:"Trial Name",description:"Human-readable trial name",default:!0},{id:"status",name:"Status",description:"Call status (completed, failed, etc.)",default:!0},{id:"created",name:"Created",description:"When the call was initiated",default:!0},{id:"completed",name:"Completed",description:"When the call finished",default:!0}]},{name:"Configuration",fields:[{id:"configuration_index",name:"Config Index",description:"Configuration array index",default:!1},{id:"configuration_name",name:"Config Name",description:"Human-readable config name",default:!1},{id:"provider",name:"Provider",description:"LLM service provider",default:!0},{id:"model",name:"Model",description:"Model identifier",default:!0}]},{name:"Content",fields:[{id:"prompt",name:"Prompt",description:"Input prompt text",default:!0},{id:"variables",name:"Variables",description:"Variable substitutions (flattened as separate columns)",default:!0},{id:"result_content",name:"Result Content",description:"LLM response content",default:!0},{id:"result_error",name:"Result Error",description:"Error message if failed",default:!0}]},{name:"Performance",fields:[{id:"response_latency_ms",name:"Latency (ms)",description:"Response time",default:!0},{id:"duration_ms",name:"Duration (ms)",description:"Total processing time",default:!1},{id:"result_success",name:"Success",description:"Whether call succeeded",default:!0}]},{name:"Technical Details",fields:[{id:"request_url",name:"Request URL",description:"API endpoint URL",default:!0},{id:"request_method",name:"Request Method",description:"HTTP method",default:!1},{id:"request_headers",name:"Request Headers",description:"HTTP request headers",default:!1},{id:"request_body",name:"Request Body",description:"Full request payload",default:!1},{id:"response_status",name:"Response Status",description:"HTTP status code",default:!0},{id:"response_headers",name:"Response Headers",description:"HTTP response headers",default:!1},{id:"response_body",name:"Response Body",description:"Full response payload",default:!1}]},{name:"Error Handling",fields:[{id:"network_error_count",name:"Network Errors",description:"Number of network failures",default:!1},{id:"retry_count",name:"Retry Count",description:"Number of retry attempts",default:!1}]}],r=h("csv"),o=h([]),c=n.flatMap(e=>e.fields);o.value=c.filter(e=>e.default).map(e=>e.id);const u=_(()=>{const e=50*o.value.length,a=s.apiCalls.length*e;return a<1024?`${a}B`:a<1048576?`${(a/1024).toFixed(1)}KB`:`${(a/1048576).toFixed(1)}MB`});function d(){o.value=c.map(e=>e.id)}function p(){o.value=c.filter(e=>e.default).map(e=>e.id)}function v(){o.value=[]}function f(){const e=new Set;return o.value.includes("variables")&&s.apiCalls.forEach(a=>{a.variables&&"object"==typeof a.variables&&Object.keys(a.variables).forEach(a=>e.add(a))}),s.apiCalls.map(a=>{const t={};var l,i;if(o.value.includes("id")&&(t.ID=a.id),o.value.includes("trial_id")&&(t["Trial ID"]=a.trialId),o.value.includes("trial_name")&&(t["Trial Name"]=s.trial.name),o.value.includes("status")&&(t.Status=a.status),o.value.includes("created")&&(t.Created=a.created.toISOString()),o.value.includes("completed")&&(t.Completed=a.completed?.toISOString()||""),o.value.includes("configuration_index")&&(t["Configuration Index"]=a.configurationIndex),o.value.includes("configuration_name")&&(t["Configuration Name"]=(l=a.configurationIndex,s.trial.configurationSnapshots[l]&&s.trial.configurationSnapshots[l].name||`Config ${l+1}`)),o.value.includes("provider")&&(t.Provider=(i=a,i.request?.url?.includes("openai.com")?"OpenAI":i.request?.url?.includes("anthropic.com")?"Anthropic":i.request?.url?.includes("openrouter.ai")?"OpenRouter":i.request?.url?.includes("localhost:11434")?"Ollama":"Unknown")),o.value.includes("model")&&(t.Model=function(e){return e.request?.body?.model?e.request.body.model:"Unknown"}(a)),o.value.includes("prompt")&&(t.Prompt=a.prompt),o.value.includes("variables"))for(const s of e)t[`variable_${s}`]=a.variables?.[s]||"";return o.value.includes("result_content")&&(t["Result Content"]=a.result?.content||""),o.value.includes("result_error")&&(t["Result Error"]=a.result?.error||""),o.value.includes("response_latency_ms")&&(t["Response Latency (ms)"]=a.response?.latencyMs||""),o.value.includes("duration_ms")&&(t["Duration (ms)"]=a.completed?a.completed.getTime()-a.created.getTime():""),o.value.includes("result_success")&&(t["Result Success"]=a.result?.success||!1),o.value.includes("request_url")&&(t["Request URL"]=a.request?.url||""),o.value.includes("request_method")&&(t["Request Method"]=a.request?.method||""),o.value.includes("request_headers")&&(t["Request Headers"]=JSON.stringify(a.request?.headers||{})),o.value.includes("request_body")&&(t["Request Body"]=JSON.stringify(a.request?.body||{})),o.value.includes("response_status")&&(t["Response Status"]=a.response?.status||""),o.value.includes("response_headers")&&(t["Response Headers"]=JSON.stringify(a.response?.headers||{})),o.value.includes("response_body")&&(t["Response Body"]=JSON.stringify(a.response?.body||{})),o.value.includes("network_error_count")&&(t["Network Error Count"]=0),o.value.includes("retry_count")&&(t["Retry Count"]=0),t})}async function m(){const e=f(),i=(new Date).toISOString().split("T")[0],n=`${s.trial.name}_${r.value}_${i}`;try{switch(r.value){case"csv":!function(e,a){if(0===e.length)return;const t=Object.keys(e[0]||{}),l=t.filter(e=>!e.startsWith("variable_")),s=t.filter(e=>e.startsWith("variable_")).sort(),i=[...l,...s],n=[i.join(","),...e.map(e=>i.map(a=>`"${String(e[a]||"").replace(/"/g,'""')}"`).join(","))].join("\n");y(n,`${a}.csv`,"text/csv")}(e,n);break;case"tsv":!function(e,a){if(0===e.length)return;const t=Object.keys(e[0]||{}),l=t.filter(e=>!e.startsWith("variable_")),s=t.filter(e=>e.startsWith("variable_")).sort(),i=[...l,...s],n=[i.join("\t"),...e.map(e=>i.map(a=>String(e[a]||"").replace(/\t/g," ")).join("\t"))].join("\n");y(n,`${a}.tsv`,"text/tab-separated-values")}(e,n);break;case"excel":await async function(e,a){const t=await l(()=>import("./xlsx-C4WhbwXR.js"),[],import.meta.url),s=t.utils.book_new(),i=t.utils.json_to_sheet(e),n=Object.keys(e[0]||{}),r=n.map(e=>({wch:Math.min(Math.max(e.length,10),50)}));i["!cols"]=r,t.utils.book_append_sheet(s,i,"Trial Results"),t.writeFile(s,`${a}.xlsx`)}(e,n);break;case"json":!function(e,a){const t=JSON.stringify(e,null,2);y(t,`${a}.json`,"application/json")}(e,n);break;case"jsonl":!function(e,a){const t=e.map(e=>JSON.stringify(e)).join("\n");y(t,`${a}.jsonl`,"application/jsonl")}(e,n)}}catch(o){a.error("Export failed",o),t.error("Export failed: "+(o instanceof Error?o.message:"Unknown error"))}}function y(e,a,t){let l=e;"text/csv"!==t&&"text/tab-separated-values"!==t||(l="\ufeff"+e);const s=new Blob([l],{type:`${t};charset=utf-8`}),i=URL.createObjectURL(s),n=document.createElement("a");n.href=i,n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)}return(e,a)=>{const t=$("a-button");return j(),k("div",{class:"modal-overlay",onClick:a[4]||(a[4]=x(a=>e.$emit("close"),["self"]))},[C("div",Q,[C("div",ee,[a[5]||(a[5]=C("h3",null,"Export Trial Data",-1)),C("button",{onClick:a[0]||(a[0]=a=>e.$emit("close")),class:"close-btn","data-testid":"btn-close-export-modal","aria-label":"Close export modal"},"×")]),C("div",ae,[C("div",te,[a[6]||(a[6]=C("h4",null,"Export Format",-1)),C("div",le,[(j(),k(w,null,S(i,e=>C("label",{key:e.id,class:"format-option","data-testid":`label-format-${e.id}`,"aria-label":`Export as ${e.name} format`},[I(C("input",{type:"radio",value:e.id,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),class:"format-radio","data-testid":`radio-format-${e.id}`,"aria-label":`Select ${e.name} format`},null,8,ie),[[P,r.value]]),C("span",ne,[C("span",re,E(e.name),1)])],8,se)),64))])]),C("div",oe,[C("h4",null,[a[7]||(a[7]=R(" Fields to Export ")),C("div",{class:"field-controls"},[C("button",{onClick:d,class:"control-btn","data-testid":"btn-select-all-fields","aria-label":"Select all export fields"},"Select All"),C("button",{onClick:p,class:"control-btn","data-testid":"btn-select-default-fields","aria-label":"Select default export fields"},"Defaults"),C("button",{onClick:v,class:"control-btn","data-testid":"btn-select-no-fields","aria-label":"Deselect all export fields"},"Select None")])]),C("div",ce,[(j(),k(w,null,S(n,e=>C("div",{key:e.name,class:"field-group","data-testid":`field-group-${e.name.toLowerCase().replace(/\s+/g,"-")}`},[C("h5",null,E(e.name),1),C("div",de,[(j(!0),k(w,null,S(e.fields,e=>(j(),k("label",{key:e.id,class:"field-option","data-testid":`label-field-${e.id}`,"aria-label":`Include ${e.name} in export`},[I(C("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value=e),class:"field-checkbox","data-testid":`checkbox-field-${e.id}`,"aria-label":`Select ${e.name} field for export`},null,8,ve),[[O,o.value]]),C("span",fe,[C("span",me,E(e.name),1),C("span",ye,E(e.description),1)])],8,pe))),128))])],8,ue)),64))])]),C("div",ge,[a[8]||(a[8]=C("h4",null,"Export Preview",-1)),C("div",be,[C("span",he,E(e.apiCalls.length)+" records",1),C("span",_e,E(o.value.length)+" fields",1),C("span",ke,"~"+E(u.value),1)])])]),C("div",xe,[g(t,{onClick:a[3]||(a[3]=a=>e.$emit("close")),size:"large",class:"footer-button","data-testid":"btn-cancel-export","aria-label":"Cancel export"},{default:T(()=>a[9]||(a[9]=[R(" Cancel ")])),_:1,__:[9]}),g(t,{type:"primary",onClick:m,disabled:0===o.value.length,size:"large",class:"footer-button footer-button-primary","data-testid":"btn-confirm-export","data-format":r.value,"aria-label":`Export data as ${r.value.toUpperCase()}`},{default:T(()=>[R(" Export "+E(r.value.toUpperCase()),1)]),_:1},8,["disabled","data-format","aria-label"])])])])}}}),[["__scopeId","data-v-92920379"]]),we={class:"results-table-container full-width","data-testid":"results-table-container"},Se={class:"results-header"},Re={class:"header-actions"},Ee={class:"scientific-table-container"},$e={class:"scientific-table-wrapper"},Te={key:0,class:"trial-info-cell"},je={class:"trial-header"},Ie={class:"trial-name"},Pe={class:"trial-design"},Oe={class:"text-secondary"},Me={class:"trial-created"},qe={class:"text-secondary"},Ae={key:1,class:"progress-summary"},De={class:"progress-stats"},ze={class:"stat successful"},Le={class:"stat failed"},Fe={class:"stat total"},Ue={class:"progress-text"},Ne={key:0,class:"error-indicator"},Be={key:2,class:"success-rate-cell"},Ve={class:"rate-value"},He={key:3,class:"performance-cell"},Je={class:"metric"},Ke={class:"metric-value"},We={class:"metric"},Ge={class:"metric-value"},Ye={key:4,class:"configurations-cell"},Xe={class:"config-details"},Ze={class:"text-secondary"},Qe={key:5,class:"cost-summary"},ea={key:1,class:"text-secondary"},aa={key:0,class:"cost-per-call"},ta={key:6,class:"table-actions-grid table-actions-grid-3"},la=s(b({__name:"ResultsTable",props:{trials:{},loading:{type:Boolean,default:!1}},emits:["view-results","export-trial","duplicate-trial","delete-trial","trial-details","refresh-trials","export-all","status-filter-changed"],setup(e,{emit:t}){const l=e,s=t,c=h("all"),u=h(!1),d=h(null),p=h([]),v=[{key:"all",label:"All"},{key:"completed",label:"Completed"},{key:"failed",label:"Failed"},{key:"running",label:"Running"},{key:"cancelled",label:"Cancelled"}],{getVisibleColumns:f,createResultColumns:m}=N(),y=f(m()),b=_(()=>"all"===c.value?l.trials:l.trials.filter(e=>e.status===c.value)),I=_(()=>l.trials.filter(e=>"completed"===e.status));function P(e){c.value=e,s("status-filter-changed",e)}function O(e){s("view-results",e)}function L(e){return"all"===e?l.trials.length:l.trials.filter(a=>a.status===e).length}function F(e){return 0===e.progress.total?0:Math.round(e.progress.completed/e.progress.total*100)}function U(e){if(0===e.progress.completed)return 0;const a=e.progress.completed-e.progress.networkErrors;return Math.round(a/e.progress.completed*100)}function B(e){const a=U(e);return a>=95?"#52c41a":a>=80?"#faad14":"#ff4d4f"}function V(e){return e.progress.completed>0?"1,234":"-"}function H(e){return e.progress.completed>0?"2.5":"-"}function J(e){if(0===e.progress.total||0===e.estimatedCost)return"-";return(Math.abs(e.estimatedCost)/e.progress.total).toFixed(4)}function K(e){const a=[];return"completed"===e.status&&a.push("status-completed"),"failed"===e.status&&a.push("status-failed"),"running"===e.status&&a.push("status-running"),a.join(" ")}function W(e){const a=(new Date).getTime()-e.getTime(),t=Math.floor(a/864e5);return 0===t?"Today":1===t?"Yesterday":t<7?`${t} days ago`:t<30?`${Math.floor(t/7)} weeks ago`:e.toLocaleDateString()}function G(){s("refresh-trials")}async function Y(){const e=I.value;if(0!==e.length)try{const a=[];for(const t of e){const e=await o.apiCalls.where("trialId").equals(t.id).toArray();a.push(...e)}d.value={id:"all-trials",name:`All Completed Trials (${e.length} trials)`,status:"completed",created:new Date,updated:new Date,designSnapshot:{originalName:"Multiple Designs"},configurationSnapshots:[],variableSnapshots:{},progress:{completed:a.filter(e=>"completed"===e.status).length,total:a.length,networkErrors:a.filter(e=>"failed"===e.status&&"network_error_no_response"===e.result?.errorType).length},totalCombinations:a.length,estimatedCost:e.reduce((e,a)=>e+a.estimatedCost,0)},p.value=a,u.value=!0}catch(t){a.error("Failed to load API calls",t)}}function X(e){return D("div",{class:"expanded-trial-details"},[D("h4",{style:{margin:"0 0 12px 0",fontSize:"13px"}},"Configuration Breakdown"),D(i,{columns:[{title:"Model",dataIndex:"model",key:"model",width:200},{title:"Parameters",dataIndex:"parameters",key:"parameters",width:300},{title:"Calls",dataIndex:"calls",key:"calls",width:80,align:"center"},{title:"Success Rate",dataIndex:"successRate",key:"successRate",width:100,align:"center"},{title:"Avg Latency",dataIndex:"latency",key:"latency",width:100,align:"center"},{title:"Cost",dataIndex:"cost",key:"cost",width:80,align:"right"}],dataSource:(a=e,(a.configurationSnapshots||[]).map((e,t)=>({id:t,model:`${e.provider}:${e.modelId}`,parameters:Object.entries(e.parameters).map(([e,a])=>`${e}:${a}`).join(", "),calls:Math.floor(a.progress.total/(a.configurationSnapshots?.length||1)),successRate:`${U(a)}%`,latency:V(a)+"ms",cost:`$${J(a)}`}))),pagination:!1,size:"small",rowKey:"id"})]);var a}return(e,t)=>{const l=$("a-button"),i=$("a-space"),f=$("a-tab-pane"),m=$("a-tabs"),h=$("a-tag"),_=$("a-progress"),D=$("a-table");return j(),k("div",we,[C("div",Se,[t[4]||(t[4]=C("div",{class:"header-content"},[C("h2",null,"Trial Results"),C("p",{class:"description"}," Analyze and export completed experimental results ")],-1)),C("div",Re,[g(i,null,{default:T(()=>[g(l,{onClick:G,"data-testid":"btn-refresh-trials","aria-label":"Refresh trial results"},{icon:T(()=>[g(A(n))]),default:T(()=>[t[2]||(t[2]=R(" Refresh "))]),_:1,__:[2]}),g(l,{type:"primary",onClick:Y,disabled:0===I.value.length,"data-testid":"btn-export-all-data","aria-label":"Export all trial data"},{icon:T(()=>[g(A(r))]),default:T(()=>[t[3]||(t[3]=R(" Export All Data "))]),_:1,__:[3]},8,["disabled"])]),_:1})])]),g(m,{activeKey:c.value,"onUpdate:activeKey":t[0]||(t[0]=e=>c.value=e),size:"small",class:"status-tabs","data-testid":"tabs-status-filter",onChange:P},{default:T(()=>[(j(),k(w,null,S(v,e=>g(f,{key:e.key,tab:`${e.label} (${L(e.key)})`},null,8,["tab"])),64))]),_:1},8,["activeKey"]),C("div",Ee,[C("div",$e,[g(D,{columns:A(y),"data-source":b.value,pagination:!1,size:"small",scroll:{y:"calc(100vh - 200px)"},"row-key":"id","row-class-name":K,class:"scientific-table",onRowClick:O,"expand-row-by-click":!1,"expanded-row-render":X},{bodyCell:T(({column:e,record:i})=>{return["trial"===e.key?(j(),k("div",Te,[C("div",je,[C("strong",Ie,E(i.name),1),g(h,{color:(r=i.status,{completed:"success",failed:"error",running:"processing",cancelled:"default",draft:"default",pending:"processing",paused:"warning"}[r]||"default"),size:"small",class:"trial-status-tag"},{default:T(()=>[R(E(i.status.toUpperCase()),1)]),_:2},1032,["color"])]),C("div",Pe,[C("small",Oe," Design: "+E(i.designSnapshot?.originalName||"Unknown Design"),1)]),C("div",Me,[C("small",qe," Created "+E(W(i.created)),1)])])):q("",!0),"progress"===e.key?(j(),k("div",Ae,[C("div",De,[C("span",ze,E(i.progress.completed)+" ✓",1),C("span",Le,E(i.progress.networkErrors)+" ✗",1),C("span",Fe,"/ "+E(i.progress.total),1)]),g(_,{percent:F(i),size:"small",status:(n=i,"failed"===n.status?"exception":"completed"===n.status?"success":n.progress.networkErrors>0?"exception":"normal"),"show-info":!1,class:"progress-bar"},null,8,["percent","status"]),C("div",Ue,[R(E(F(i))+"% complete ",1),i.progress.networkErrors>0?(j(),k("span",Ne," ("+E(i.progress.networkErrors)+" errors) ",1)):q("",!0)])])):q("",!0),"success_rate"===e.key?(j(),k("div",Be,[C("div",Ve,E(U(i))+"%",1),g(_,{percent:U(i),size:"small","show-info":!1,"stroke-color":B(i),class:"success-rate-bar"},null,8,["percent","stroke-color"])])):q("",!0),"performance"===e.key?(j(),k("div",He,[C("div",Je,[t[5]||(t[5]=C("small",{class:"metric-label"},"Avg Latency",-1)),C("strong",Ke,E(V(i))+"ms",1)]),C("div",We,[t[6]||(t[6]=C("small",{class:"metric-label"},"Throughput",-1)),C("strong",Ge,E(H(i))+"/min",1)])])):q("",!0),"configurations"===e.key?(j(),k("div",Ye,[g(h,{size:"small",color:"blue"},{default:T(()=>[R(E(i.configurationSnapshots?.length||0)+" configs ",1)]),_:2},1024),i.repeatConfig?.callsPerPrompt&&i.repeatConfig.callsPerPrompt>1?(j(),M(h,{key:0,size:"small",color:"purple",style:{"margin-left":"4px"}},{default:T(()=>[R(E(i.repeatConfig.callsPerPrompt)+"× repeat ",1)]),_:2},1024)):q("",!0),C("div",Xe,[C("small",Ze,E(i.totalCombinations)+" variables ",1)])])):q("",!0),"cost"===e.key?(j(),k("div",Qe,[C("span",{class:z(["cost-value",{negative:i.estimatedCost<0}])},[Math.abs(i.estimatedCost)>0?(j(),k(w,{key:0},[R(" $"+E(Math.abs(i.estimatedCost).toFixed(3)),1)],64)):(j(),k("span",ea,"-"))],2),i.progress.total>0?(j(),k("small",aa," $"+E(J(i))+"/call ",1)):q("",!0)])):q("",!0),"actions"===e.key?(j(),k("div",ta,[g(l,{size:"small",onClick:x(e=>function(e){s("view-results",e)}(i),["stop"]),"data-testid":"btn-view-results","data-trial-id":i.id,"aria-label":`View results for trial ${i.name}`},{default:T(()=>t[7]||(t[7]=[R(" View Results ")])),_:2,__:[7]},1032,["onClick","data-trial-id","aria-label"]),g(l,{size:"small",onClick:x(e=>async function(e){d.value=e;try{p.value=await o.apiCalls.where("trialId").equals(e.id).toArray(),u.value=!0}catch(t){a.error("Failed to load API calls",t)}}(i),["stop"]),"data-testid":"btn-data-export","data-trial-id":i.id,"aria-label":`Export data for trial ${i.name}`},{default:T(()=>t[8]||(t[8]=[R(" Data Export ")])),_:2,__:[8]},1032,["onClick","data-trial-id","aria-label"]),g(l,{size:"small",onClick:x(e=>function(e){s("export-trial",e,"python")}(i),["stop"]),"data-testid":"btn-python-export","data-trial-id":i.id,"aria-label":`Export Python code for trial ${i.name}`},{default:T(()=>t[9]||(t[9]=[R(" Python Export ")])),_:2,__:[9]},1032,["onClick","data-trial-id","aria-label"])])):q("",!0)];var n,r}),_:1},8,["columns","data-source"])])]),u.value&&d.value?(j(),M(Ce,{key:0,trial:d.value,"api-calls":p.value,onClose:t[1]||(t[1]=e=>u.value=!1)},null,8,["trial","api-calls"])):q("",!0)])}}}),[["__scopeId","data-v-b51774fe"]]),sa={class:"repeat-group"},ia={class:"group-header"},na={class:"prompt-preview"},ra={class:"prompt-text"},oa={key:0,class:"group-stats"},ca={key:0,class:"stats-range"},ua={class:"response-header"},da={class:"response-index"},pa={key:2,class:"latency"},va={class:"response-content"},fa={key:0,class:"result-content"},ma={class:"extracted-value"},ya={key:1,class:"raw-response"},ga={class:"response-text"},ba={key:2,class:"error-content"},ha=s(b({__name:"RepeatGroupResults",props:{calls:{},initialExpanded:{type:Boolean}},setup(e){const a=e,t=h(a.initialExpanded?[a.calls[0]?.id]:[]),l=_(()=>c(a.calls));function s(e,a=150){return e.length<=a?e:e.substring(0,a)+"..."}return(e,a)=>{const i=$("a-tag"),n=$("a-space"),r=$("a-statistic"),o=$("a-col"),c=$("a-row"),u=$("a-alert"),d=$("a-collapse-panel"),p=$("a-collapse");return j(),k("div",sa,[C("div",ia,[C("div",na,[a[1]||(a[1]=C("strong",null,"Prompt:",-1)),C("span",ra,E(s(e.calls[0].prompt)),1)]),g(n,null,{default:T(()=>[g(i,{color:"blue"},{default:T(()=>[R(E(e.calls.length)+" responses",1)]),_:1}),100===l.value.consistencyScore?(j(),M(i,{key:0,color:"green"},{default:T(()=>a[2]||(a[2]=[R("Consistent")])),_:1,__:[2]})):l.value.consistencyScore>=80?(j(),M(i,{key:1,color:"orange"},{default:T(()=>a[3]||(a[3]=[R("Mostly Consistent")])),_:1,__:[3]})):(j(),M(i,{key:2,color:"red"},{default:T(()=>a[4]||(a[4]=[R("Varied")])),_:1,__:[4]}))]),_:1})]),e.calls.length>1?(j(),k("div",oa,[g(c,{gutter:16},{default:T(()=>[g(o,{span:6},{default:T(()=>[g(r,{title:"Consistency",value:l.value.consistencyScore,suffix:"%",precision:1},null,8,["value"])]),_:1}),g(o,{span:6},{default:T(()=>[g(r,{title:"Avg Response Length",value:l.value.avgResponseLength},null,8,["value"])]),_:1}),g(o,{span:6},{default:T(()=>[g(r,{title:"Avg Response Time",value:l.value.avgResponseTime,suffix:"ms"},null,8,["value"])]),_:1}),g(o,{span:6},{default:T(()=>[g(r,{title:"Success Rate",value:l.value.successRate,suffix:"%"},null,8,["value"])]),_:1})]),_:1}),l.value.minResponseTime!==l.value.maxResponseTime?(j(),k("div",ca,[C("span",null,"Response time range: "+E(l.value.minResponseTime)+"ms - "+E(l.value.maxResponseTime)+"ms",1)])):q("",!0)])):q("",!0),g(p,{activeKey:t.value,"onUpdate:activeKey":a[0]||(a[0]=e=>t.value=e),style:{"margin-top":"16px"}},{default:T(()=>[(j(!0),k(w,null,S(e.calls,(e,t)=>(j(),M(d,{key:e.id},{header:T(()=>[C("div",ua,[C("span",da,"Response "+E(t+1),1),g(n,{size:"small"},{default:T(()=>[e.result?.success?(j(),M(i,{key:0,color:"success",size:"small"},{default:T(()=>a[5]||(a[5]=[R("Success")])),_:1,__:[5]})):(j(),M(i,{key:1,color:"error",size:"small"},{default:T(()=>a[6]||(a[6]=[R("Failed")])),_:1,__:[6]})),e.response?.latencyMs?(j(),k("span",pa,E(e.response.latencyMs)+"ms",1)):q("",!0)]),_:2},1024)])]),default:T(()=>[C("div",va,[e.result?.content?(j(),k("div",fa,[a[7]||(a[7]=C("h4",null,"Extracted Result:",-1)),C("div",ma,E(e.result.content),1)])):q("",!0),e.response?.body?.choices?.[0]?.message?.content?(j(),k("div",ya,[a[8]||(a[8]=C("h4",null,"Full Response:",-1)),C("pre",ga,E(e.response.body.choices[0].message.content),1)])):e.result?.error?(j(),k("div",ba,[g(u,{type:"error","show-icon":""},{message:T(()=>[R(E(e.result.error),1)]),_:2},1024)])):q("",!0)])]),_:2},1024))),128))]),_:1},8,["activeKey"])])}}}),[["__scopeId","data-v-dbf18579"]]),_a={class:"results-table-container"},ka={class:"filters-bar"},xa={key:0,class:"grouped-results"},Ca={key:0,class:"loading-container"},wa={key:1},Sa={key:1},Ra={key:2,class:"variables-compact"},Ea={key:0,class:"text-secondary"},$a={key:1,class:"text-secondary"},Ta={key:2,class:"text-error"},ja={key:3,class:"response-content"},Ia={key:4,class:"text-secondary"},Pa={key:0,class:"length-value"},Oa={key:1,class:"text-secondary"},Ma={key:0},qa={key:1,class:"text-secondary"},Aa=s(b({__name:"TrialResultsTable",props:{trial:{},apiCalls:{},loading:{type:Boolean}},setup(e){const a=e,t=h(""),l=h(""),s=h(""),i=h(!1),n=h(null),r=[{title:"Status",key:"status",width:100,fixed:"left"},{title:"Config",key:"config",width:150},{title:"Variables",key:"variables",width:400},{title:"Response",key:"response",ellipsis:!0},{title:"Length",key:"length",width:80,align:"right"},{title:"Latency",key:"latency",width:80,align:"right"}],o=_(()=>u(c.value)),c=_(()=>{let e=a.apiCalls;if(t.value&&(e=e.filter(e=>e.status===t.value)),""!==l.value&&(e=e.filter(e=>e.configurationIndex===Number(l.value))),s.value){const a=s.value.toLowerCase();e=e.filter(e=>{if(JSON.stringify(e.variables).toLowerCase().includes(a))return!0;if(e.result?.content){if(String(e.result.content).toLowerCase().includes(a))return!0}return!1})}return e});function v(e){const t=a.trial.configurationSnapshots[e];return t?.name||`Config ${e+1}`}return(e,a)=>{const u=$("a-select-option"),f=$("a-select"),m=$("a-input-search"),y=$("a-space"),b=$("a-button"),h=$("a-spin"),_=$("a-tag"),x=$("a-tooltip"),I=$("a-table");return j(),k("div",_a,[C("div",ka,[g(y,null,{default:T(()=>[g(f,{value:t.value,"onUpdate:value":a[0]||(a[0]=e=>t.value=e),placeholder:"All Statuses",style:{width:"150px"},size:"small","allow-clear":"","data-testid":"select-status-filter","aria-label":"Filter results by status"},{default:T(()=>[g(u,{value:""},{default:T(()=>a[6]||(a[6]=[R("All Statuses")])),_:1,__:[6]}),g(u,{value:"completed"},{default:T(()=>a[7]||(a[7]=[R("Completed")])),_:1,__:[7]}),g(u,{value:"failed"},{default:T(()=>a[8]||(a[8]=[R("Failed")])),_:1,__:[8]}),g(u,{value:"running"},{default:T(()=>a[9]||(a[9]=[R("Running")])),_:1,__:[9]}),g(u,{value:"pending"},{default:T(()=>a[10]||(a[10]=[R("Pending")])),_:1,__:[10]})]),_:1},8,["value"]),g(f,{value:l.value,"onUpdate:value":a[1]||(a[1]=e=>l.value=e),placeholder:"All Configurations",style:{width:"200px"},size:"small","allow-clear":"","data-testid":"select-config-filter","aria-label":"Filter results by configuration"},{default:T(()=>[g(u,{value:""},{default:T(()=>a[11]||(a[11]=[R("All Configurations")])),_:1,__:[11]}),(j(!0),k(w,null,S(e.trial.configurationSnapshots,(e,a)=>(j(),M(u,{key:a,value:a},{default:T(()=>[R(E(e.name||`Config ${a+1}`),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"]),g(m,{value:s.value,"onUpdate:value":a[2]||(a[2]=e=>s.value=e),placeholder:"Search variables or response...",style:{width:"300px"},size:"small","allow-clear":"","data-testid":"input-search-results","aria-label":"Search in variables or response content"},null,8,["value"])]),_:1}),g(b,{size:"small",onClick:a[3]||(a[3]=e=>i.value=!0),"data-testid":"btn-export-results-data","aria-label":"Export trial results data"},{icon:T(()=>[g(A(Z))]),default:T(()=>[a[12]||(a[12]=R(" Export Data "))]),_:1,__:[12]})]),A(d)(e.trial)?(j(),k("div",xa,[e.loading?(j(),k("div",Ca,[g(h,{size:"large"})])):(j(),k("div",wa,[(j(!0),k(w,null,S(o.value,([e,a])=>(j(),M(ha,{key:e,calls:a,"initial-expanded":1===o.value.size},null,8,["calls","initial-expanded"]))),128))]))])):(j(),M(I,{key:1,columns:r,"data-source":c.value,loading:e.loading,pagination:!1,scroll:{y:"calc(100vh - 350px)",x:1400},size:"small","row-key":"id",class:"results-table","custom-row":e=>({onClick:()=>{return a=e,void(n.value=a);var a},class:"clickable-row"})},{bodyCell:T(({column:e,record:t})=>{return["status"===e.key?(j(),M(_,{key:0,color:(l=t.status,{completed:"success",failed:"error",running:"processing",pending:"default"}[l]||"default"),size:"small"},{default:T(()=>[R(E(t.status.toUpperCase()),1)]),_:2},1032,["color"])):q("",!0),"config"===e.key?(j(),k("code",Sa,E(v(t.configurationIndex)),1)):q("",!0),"variables"===e.key?(j(),k("div",Ra,[(j(!0),k(w,null,S(t.variables,(e,a)=>(j(),M(x,{key:a},{title:T(()=>[R(E(a)+": "+E(e),1)]),default:T(()=>[g(_,{size:"small"},{default:T(()=>{return[R(E(a)+": "+E((t=String(e),l=15,t.length<=l?t:t.substring(0,l)+"...")),1)];var t,l}),_:2},1024)]),_:2},1024))),128))])):q("",!0),"response"===e.key?(j(),k(w,{key:3},["pending"===t.status?(j(),k("div",Ea," Waiting... ")):"running"===t.status?(j(),k("div",$a,[g(A(p)),a[13]||(a[13]=R(" Processing... "))])):"failed"===t.status?(j(),k("div",Ta,E(t.result?.error||"API call failed"),1)):t.result?.content?(j(),k("div",ja,[C("span",null,E(String(t.result.content)),1)])):(j(),k("div",Ia," No content "))],64)):q("",!0),"length"===e.key?(j(),k(w,{key:4},[t.result?.content?(j(),k("span",Pa,E(String(t.result.content).length),1)):(j(),k("span",Oa,"-"))],64)):q("",!0),"latency"===e.key?(j(),k(w,{key:5},[t.response?.latencyMs?(j(),k("span",Ma,E(t.response.latencyMs)+"ms ",1)):(j(),k("span",qa,"-"))],64)):q("",!0)];var l}),_:1},8,["data-source","loading","custom-row"])),i.value?(j(),M(Ce,{key:2,trial:e.trial,"api-calls":c.value,onClose:a[4]||(a[4]=e=>i.value=!1)},null,8,["trial","api-calls"])):q("",!0),n.value?(j(),M(B,{key:3,"api-call":n.value,trial:e.trial,onClose:a[5]||(a[5]=e=>n.value=null)},null,8,["api-call","trial"])):q("",!0)])}}}),[["__scopeId","data-v-ff91d6e1"]]),Da={class:"trial-analysis"},za={class:"stats-summary"},La={class:"pivot-container"},Fa={key:1,class:"empty-state"},Ua=s(b({__name:"TrialAnalysisView",props:{trial:{},apiCalls:{},loading:{type:Boolean}},emits:["back-to-selection","export-trial"],setup(e){const a=e,t=h("table"),l=h({rowField:"",columnField:"model",valueField:"success",aggregation:"mean"}),s=_(()=>a.apiCalls.filter(e=>"completed"===e.status).length),i=_(()=>a.apiCalls.filter(e=>"failed"===e.status).length),n=_(()=>{const e=s.value+i.value;return 0===e?0:Math.round(s.value/e*100)}),r=_(()=>{const e=a.apiCalls.filter(e=>e.response?.latencyMs);if(0===e.length)return 0;const t=e.reduce((e,a)=>e+(a.response?.latencyMs||0),0);return Math.round(t/e.length)}),o=_(()=>a.trial.progress.completed*(a.trial.estimatedCost/a.trial.progress.total)),c=h(W()),u=_(()=>{if(!c.value)return 0;let e=0;return a.apiCalls.forEach(t=>{if("completed"===t.status&&t.response?.body)try{const l=a.trial.configurationSnapshots[t.configurationIndex];if(l&&t.response?.body?.usage?.total_tokens){const a=v.calculateEnvironmentalCostUnsafe(l.provider,l.modelId,t.response.body.usage.total_tokens);e+=a.carbon}}catch(l){}}),e}),d=_(()=>{if(!c.value)return 0;let e=0;return a.apiCalls.forEach(t=>{if("completed"===t.status&&t.response?.body)try{const l=a.trial.configurationSnapshots[t.configurationIndex];if(l&&t.response?.body?.usage?.total_tokens){const a=v.calculateEnvironmentalCostUnsafe(l.provider,l.modelId,t.response.body.usage.total_tokens);e+=a.water}}catch(l){}}),e}),p=_(()=>{if(!c.value)return 0;let e=0;return a.apiCalls.forEach(t=>{if("completed"===t.status&&t.response?.body)try{const l=a.trial.configurationSnapshots[t.configurationIndex];if(l&&t.response?.body?.usage?.total_tokens){const a=v.calculateEnvironmentalCostUnsafe(l.provider,l.modelId,t.response.body.usage.total_tokens);e+=a.energy}}catch(l){}}),e}),m=e=>{l.value=e},y=e=>{if(!e.cell)return;const a=e.cell.apiCalls||[];0!==a.length&&f.info({title:`${e.row} × ${e.column}`,width:"80%",class:"pivot-cell-details-modal",content:()=>D("div",{class:"pivot-cell-details"},[D("div",{class:"cell-summary"},[D("span",{class:"count"},`${a.length} calls`),D("span",{class:"separator"},"•"),D("span",{class:"aggregate"},`${"average"===l.value.aggregation?"Avg":"Total"}: ${e.cell.value.toFixed(2)}`)]),D("div",{class:"calls-list"},a.map((e,a)=>D("div",{key:e.id,class:"call-row"},[D("span",{class:"call-index"},`${a+1}.`),D("span",{class:"model"},e.model),D("span",{class:`status ${e.status}`},e.status),e.variables&&Object.entries(e.variables).length>0&&D("span",{class:"variables"},Object.entries(e.variables).map(([e,a])=>`${e}: ${a}`).join(", ")),e.extracted&&D("span",{class:"extracted"},`→ ${e.extracted}`),D("span",{class:"metrics"},[e.cost&&`$${e.cost.toFixed(3)}`,e.cost&&e.duration&&" • ",e.duration&&`${e.duration}ms`].filter(Boolean).join(""))])))])})};return(e,a)=>{const v=$("a-statistic"),f=$("a-divider"),b=$("a-tab-pane"),h=$("a-tabs");return j(),k("div",Da,[C("div",za,[g(v,{title:"Success Rate",value:n.value,suffix:"%","value-style":{color:n.value>=90?"#52c41a":n.value>=70?"#faad14":"#ff4d4f"}},null,8,["value","value-style"]),g(f,{type:"vertical"}),g(v,{title:"Completed",value:s.value,suffix:`/ ${e.trial.progress.total}`},null,8,["value","suffix"]),g(f,{type:"vertical"}),g(v,{title:"Failed",value:i.value,"value-style":{color:i.value>0?"#ff4d4f":"#52c41a"}},null,8,["value","value-style"]),g(f,{type:"vertical"}),g(v,{title:"Avg Latency",value:r.value,suffix:"ms"},null,8,["value"]),g(f,{type:"vertical"}),g(v,{title:"Total Cost",value:o.value,prefix:"$",precision:4},null,8,["value"]),c.value?(j(),k(w,{key:0},[g(f,{type:"vertical"}),g(v,{title:"Carbon",value:u.value,suffix:"g CO₂e",precision:3,"value-style":{color:"#52c41a"}},null,8,["value"]),g(f,{type:"vertical"}),g(v,{title:"Water",value:d.value,suffix:"mL",precision:1,"value-style":{color:"#1890ff"}},null,8,["value"]),g(f,{type:"vertical"}),g(v,{title:"Energy",value:p.value,suffix:"Wh",precision:3,"value-style":{color:"#faad14"}},null,8,["value"])],64)):q("",!0)]),g(h,{activeKey:t.value,"onUpdate:activeKey":a[0]||(a[0]=e=>t.value=e),type:"card",class:"analysis-tabs"},{default:T(()=>[g(b,{key:"table",tab:"Results Table"},{default:T(()=>[g(Aa,{trial:e.trial,"api-calls":e.apiCalls,loading:e.loading},null,8,["trial","api-calls","loading"])]),_:1}),g(b,{key:"pivot",tab:"Pivot Analysis"},{default:T(()=>[C("div",La,[e.apiCalls.length>0?(j(),M(V,{key:0,"api-calls":e.apiCalls,trial:e.trial,config:l.value,"show-totals":!0,onConfigChange:m,onCellClick:y},null,8,["api-calls","trial","config"])):(j(),k("div",Fa,a[1]||(a[1]=[C("p",null,"No data available for pivot table analysis.",-1)])))])]),_:1})]),_:1},8,["activeKey"])])}}}),[["__scopeId","data-v-f6cce698"]]),Na={class:"results-view full-width","data-testid":"page-results"},Ba={key:0,class:"results-table-view"},Va={key:1,class:"analysis-view"},Ha={class:"analysis-header"},Ja={class:"analysis-title"},Ka=s(b({__name:"ResultsView",setup(e){const t=m(),s=U(),i=h("table"),n=h(null),c=h(null),u=h([]),d=h([]),p=h(!1),v=h(!1),f=h("all"),b=h(!1),_=h(!1),x=h(!1),w=h(null),S=h(null);async function I(){p.value=!0;try{await t.initialize(),u.value=t.trials}catch(e){a.error("Failed to load trials",e)}finally{p.value=!1}}async function P(e){!function(e){n.value=e.id,c.value=e}(e),i.value="analysis",await async function(){if(n.value){v.value=!0;try{d.value=await o.apiCalls.where("trialId").equals(n.value).toArray()}catch(e){a.error("Failed to load results",e)}finally{v.value=!1}}}()}function O(){i.value="table",n.value=null,c.value=null,d.value=[]}function D(e,a){w.value=e,"python"===a?b.value=!0:X(e)}function z(e){S.value=e,x.value=!0}function N(e){c.value=e,_.value=!0}function B(){a.info("Exporting all results")}function V(e){f.value=e}function W(e){a.info("Results exported",{filename:e}),b.value=!1,w.value=null}function G(){I()}function Y(e){a.info("Trial duplicated",{trialId:e}),x.value=!1,S.value=null,I()}async function X(e){try{const{PythonExportService:a}=await l(async()=>{const{PythonExportService:e}=await import("./PivotTableCore-DQVaAAT8.js").then(e=>e.p);return{PythonExportService:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),import.meta.url);await a.downloadPythonScript(e)}catch(t){a.error("Export failed",t),alert("Export failed: "+(t instanceof Error?t.message:"Unknown error"))}}async function Z(e){if(confirm(`Delete trial "${e.name}"? This cannot be undone.`))try{await t.deleteTrial(e.id),n.value===e.id&&O()}catch(l){a.error("Failed to delete trial",l),alert("Failed to delete trial")}}return L(u,async e=>{e.length>0&&await async function(){const e=s.query.trialId;if(e&&u.value.length>0){const a=u.value.find(a=>a.id===e);a&&await P(a)}}()},{immediate:!0}),F(async()=>{await I()}),(e,a)=>{const t=$("a-button"),l=$("a-tag"),s=$("a-space");return j(),k("div",Na,["table"===i.value?(j(),k("div",Ba,[g(la,{trials:u.value,loading:p.value,onViewResults:P,onExportTrial:D,onDuplicateTrial:z,onDeleteTrial:Z,onTrialDetails:N,onRefreshTrials:I,onExportAll:B,onStatusFilterChanged:V},null,8,["trials","loading"])])):"analysis"===i.value&&c.value?(j(),k("div",Va,[C("div",Ha,[g(t,{onClick:O,type:"default",class:"back-button","data-testid":"btn-back-to-results","aria-label":"Go back to results table"},{icon:T(()=>[g(A(y))]),default:T(()=>[a[4]||(a[4]=R(" Back to Results "))]),_:1,__:[4]}),C("div",Ja,[C("h2",null,E(c.value.name),1),g(l,{color:(n=c.value.status,{completed:"success",failed:"error",running:"processing",cancelled:"default",draft:"default",pending:"processing",paused:"warning"}[n]||"default"),size:"small"},{default:T(()=>[R(E(c.value.status.toUpperCase()),1)]),_:1},8,["color"])]),g(s,null,{default:T(()=>[g(t,{class:"btn-success",onClick:a[0]||(a[0]=e=>X(c.value)),"data-testid":"btn-export-trial-results","aria-label":"Export trial results"},{icon:T(()=>[g(A(r))]),default:T(()=>[a[5]||(a[5]=R(" Export Results "))]),_:1,__:[5]})]),_:1})]),g(Ua,{trial:c.value,"api-calls":d.value,loading:v.value,onBackToSelection:O,onExportTrial:X},null,8,["trial","api-calls","loading"])])):q("",!0),b.value&&w.value?(j(),M(H,{key:2,trial:w.value,onClose:a[1]||(a[1]=e=>{b.value=!1,w.value=null}),onExported:W},null,8,["trial"])):q("",!0),_.value&&c.value?(j(),M(J,{key:3,trial:c.value,onClose:a[2]||(a[2]=e=>_.value=!1),onUpdated:G},null,8,["trial"])):q("",!0),x.value?(j(),M(K,{key:4,trialToDuplicate:S.value||void 0,onClose:a[3]||(a[3]=e=>{x.value=!1,S.value=null}),onCreated:Y},null,8,["trialToDuplicate"])):q("",!0)]);var n}}}),[["__scopeId","data-v-4b87fb02"]]);export{Ka as default};
