import{f as t,o as e,b as i,c as r,d as n,S as o,U as a,ah as s,X as l,W as d,ad as m,Y as c}from"./vendor-BiapkIQZ.js";function p(){const n=t(window.innerWidth),o=()=>{n.value=window.innerWidth};e(()=>{window.addEventListener("resize",o)}),i(()=>{window.removeEventListener("resize",o)});const a=r(()=>n.value-32-14);function s(t){return 0===t.progress.total?0:Math.round(t.progress.completed/t.progress.total*100)}return{windowWidth:n,availableWidth:a,getVisibleColumns:function(t){return r(()=>{const e=t.reduce((t,e)=>t+(e.minWidth||100),0);if(e<=a.value)return t;const i=[...t].sort((t,e)=>{const i=t.priority??999;return(e.priority??999)-i});let r=e;const n=new Set;for(const t of i)if(0!==t.priority&&void 0!==t.priority){if(!(r>a.value))break;n.add(t.key),r-=t.minWidth||100}return t.filter(t=>!n.has(t.key))})},formatDateTime:function(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}\n${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}`},createDesignColumns:function(){return[{title:"Design",key:"name",priority:0,minWidth:200,ellipsis:!0},{title:"Variables & Conditions",key:"variables",width:"25%",priority:2,minWidth:180,ellipsis:!1},{title:"Tokens",key:"tokens",width:"10%",priority:3,minWidth:80,align:"center"},{title:"Usage",key:"stats",width:"10%",priority:4,minWidth:80,align:"center"},{title:"Created",key:"created",width:"12%",priority:1,minWidth:100,sorter:(t,e)=>t.created.getTime()-e.created.getTime()},{title:"Actions",key:"actions",width:"18%",priority:0,minWidth:180,align:"center"}]},createVariableColumns:function(){return[{title:"Name",key:"name",priority:0,minWidth:200,ellipsis:!0},{title:"Type",key:"category",width:"10%",priority:2,minWidth:80,align:"center"},{title:"Items",key:"itemCount",width:"10%",priority:3,minWidth:60,align:"center"},{title:"Description",key:"description",width:"25%",priority:1,minWidth:150,ellipsis:!0},{title:"Created",key:"created",width:"12%",priority:2,minWidth:100,sorter:(t,e)=>t.created.getTime()-e.created.getTime()},{title:"Actions",key:"actions",width:"15%",priority:0,minWidth:120,align:"center"}]},createTrialColumns:function(){return[{title:"Trial",key:"name",priority:0,minWidth:169,sorter:(t,e)=>t.name.localeCompare(e.name)},{title:"Progress",key:"progress",width:"6%",priority:1,minWidth:60,sorter:(t,e)=>s(t)-s(e)},{title:"Configs",key:"configurations",width:"8%",priority:3,minWidth:60,align:"center",sorter:(t,e)=>(t.configurationSnapshots?.length||0)-(e.configurationSnapshots?.length||0)},{title:"Variables",key:"variables",width:"8%",priority:4,minWidth:60,align:"center",sorter:(t,e)=>t.totalCombinations-e.totalCombinations},{title:"API Calls",key:"api_calls",width:"8%",priority:5,minWidth:70,align:"center",sorter:(t,e)=>t.progress.total-e.progress.total},{title:"Cost",key:"cost",width:"8%",priority:2,minWidth:60,align:"right",sorter:(t,e)=>Math.abs(t.estimatedCost)-Math.abs(e.estimatedCost)},{title:"Created",key:"created",width:"7.5%",priority:2,minWidth:75,sorter:(t,e)=>t.created.getTime()-e.created.getTime(),defaultSortOrder:"descend"},{title:"Actions",key:"actions",width:"30%",priority:0,minWidth:270}]},createResultColumns:function(){return[{title:"Trial",key:"trial",priority:0,minWidth:250,ellipsis:!0},{title:"Progress",key:"progress",width:"15%",priority:1,minWidth:120},{title:"Success Rate",key:"success_rate",width:"10%",priority:2,minWidth:80,align:"center"},{title:"Performance",key:"performance",width:"12%",priority:3,minWidth:100},{title:"Configs",key:"configurations",width:"8%",priority:4,minWidth:60,align:"center"},{title:"Cost",key:"cost",width:"8%",priority:3,minWidth:60,align:"right"},{title:"Actions",key:"actions",width:"18%",priority:0,minWidth:160,align:"center"}]}}}const h=n({__name:"BaseModal",props:{modelValue:{type:Boolean},title:{},size:{default:"medium"}},emits:["update:modelValue"],setup(t,{emit:e}){const i=t,n=e,p=r({get:()=>i.modelValue,set:t=>n("update:modelValue",t)}),h=r(()=>({small:480,medium:720,large:960,full:"95vw"}[i.size])),u=r(()=>`base-modal-${i.size}`);function y(){n("update:modelValue",!1)}return(t,e)=>{const i=a("a-modal");return d(),o(i,{open:p.value,"onUpdate:open":e[0]||(e[0]=t=>p.value=t),title:t.title,width:h.value,centered:!0,"mask-closable":!0,"destroy-on-close":!0,"wrap-class-name":u.value,onCancel:y},s({default:l(()=>[m(t.$slots,"default")]),_:2},[t.$slots.footer?{name:"footer",fn:l(()=>[m(t.$slots,"footer")]),key:"0"}:{name:"footer",fn:l(()=>[e[1]||(e[1]=c("span",null,null,-1))]),key:"1"}]),1032,["open","title","width","wrap-class-name"])}}});export{h as _,p as u};
