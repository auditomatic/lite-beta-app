import{k as e,d as a,c as l,f as t,w as s,V as n,Z as o,Y as r,_ as i,a6 as c,a1 as u,W as d,G as m,a8 as v,a0 as p,F as f,u as y,l as g,aa as h,B as k,o as b,ab as w,H as z,ac as _,b as C,ad as O,ae as x,af as M}from"./vendor-BARfHmiz.js";import{f as T}from"./cost-formatting-Bv_drrqY.js";import{I as S,C as $,d as j,U as P,e as B,_ as H,f as L,R as F,g as V,a as E,l as D,p as R}from"./index-0dU5AN9h.js";import{u as A,m as N}from"./models-db-CK0qIBeX.js";import{_ as U}from"./BaseModal.vue_vue_type_style_index_0_lang-DgBaQZ0f.js";import"./db-CL8uhZCz.js";var I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};function G(e){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?Object(arguments[a]):{},t=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),t.forEach(function(a){K(e,a,l[a])})}return e}function K(e,a,l){return a in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}var q=function(a,l){var t=G({},a,l.attrs);return e(S,G({},t,{icon:I}),null)};q.displayName="AppstoreOutlined",q.inheritAttrs=!1;var W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"};function J(e){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?Object(arguments[a]):{},t=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),t.forEach(function(a){Y(e,a,l[a])})}return e}function Y(e,a,l){return a in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}var Q=function(a,l){var t=J({},a,l.attrs);return e(S,J({},t,{icon:W}),null)};Q.displayName="BookOutlined",Q.inheritAttrs=!1;var Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};function X(e){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?Object(arguments[a]):{},t=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),t.forEach(function(a){ee(e,a,l[a])})}return e}function ee(e,a,l){return a in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}var ae=function(a,l){var t=X({},a,l.attrs);return e(S,X({},t,{icon:Z}),null)};ae.displayName="FilterOutlined",ae.inheritAttrs=!1;var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};function te(e){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?Object(arguments[a]):{},t=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),t.forEach(function(a){se(e,a,l[a])})}return e}function se(e,a,l){return a in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}var ne=function(a,l){var t=te({},a,l.attrs);return e(S,te({},t,{icon:le}),null)};ne.displayName="UnorderedListOutlined",ne.inheritAttrs=!1;const oe={class:"modal-content"},re={class:"search-section"},ie={class:"search-controls"},ce={class:"size-filter"},ue={class:"size-controls"},de={class:"size-presets"},me={key:0,class:"size-filter-indicator"},ve={class:"quantized-filter"},pe={class:"filter-description"},fe={class:"category-filters"},ye={class:"stats-bar"},ge={class:"view-controls"},he={key:0,class:"loading-text"},ke={key:0,class:"downloads-section"},be={class:"download-items"},we={class:"download-info"},ze={class:"download-tag"},_e={class:"download-status"},Ce={class:"models-container"},Oe=["onClick"],xe={class:"model-info"},Me={class:"model-name"},Te={key:0},Se={class:"model-description"},$e={class:"model-actions"},je={key:0,class:"button-size-info"},Pe={key:0,class:"tags-preview"},Be={class:"preview-tags"},He=["onClick","title"],Le={key:1,class:"tag-actual"},Fe={class:"tag-size"},Ve={key:0,class:"more-tags"},Ee={key:1,class:"tags-expanded"},De={key:0,class:"tag-name"},Re={key:2},Ae={key:1,class:"text-secondary"},Ne={key:1,class:"list-view"},Ue={class:"expanded-tags-container"},Ie={class:"expanded-tags-grid"},Ge={class:"tag-name"},Ke={key:0,class:"tag-actual"},qe={class:"tag-size"},We={class:"tag-context"},Je={key:0,class:"model-name-cell"},Ye={key:1,class:"description-cell"},Qe={key:2,class:"stats-cell"},Ze={class:"stat-item"},Xe={class:"stat-item"},ea={key:0},aa={key:3,class:"size-range"},la=H(a({__name:"OllamaModelLibraryModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue","models-updated"],setup(a,{emit:b}){const w=a,z=b,_=l({get:()=>w.modelValue,set:e=>z("update:modelValue",e)}),C=t(null),O=t(!1),x=t(""),M=t(""),T=t("popularity"),S=t([]),H=t(8),L=t(!1),F=t("card"),V=t(new Set),E=t(new Set),D=t({}),R=t([]),A=[{label:"1GB",value:1},{label:"2GB",value:2},{label:"4GB",value:4},{label:"8GB",value:8},{label:"16GB",value:16},{label:"None",value:999}],N=[{title:"Tag",key:"name",width:200},{title:"Size",key:"size",width:100,align:"right"},{title:"Context",key:"context",width:100,align:"center"},{title:"Status",key:"status",width:80,align:"center"},{title:"Action",key:"actions",width:80,align:"center"}],I=[{title:"Model",key:"name",width:200,fixed:"left"},{title:"Description",key:"description",ellipsis:!0},{title:"Stats",key:"stats",width:200},{title:"Size Range",key:"sizeRange",width:120,align:"center"},{title:"Actions",key:"actions",width:220,align:"center",fixed:"right"}],G=l(()=>C.value?.totalModels||0),K=l(()=>C.value?.categories||[]),W=l(()=>{if(!C.value)return[];let e=Object.entries(C.value.models).map(([e,a])=>({...a,name:e}));if(M.value){const a=M.value.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(a)||e.description.toLowerCase().includes(a))}switch(S.value.length>0&&(e=e.filter(e=>S.value.some(a=>(e.categories||[]).includes(a)))),H.value<999&&(e=e.filter(e=>!e.tags||Object.values(e.tags).some(e=>ee(e.size||"0GB")<=H.value))),T.value){case"popularity":e.sort((e,a)=>{const l=e.pullCount||"0",t=a.pullCount||"0",s=parseFloat(l.replace(/[^\d.]/g,""))||0,n=parseFloat(t.replace(/[^\d.]/g,""))||0,o=l.includes("M")?1e6:l.includes("K")?1e3:1;return n*(t.includes("M")?1e6:t.includes("K")?1e3:1)-s*o});break;case"name":e.sort((e,a)=>e.name.localeCompare(a.name));break;case"tagCount":e.sort((e,a)=>(a.tagCount||0)-(e.tagCount||0))}return e});async function J(){try{const e=await fetch("http://localhost:11434/api/tags");if(e.ok){const a=await e.json();R.value=(a.models||[]).map(e=>e.name)}}catch{R.value=[]}}function Y(e){V.value.has(e)?V.value.delete(e):V.value.add(e)}function Q(e){if(!e.tags)return[];return Object.entries(e.tags).map(([e,a])=>({...a,name:e})).filter(e=>{if(H.value<999){if(ee(e.size||"0GB")>H.value)return!1}return!(!L.value&&le(e.name))}).sort((e,a)=>{const l=["latest","instruct","8b","7b","3b","1b"],t=l.indexOf(e.name),s=l.indexOf(a.name);return-1!==t&&-1!==s?t-s:-1!==t?-1:-1!==s?1:e.name.localeCompare(a.name)}).slice(0,5)}function Z(e){return e.tags?Object.entries(e.tags).map(([e,a])=>({...a,name:e})).filter(e=>{if(H.value<999){if(ee(e.size||"0GB")>H.value)return!1}return!(!L.value&&le(e.name))}).sort((e,a)=>e.name.localeCompare(a.name)):[]}function X(e){const a=ee(e);return a<5?"size-small":a<20?"size-medium":"size-large"}function ee(e){const a=parseFloat(e.replace(/[^\d.]/g,""))||0,l=e.replace(/[\d.]/g,"").trim().toUpperCase();return l.includes("MB")?a/1e3:l.includes("TB")?1e3*a:(l.includes("GB"),a)}function le(e){return/-q\d{1,2}_|-fp\d+/.test(e)}function te(e){return R.value.some(a=>a.startsWith(e))}function se(e){return R.value.includes(e)}function la(e){return R.value.filter(a=>a.startsWith(e+":"))}function ta(e){return e.tags?Object.entries(e.tags).filter(([e,a])=>{if(H.value<999){if(ee(a.size||"0GB")>H.value)return!1}return!(!L.value&&le(e))}).length:0}function sa(e){if(!e.tags||!e.tags.latest)return null;const a=e.tags.latest,l=Object.entries(e.tags).find(([e,l])=>"latest"!==e&&l.modelHash===a.modelHash);return l?{actualTag:l[0],size:l[1].size||a.size}:{actualTag:"",size:a.size}}function na(e){if(!e.tags)return"N/A";const a=Object.values(e.tags).map(e=>ee(e.size||"0GB")).filter(e=>e>0);if(0===a.length)return"N/A";const l=Math.min(...a),t=Math.max(...a);return l===t?oa(l):`${oa(l)} - ${oa(t)}`}function oa(e){return e<1?`${Math.round(1e3*e)}MB`:`${e.toFixed(1)}GB`}async function ra(e,a){const l="latest"===a?e:`${e}:${a}`;if(!E.value.has(l)){E.value.add(l),D.value[l]={percent:0,status:"active",message:"Starting download..."};try{const e=await fetch("http://localhost:11434/api/pull",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,stream:!0})});if(!e.ok)throw new Error(`Failed to pull model: ${e.statusText}`);const a=e.body?.getReader();if(!a)throw new Error("Unable to read response stream");let t=0,s=0;for(;;){const{done:e,value:n}=await a.read();if(e)break;const o=(new TextDecoder).decode(n).split("\n").filter(e=>e.trim());for(const a of o)try{const e=JSON.parse(a);e.total&&(t=e.total),e.completed&&(s=e.completed);const n=t>0?Math.round(s/t*100):0;if(D.value[l]={status:"success"===e.status?"success":"active",percent:n,message:e.status||"Downloading..."},"success"===e.status)return B.success(`Successfully pulled ${l}`),await J(),z("models-updated"),void setTimeout(()=>{delete D.value[l]},3e3)}catch{}}}catch(t){B.error(`Failed to pull ${l}: ${t instanceof Error?t.message:"Unknown error"}`),D.value[l]={status:"exception",percent:0,message:"Download failed"},setTimeout(()=>{delete D.value[l]},5e3)}finally{E.value.delete(l)}}}return s(_,e=>{e&&!C.value&&async function(){O.value=!0,x.value="";try{const e=await fetch("https://ollama.models.auditomatic.org/models.json");if(!e.ok)throw new Error(`Failed to fetch models: ${e.statusText}`);C.value=await e.json(),await J()}catch(e){x.value=`Failed to load model library: ${e instanceof Error?e.message:"Unknown error"}`}finally{O.value=!1}}(),e||(V.value.clear(),M.value="",S.value=[],H.value=8,L.value=!1,x.value="",D.value={},E.value.clear())}),(a,l)=>{const t=d("a-input-search"),s=d("a-select-option"),b=d("a-select"),w=d("a-input-number"),z=d("a-button"),C=d("a-tag"),B=d("a-button-group"),R=d("a-progress"),J=d("a-table"),ee=d("a-space"),le=d("a-spin"),oa=d("a-alert");return r(),n(U,{modelValue:_.value,"onUpdate:modelValue":l[8]||(l[8]=e=>_.value=e),title:"Ollama Model Library",size:"full",class:"ollama-library-modal"},{default:o(()=>[i("div",oe,[i("div",re,[i("div",ie,[e(t,{value:M.value,"onUpdate:value":l[0]||(l[0]=e=>M.value=e),placeholder:"Search models by name or description...","allow-clear":"",size:"large",class:"search-input"},null,8,["value"]),e(b,{value:T.value,"onUpdate:value":l[1]||(l[1]=e=>T.value=e),placeholder:"Sort by",style:{width:"150px"},size:"large"},{default:o(()=>[e(s,{value:"popularity"},{default:o(()=>l[9]||(l[9]=[m("Popularity")])),_:1,__:[9]}),e(s,{value:"name"},{default:o(()=>l[10]||(l[10]=[m("Name")])),_:1,__:[10]}),e(s,{value:"tagCount"},{default:o(()=>l[11]||(l[11]=[m("Tag Count")])),_:1,__:[11]})]),_:1},8,["value"])]),i("div",ce,[i("div",ue,[l[12]||(l[12]=i("span",{class:"filter-label"},"Filter to models smaller than:",-1)),e(w,{value:H.value,"onUpdate:value":l[2]||(l[2]=e=>H.value=e),min:1,max:999,step:1,size:"small",class:"size-input","addon-after":"GB"},null,8,["value"]),i("div",de,[(r(),c(f,null,v(A,a=>e(z,{key:a.value,size:"small",type:H.value===a.value?"primary":"default",onClick:e=>H.value=a.value,class:"preset-button"},{default:o(()=>[m(p(a.label),1)]),_:2},1032,["type","onClick"])),64))])]),H.value<999?(r(),c("span",me," â‰¤"+p(H.value)+"GB filter active ",1)):u("",!0)]),i("div",ve,[e(z,{type:L.value?"default":"primary",size:"small",onClick:l[3]||(l[3]=e=>L.value=!L.value)},{icon:o(()=>[e(y(ae))]),default:o(()=>[m(" "+p(L.value?"Hide":"Show")+" Quantized Versions ",1)]),_:1},8,["type"]),i("span",pe,p(L.value?"Showing all versions":"Hiding q2_K, q3_K, q4_0, q5_1, q6_K, q8_0, fp16..."),1)]),i("div",fe,[(r(!0),c(f,null,v(K.value,e=>(r(),n(C,{key:e,color:S.value.includes(e)?"blue":"default",checkable:!0,checked:S.value.includes(e),onClick:a=>function(e){const a=S.value.indexOf(e);-1===a?S.value.push(e):S.value.splice(a,1)}(e),class:"category-tag"},{default:o(()=>[m(p(e),1)]),_:2},1032,["color","checked","onClick"]))),128))])]),i("div",ye,[i("span",null,"Showing "+p(W.value.length)+" of "+p(G.value)+" models",1),i("div",ge,[e(B,{size:"small"},{default:o(()=>[e(z,{type:"card"===F.value?"primary":"default",onClick:l[4]||(l[4]=e=>F.value="card"),icon:g(y(q)),title:"Card View"},null,8,["type","icon"]),e(z,{type:"list"===F.value?"primary":"default",onClick:l[5]||(l[5]=e=>F.value="list"),icon:g(y(ne)),title:"List View"},null,8,["type","icon"])]),_:1}),O.value?(r(),c("span",he,"Loading...")):u("",!0)])]),Object.keys(D.value).length>0?(r(),c("div",ke,[l[13]||(l[13]=i("h4",null,"Active Downloads",-1)),i("div",be,[(r(!0),c(f,null,v(D.value,(a,l)=>(r(),c("div",{key:l,class:"download-item"},[i("div",we,[i("code",ze,p(l),1),i("span",_e,p(a.message),1)]),e(R,{percent:a.percent,status:"success"===a.status?"success":"active",size:"small",class:"download-progress"},null,8,["percent","status"])]))),128))])])):u("",!0),i("div",Ce,[e(le,{spinning:O.value,size:"large"},{default:o(()=>["card"===F.value?(r(!0),c(f,{key:0},v(W.value,a=>(r(),c("div",{key:a.name,class:h(["model-item",{expanded:V.value.has(a.name)}])},[i("div",{class:"model-header",onClick:e=>Y(a.name)},[i("div",xe,[i("div",Me,[i("h4",null,p(a.name),1),e(C,{size:"small",color:"blue"},{default:o(()=>[m(p(a.pullCount||"0")+" pulls",1)]),_:2},1024),e(C,{size:"small",color:"green"},{default:o(()=>[m(p(ta(a))+" ",1),H.value<999?(r(),c("span",Te,"/"+p(a.tagCount||0),1)):u("",!0),l[14]||(l[14]=m(" versions "))]),_:2,__:[14]},1024),te(a.name)?(r(),n(C,{key:0,size:"small",color:"success",class:"installed-tag"},{icon:o(()=>[e(y($))]),default:o(()=>[m(" "+p(la(a.name).length)+" installed ",1)]),_:2},1024)):u("",!0)]),i("p",Se,p(a.description||"No description available"),1)]),i("div",$e,[e(z,{type:se(`${a.name}:latest`)||se(a.name)?"default":"primary",size:"small",onClick:k(e=>ra(a.name,"latest"),["stop"]),loading:E.value.has(`${a.name}:latest`),disabled:se(`${a.name}:latest`)||se(a.name)},{default:o(()=>[D.value[`${a.name}:latest`]?(r(),c(f,{key:0},[m(p(Math.round(D.value[`${a.name}:latest`].percent))+"% ",1)],64)):se(`${a.name}:latest`)||se(a.name)?(r(),c(f,{key:1},[e(y($)),l[15]||(l[15]=m(" Installed "))],64)):(r(),c(f,{key:2},[l[16]||(l[16]=m(" Pull Latest ")),sa(a)?(r(),c("span",je," ("+p(sa(a)?.actualTag?sa(a)?.actualTag+", ":"")+p(sa(a)?.size)+") ",1)):u("",!0)],64))]),_:2},1032,["type","onClick","loading","disabled"]),e(z,{type:"text",size:"small",onClick:k(e=>Y(a.name),["stop"])},{icon:o(()=>[V.value.has(a.name)?(r(),n(y(P),{key:1})):(r(),n(y(j),{key:0}))]),default:o(()=>[m(" "+p(V.value.has(a.name)?"Hide versions":"See all versions"),1)]),_:2},1032,["onClick"])])],8,Oe),V.value.has(a.name)?u("",!0):(r(),c("div",Pe,[i("div",Be,[(r(!0),c(f,null,v(Q(a),e=>(r(),c("span",{key:e.name,class:h(["tag-chip",[X(e.size),{installed:se(e.fullTag)}]]),onClick:l=>se(e.fullTag)?null:ra(a.name,e.name),title:`${e.fullTag} - ${e.size}${se(e.fullTag)?" (Installed)":""}`},[se(e.fullTag)?(r(),n(y($),{key:0,class:"installed-icon"})):u("",!0),m(" "+p(e.name)+" ",1),"latest"===e.name&&sa(a)?(r(),c("span",Le," ("+p(sa(a)?.actualTag)+") ",1)):u("",!0),i("span",Fe,p(e.size),1)],10,He))),128)),ta(a)>5?(r(),c("span",Ve," +"+p(ta(a)-5)+" more versions ",1)):u("",!0)])])),V.value.has(a.name)?(r(),c("div",Ee,[e(J,{columns:N,"data-source":Z(a),pagination:!1,size:"small",scroll:{y:300},class:"tags-table"},{bodyCell:o(({column:t,record:s})=>["name"===t.key?(r(),c("code",De,p(s.name),1)):u("",!0),"size"===t.key?(r(),c("span",{key:1,class:h(["tag-size",X(s.size)])},p(s.size),3)):u("",!0),"context"===t.key?(r(),c("span",Re,p(s.contextWindow),1)):u("",!0),"status"===t.key?(r(),c(f,{key:3},[se(s.fullTag)?(r(),n(C,{key:0,size:"small",color:"success"},{default:o(()=>[e(y($)),l[17]||(l[17]=m(" Installed "))]),_:1,__:[17]})):(r(),c("span",Ae,"-"))],64)):u("",!0),"actions"===t.key?(r(),n(z,{key:4,type:se(s.fullTag)?"default":"primary",size:"small",onClick:e=>ra(a.name,s.name),loading:E.value.has(s.fullTag),disabled:se(s.fullTag)},{default:o(()=>[D.value[s.fullTag]?(r(),c(f,{key:0},[m(p(Math.round(D.value[s.fullTag].percent))+"% ",1)],64)):se(s.fullTag)?(r(),c(f,{key:1},[e(y($)),l[18]||(l[18]=m(" Installed "))],64)):(r(),c(f,{key:2},[m(" Pull ")],64))]),_:2},1032,["type","onClick","loading","disabled"])):u("",!0)]),_:2},1032,["data-source"])])):u("",!0)],2))),128)):u("",!0),"list"===F.value?(r(),c("div",Ne,[e(J,{"data-source":W.value,columns:I,pagination:!1,"row-key":e=>e.name,size:"small",scroll:{y:"calc(100% - 48px)"},"expanded-row-keys":Array.from(V.value),"expand-row-by-click":!1,onExpand:l[6]||(l[6]=(e,a)=>{e?V.value.add(a.name):V.value.delete(a.name)}),class:"models-list-table"},{expandedRowRender:o(({record:a})=>[i("div",Ue,[i("div",Ie,[(r(!0),c(f,null,v(Z(a),t=>(r(),c("div",{key:t.fullTag,class:h(["expanded-tag-item",X(t.size)])},[i("span",Ge,p(t.name),1),"latest"===t.name&&sa(a)?(r(),c("span",Ke," ("+p(sa(a)?.actualTag)+") ",1)):u("",!0),i("span",qe,p(t.size),1),i("span",We,p(t.contextWindow||"-"),1),se(t.fullTag)?(r(),n(C,{key:1,size:"small",color:"success"},{default:o(()=>[e(y($)),l[19]||(l[19]=m(" Installed "))]),_:1,__:[19]})):(r(),n(z,{key:2,type:"primary",size:"small",loading:E.value.has(t.fullTag),onClick:e=>ra(a.name,t.name)},{default:o(()=>[D.value[t.fullTag]?(r(),c(f,{key:0},[m(p(Math.round(D.value[t.fullTag].percent))+"% ",1)],64)):(r(),c(f,{key:1},[m(" Pull ")],64))]),_:2},1032,["loading","onClick"]))],2))),128))])])]),bodyCell:o(({column:a,record:t})=>["name"===a.key?(r(),c("div",Je,[i("code",null,p(t.name),1),te(t.name)?(r(),n(C,{key:0,size:"small",color:"success"},{default:o(()=>[e(y($)),m(" "+p(la(t.name).length)+" installed ",1)]),_:2},1024)):u("",!0)])):u("",!0),"description"===a.key?(r(),c("span",Ye,p(t.description||"No description"),1)):u("",!0),"stats"===a.key?(r(),c("div",Qe,[i("span",Ze,p(t.pullCount||"0")+" pulls",1),l[21]||(l[21]=i("span",{class:"stat-divider"},"â€¢",-1)),i("span",Xe,[m(p(ta(t))+" ",1),H.value<999||!L.value?(r(),c("span",ea,"/"+p(t.tagCount||0),1)):u("",!0),l[20]||(l[20]=m(" versions "))])])):u("",!0),"sizeRange"===a.key?(r(),c("span",aa,p(na(t)),1)):u("",!0),"actions"===a.key?(r(),n(ee,{key:4,size:"small"},{default:o(()=>[e(z,{type:"text",size:"small",onClick:e=>Y(t.name)},{icon:o(()=>[V.value.has(t.name)?(r(),n(y(P),{key:1})):(r(),n(y(j),{key:0}))]),default:o(()=>[m(" "+p(V.value.has(t.name)?"Hide":"See")+" Versions ",1)]),_:2},1032,["onClick"]),e(z,{type:se(`${t.name}:latest`)||se(t.name)?"default":"primary",size:"small",onClick:e=>ra(t.name,"latest"),loading:E.value.has(`${t.name}:latest`),disabled:se(`${t.name}:latest`)||se(t.name)},{default:o(()=>[D.value[`${t.name}:latest`]?(r(),c(f,{key:0},[m(p(Math.round(D.value[`${t.name}:latest`].percent))+"% ",1)],64)):se(`${t.name}:latest`)||se(t.name)?(r(),n(y($),{key:1})):(r(),c(f,{key:2},[m(" Pull Latest ")],64))]),_:2},1032,["type","onClick","loading","disabled"])]),_:2},1024)):u("",!0)]),_:1},8,["data-source","row-key","expanded-row-keys"])])):u("",!0)]),_:1},8,["spinning"])]),x.value?(r(),n(oa,{key:1,type:"error",message:x.value,closable:"",onClose:l[7]||(l[7]=e=>x.value=""),class:"error-alert"},null,8,["message"])):u("",!0)])]),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-c19a8216"]]),ta={class:"ollama-model-manager"},sa={class:"pull-section"},na={class:"section-title"},oa={class:"pull-controls"},ra={key:0,class:"pull-progress"},ia={class:"models-section"},ca={class:"section-header"},ua={key:0,class:"model-name"},da={key:1,class:"model-size"},ma={key:2,class:"model-date"},va=H(a({__name:"OllamaModelManager",setup(a){const l=t(""),s=t([]),v=t(!1),f=t(!1),g=t(new Set),h=t(null),k=t(""),z=t(!1),_=[{title:"Model Name",key:"name",width:"40%"},{title:"Size",key:"size",width:"20%",align:"right"},{title:"Modified",key:"modified",width:"25%"},{title:"Actions",key:"actions",width:"15%",align:"center"}];async function C(){if(!l.value.trim())return;const e=l.value.trim();v.value=!0,h.value={status:"active",percent:0,message:"Starting download..."},k.value="";try{const a=await fetch("http://localhost:11434/api/pull",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,stream:!0})});if(!a.ok)throw new Error(`Failed to pull model: ${a.statusText}`);const t=a.body?.getReader();if(!t)throw new Error("Unable to read response stream");let s=0,n=0;for(;;){const{done:a,value:o}=await t.read();if(a)break;const r=(new TextDecoder).decode(o).split("\n").filter(e=>e.trim());for(const t of r)try{const a=JSON.parse(t);a.total&&(s=a.total),a.completed&&(n=a.completed);const o=s>0?Math.round(n/s*100):0;if(h.value={status:"success"===a.status?"success":"active",percent:o,message:a.status||"Downloading..."},"success"===a.status){B.success(`Successfully pulled ${e}`),l.value="",await O();break}}catch{}}}catch(a){k.value=`Failed to pull model: ${a instanceof Error?a.message:"Unknown error"}`,h.value={status:"exception",percent:0,message:"Download failed"}}finally{v.value=!1,setTimeout(()=>{h.value=null},3e3)}}async function O(){f.value=!0,await async function(){try{const e=await fetch("http://localhost:11434/api/tags");if(!e.ok)throw new Error("Failed to fetch models from Ollama");const a=await e.json();s.value=a.models||[]}catch(e){k.value=`Failed to fetch models: ${e instanceof Error?e.message:"Unknown error"}`,s.value=[]}}(),f.value=!1}function x(e){if(!e)return"0 B";const a=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,a)).toFixed(1)} ${["B","KB","MB","GB","TB"][a]}`}function M(e){try{return new Date(e).toLocaleDateString()}catch{return"Unknown"}}return b(async()=>{await async function(){try{return(await fetch("http://localhost:11434/api/tags")).ok}catch{return!1}}()?await O():k.value="Cannot connect to Ollama. Make sure Ollama is running on localhost:11434"}),(a,t)=>{const b=d("a-button"),T=d("a-input"),S=d("a-progress"),$=d("a-tag"),j=d("a-popconfirm"),P=d("a-table"),H=d("a-empty"),E=d("a-alert");return r(),c("div",ta,[t[11]||(t[11]=i("div",{class:"manager-header"},[i("h3",null,"Ollama Model Management"),i("p",{class:"description"},"Download and manage local Ollama models")],-1)),i("div",sa,[i("div",na,[t[5]||(t[5]=i("h4",null,"Download New Model",-1)),e(b,{type:"default",size:"small",onClick:t[0]||(t[0]=e=>z.value=!0),class:"library-button"},{icon:o(()=>[e(y(Q))]),default:o(()=>[t[4]||(t[4]=m(" Open Ollama.com Model Library "))]),_:1,__:[4]})]),i("div",oa,[e(T,{value:l.value,"onUpdate:value":t[1]||(t[1]=e=>l.value=e),placeholder:"Enter model name (e.g., llama3.2, mistral, deepseek-r1)",size:"large",class:"model-input",onKeyup:w(C,["enter"]),disabled:v.value},null,8,["value","disabled"]),e(b,{type:"primary",size:"large",onClick:C,loading:v.value,disabled:!l.value.trim()},{icon:o(()=>[e(y(L))]),default:o(()=>[t[6]||(t[6]=m(" Pull Model "))]),_:1,__:[6]},8,["loading","disabled"])]),h.value?(r(),c("div",ra,[e(S,{percent:h.value.percent,status:h.value.status,format:()=>h.value?.message||""},null,8,["percent","status","format"])])):u("",!0)]),i("div",ia,[i("div",ca,[t[8]||(t[8]=i("h4",null,"Installed Models",-1)),e(b,{onClick:O,loading:f.value,size:"small"},{icon:o(()=>[e(y(F))]),default:o(()=>[t[7]||(t[7]=m(" Refresh "))]),_:1,__:[7]},8,["loading"])]),e(P,{columns:_,"data-source":s.value,pagination:!1,size:"small",loading:f.value,"row-key":"name",class:"models-table"},{bodyCell:o(({column:a,record:l})=>["name"===a.key?(r(),c("div",ua,[i("code",null,p(l.name),1),l.details?.family?(r(),n($,{key:0,size:"small",color:"blue"},{default:o(()=>[m(p(l.details.family),1)]),_:2},1024)):u("",!0)])):u("",!0),"size"===a.key?(r(),c("span",da,p(x(l.size)),1)):u("",!0),"modified"===a.key?(r(),c("span",ma,p(M(l.modified_at)),1)):u("",!0),"actions"===a.key?(r(),n(j,{key:3,title:"Are you sure you want to delete this model?",description:`This will permanently remove ${l.name} from your system.`,"ok-text":"Delete","cancel-text":"Cancel",onConfirm:e=>async function(e){g.value.add(e),k.value="";try{const a=await fetch("http://localhost:11434/api/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!a.ok)throw new Error(`Failed to remove model: ${a.statusText}`);B.success(`Successfully removed ${e}`),await O()}catch(a){k.value=`Failed to remove model: ${a instanceof Error?a.message:"Unknown error"}`}finally{g.value.delete(e)}}(l.name)},{default:o(()=>[e(b,{type:"text",danger:"",size:"small",loading:g.value.has(l.name)},{icon:o(()=>[e(y(V))]),default:o(()=>[t[9]||(t[9]=m(" Remove "))]),_:2,__:[9]},1032,["loading"])]),_:2},1032,["description","onConfirm"])):u("",!0)]),_:1},8,["data-source","loading"]),f.value||0!==s.value.length?u("",!0):(r(),n(H,{key:0,description:"No Ollama models installed",class:"empty-state"},{image:o(()=>t[10]||(t[10]=[i("div",{class:"empty-icon"},"ðŸ“¦",-1)])),_:1}))]),k.value?(r(),n(E,{key:0,type:"error",message:k.value,closable:"",onClose:t[2]||(t[2]=e=>k.value=""),class:"error-alert"},null,8,["message"])):u("",!0),e(la,{modelValue:z.value,"onUpdate:modelValue":t[3]||(t[3]=e=>z.value=e),onModelsUpdated:O},null,8,["modelValue"])])}}}),[["__scopeId","data-v-110f8c2b"]]);"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const pa=()=>{};function fa(e,a=200,l=!1,t=!0,s=!1){return function(e,a){return function(...l){return new Promise((t,s)=>{Promise.resolve(e(()=>a.apply(this,l),{fn:a,thisArg:this,args:l})).then(t).catch(s)})}}(function(...e){let a,l,t,s,n,o,r=0,i=!0,c=pa;z(e[0])||"object"!=typeof e[0]?[t,s=!0,n=!0,o=!1]=e:({delay:t,trailing:s=!0,leading:n=!0,rejectOnCancel:o=!1}=e[0]);const u=()=>{a&&(clearTimeout(a),a=void 0,c(),c=pa)};return e=>{const d=_(t),m=Date.now()-r,v=()=>l=e();return u(),d<=0?(r=Date.now(),v()):(m>d&&(n||!i)?(r=Date.now(),v()):s&&(l=new Promise((e,l)=>{c=o?l:e,a=setTimeout(()=>{r=Date.now(),i=!0,e(v()),u()},Math.max(0,d-m))})),n||a||(a=setTimeout(()=>i=!0,d)),i=!1,l)}}(a,l,t,s),e)}const ya={class:"virtual-table"},ga={class:"virtual-table"},ha=["data-row-index","data-row-id"],ka=H(a({__name:"VirtualTable",props:{columns:{},dataSource:{},rowHeight:{default:48},rowKey:{type:[String,Function],default:"id"},overscan:{default:5},showHeader:{type:Boolean,default:!0},getRowClass:{},minHeight:{default:"300px"},maxHeight:{default:"calc(100vh - 250px)"}},setup(e,{expose:a}){M(e=>({fb3a8ad6:e.minHeight,"5457a427":e.maxHeight}));const n=e,o=t(),d=t(),g=t(0),k=t(0),w=t(0);let z=null;const _=l(()=>n.dataSource.length*n.rowHeight),T=l(()=>{const e=Math.floor(g.value/n.rowHeight),a=Math.ceil((g.value+k.value)/n.rowHeight);return{start:Math.max(0,e-n.overscan),end:Math.min(n.dataSource.length,a+n.overscan)}}),S=l(()=>T.value.start),$=l(()=>n.dataSource.slice(T.value.start,T.value.end)),j=l(()=>S.value*n.rowHeight);function P(e){return"function"==typeof n.rowKey?n.rowKey(e):e[n.rowKey]}function B(e,a){return e[a.key]}function H(e){const a={};return e.width&&(a.width="number"==typeof e.width?`${e.width}px`:e.width),e.align&&(a.textAlign=e.align),a}const L=fa(e=>{null!==z&&cancelAnimationFrame(z),z=requestAnimationFrame(()=>{const a=e.target;g.value=a.scrollTop,z=null})},16);let F=null;function V(){if(o.value){const e=o.value.querySelector(".virtual-content");k.value=e?e.clientHeight:o.value.clientHeight}d.value&&(w.value=d.value.offsetHeight)}function E(){if(o.value){const e=o.value.querySelector(".virtual-content");e&&(e.scrollTop=0)}}return b(()=>{V(),o.value&&(F=new ResizeObserver(()=>{V()}),F.observe(o.value))}),C(()=>{F&&F.disconnect(),null!==z&&cancelAnimationFrame(z)}),s(()=>n.dataSource.length,()=>{g.value>_.value&&E()}),a({scrollToRow:function(e){if(o.value){const a=o.value.querySelector(".virtual-content");if(a){const l=e*n.rowHeight;a.scrollTop=l}}},scrollToTop:E}),(e,a)=>(r(),c("div",{class:"virtual-table-container",ref_key:"containerRef",ref:o,"data-testid":"virtual-table",role:"table","aria-label":"Data table with virtual scrolling"},[e.showHeader?(r(),c("div",{key:0,class:"virtual-header",ref_key:"headerRef",ref:d},[i("table",ya,[i("thead",null,[i("tr",null,[(r(!0),c(f,null,v(e.columns,e=>(r(),c("th",{key:e.key,style:O(H(e)),class:h(e.className)},p(e.title),7))),128))])])])],512)):u("",!0),i("div",{class:"virtual-content",style:O({height:`calc(100% - ${w.value}px)`}),onScrollPassive:a[0]||(a[0]=(...e)=>y(L)&&y(L)(...e))},[i("div",{class:"virtual-spacer",style:O({height:_.value+"px"})},[i("div",{class:"virtual-viewport",style:O({transform:`translateY(${j.value}px)`})},[i("table",ga,[i("tbody",null,[(r(!0),c(f,null,v($.value,(a,l)=>(r(),c("tr",{key:P(a),"data-row-index":S.value+l,"data-row-id":P(a),class:h(e.getRowClass?e.getRowClass(a):""),"data-testid":"table-row",role:"row"},[(r(!0),c(f,null,v(e.columns,l=>(r(),c("td",{key:l.key,style:O(H(l)),class:h(l.className)},[x(e.$slots,"cell",{column:l,record:a,value:B(a,l)},()=>[m(p(B(a,l)),1)],!0)],6))),128))],10,ha))),128))])])],4)],4)],36)],512))}}),[["__scopeId","data-v-c8787a4b"]]),ba={class:"models-view","data-testid":"page-models"},wa={class:"page-header"},za={key:2,class:"discovery-status-bar"},_a={class:"source-name"},Ca=["onClick","data-testid","aria-label"],Oa={class:"provider-header"},xa={class:"provider-name"},Ma={key:1},Ta={key:0},Sa={key:1,class:"text-secondary"},$a={key:0,class:"cost-display"},ja={key:0,class:"cost-line"},Pa={key:1,class:"cost-line"},Ba={key:1,class:"text-secondary"},Ha=H(a({__name:"ModelsView",setup(a){const s=A(),g=E(),h=t(""),w=t(!1),z=t(""),_=t([]),O=t(null),x=[{title:"Enabled",key:"enabled",width:80,align:"center"},{title:"Model",key:"model",width:300},{title:"Source",key:"source",width:100,align:"center"},{title:"Context",key:"context",width:100,align:"right"},{title:"Cost/1M",key:"cost",width:100,align:"right"}],M=l(()=>{const e=h.value.toLowerCase(),a={};for(const[l,t]of Object.entries(s.modelsByProvider)){const s=t.filter(a=>a.displayName.toLowerCase().includes(e)||a.modelId.toLowerCase().includes(e)||l.toLowerCase().includes(e));s.length>0&&(a[l]=s)}return Object.freeze(a)}),S=l(()=>h.value?`No models found matching "${h.value}"`:'No models available. Click "Refresh Models" to discover models.'),$=l(()=>{if(!z.value)return!1;const e=z.value.toLowerCase();return e.includes("ollama")&&(e.includes("failed to fetch")||e.includes("networkerror when attempting to fetch"))&&!e.includes("litellm")&&!e.includes("openrouter")}),j=l(()=>{const e=s.modelsByProvider.ollama?.length>0,a=s.discoveryStatus.some(e=>"ollama"===e.id);return e||a||$.value});function P(e){const a=R.getProvider(e);return a?.name||e}function B(e){const a=s.modelsByProvider[e]||[];return a.length>0&&a.every(e=>e.enabled)}async function H(){try{await N.enableOpenRouterFavorites(),_.value=Object.keys(s.modelsByProvider)}catch(e){D.error("Failed to enable OpenRouter favorites",e),alert("Failed to enable OpenRouter favorites: "+(e instanceof Error?e.message:"Unknown error"))}}async function L(){w.value=!0,z.value="";try{const e=await s.discoverModels(!0);e.errors.length>0&&(z.value=`Some sources failed: ${e.errors.join("; ")}`)}catch(e){D.error("Failed to refresh models",e),z.value="Failed to refresh models. Please check your connection and try again."}finally{w.value=!1}}const V=T;function U(e){return{litellm:"LiteLLM (Anthropic & OpenAI models & prices)",openrouter:"OpenRouter",ollama:"Ollama"}[e]||e}async function I(){try{await s.refreshSource("ollama")}catch(e){D.error("Failed to refresh Ollama models after update",e)}}function G(e){const a=e.target.closest(".ant-switch");if(a){const e=a.getAttribute("data-model-id"),l=a.getAttribute("data-action");if(e&&"toggle"===l){!async function(e,a){await s.toggleModel(e,a)}(e,!a.classList.contains("ant-switch-checked"))}}}return b(async()=>{0===s.allModels.length&&await L(),_.value=Object.keys(s.modelsByProvider)}),C(()=>{h.value="",_.value=[],z.value=""}),(a,l)=>{const t=d("a-button"),b=d("a-space"),C=d("a-alert"),T=d("a-tag"),E=d("a-input-search"),R=d("a-switch"),A=d("a-collapse-panel"),N=d("a-collapse"),K=d("a-empty");return r(),c("div",ba,[i("div",wa,[l[6]||(l[6]=i("div",{class:"header-content"},[i("h1",null,"Model Management"),i("p",{class:"description"},"Configure and enable LLM models for testing")],-1)),e(b,null,{default:o(()=>[e(t,{type:"primary",onClick:L,loading:w.value,"data-testid":"btn-refresh-models","aria-label":"Refresh available models"},{icon:o(()=>[e(y(F))]),default:o(()=>[l[5]||(l[5]=m(" Refresh Models "))]),_:1,__:[5]},8,["loading"])]),_:1})]),z.value&&!$.value?(r(),n(C,{key:0,type:"error",message:z.value,closable:"",onClose:l[0]||(l[0]=e=>z.value=""),class:"error-alert"},null,8,["message"])):u("",!0),$.value?(r(),n(C,{key:1,type:"info",closable:"",onClose:l[1]||(l[1]=e=>z.value=""),class:"ollama-info-alert"},{message:o(()=>l[7]||(l[7]=[i("div",{class:"ollama-message"},[m(" Ollama is not running on this computer. To audit local LLMs, install "),i("a",{href:"https://ollama.com",target:"_blank",rel:"noopener noreferrer"},"Ollama"),m(". ")],-1)])),_:1})):u("",!0),y(s).discoveryStatus.length>0?(r(),c("div",za,[l[8]||(l[8]=i("span",{class:"status-label"},"Sources:",-1)),(r(!0),c(f,null,v(y(s).discoveryStatus,a=>{return r(),c("div",{key:a.id,class:"source-status-compact"},[i("span",_a,p(U(a.id)),1),e(T,{color:(l=a.status,{idle:"default",loading:"processing",success:"success",error:"error"}[l]||"default"),size:"small"},{default:o(()=>["success"===a.status&&a.modelCount?(r(),c(f,{key:0},[m(p(a.modelCount),1)],64)):"error"===a.status?(r(),c("span",{key:1,onClick:e=>async function(e){O.value=e,z.value="";try{await s.refreshSource(e)}catch(a){D.error("Failed to retry source",a,{sourceId:e}),z.value=`Failed to refresh ${function(e){return{litellm:"LiteLLM",openrouter:"OpenRouter",ollama:"Ollama"}[e]||e}(e)}: ${a instanceof Error?a.message:"Unknown error"}`}finally{O.value=null}}(a.id),style:{cursor:"pointer"},"data-testid":`retry-source-${a.id}`,"aria-label":`Retry loading models from ${U(a.id)}`},"âŸ³ retry",8,Ca)):(r(),c(f,{key:2},[m(p(a.status),1)],64))]),_:2},1032,["color"])]);var l}),128))])):u("",!0),e(E,{value:h.value,"onUpdate:value":l[2]||(l[2]=e=>h.value=e),placeholder:"Search models by name, provider, or ID...","allow-clear":"",size:"large",class:"search-bar","data-testid":"input-model-search","aria-label":"Search models by name, provider, or ID"},null,8,["value"]),e(N,{activeKey:_.value,"onUpdate:activeKey":l[4]||(l[4]=e=>_.value=e),class:"provider-collapse",bordered:!1},{default:o(()=>[(r(!0),c(f,null,v(M.value,(a,d)=>(r(),n(A,{key:d},{header:o(()=>[i("div",Oa,[i("span",xa,[i("strong",null,p(P(d)),1),e(T,{size:"small",color:"blue"},{default:o(()=>[m(p(a.length)+" models",1)]),_:2},1024)]),e(b,{size:"small",onClick:l[3]||(l[3]=k(()=>{},["stop"]))},{default:o(()=>["openrouter"===d?(r(),n(t,{key:0,size:"small",type:"primary",ghost:"",onClick:k(H,["stop"]),"data-testid":"btn-enable-openrouter-favorites","aria-label":"Enable OpenRouter favorite models"},{default:o(()=>l[9]||(l[9]=[m(" Enable Favorites ")])),_:1,__:[9]})):u("",!0),e(t,{size:"small",type:B(d)?"danger":"primary",onClick:k(e=>async function(e,a){await s.toggleProvider(e,a)}(d,!B(d)),["stop"]),"data-testid":"btn-toggle-provider","data-provider":d,"aria-label":`${B(d)?"Disable":"Enable"} all ${P(d)} models`},{default:o(()=>[m(p(B(d)?"Disable All":"Enable All"),1)]),_:2},1032,["type","onClick","data-provider","aria-label"])]),_:2},1024)])]),default:o(()=>[e(ka,{columns:x,"data-source":a,"row-height":48,"row-key":"id",class:"models-table","max-height":"calc((100vh - 250px) * 0.75)",onClick:G,"data-testid":`models-table-${d}`,"aria-label":`${P(d)} models table`},{cell:o(({column:e,record:a})=>{return["enabled"===e.key?(r(),n(R,{key:0,checked:a.enabled,"data-model-id":a.id,"data-action":"toggle",size:"small","data-testid":"model-toggle","data-provider":a.provider,"data-model":a.modelId,"aria-label":`${a.enabled?"Disable":"Enable"} model ${a.modelId}`},null,8,["checked","data-model-id","data-provider","data-model","aria-label"])):u("",!0),"model"===e.key?(r(),c("code",Ma,p(a.modelId),1)):u("",!0),"source"===e.key?(r(),c(f,{key:2},[a.source?(r(),n(T,{key:0,size:"small",color:"cyan"},{default:o(()=>[m(p(a.source),1)]),_:2},1024)):u("",!0)],64)):u("",!0),"context"===e.key?(r(),c(f,{key:3},[a.capabilities?.contextWindow?(r(),c("span",Ta,p((t=a.capabilities.contextWindow,t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(0)+"K":t.toString())),1)):(r(),c("span",Sa,"-"))],64)):u("",!0),"cost"===e.key?(r(),c(f,{key:4},[y(g).financialCostsEnabled&&(a.capabilities?.inputCostPerToken||a.capabilities?.outputCostPerToken)?(r(),c("div",$a,[a.capabilities.inputCostPerToken?(r(),c("div",ja,[l[10]||(l[10]=i("span",{class:"cost-label"},"In:",-1)),m(" $"+p(y(V)(a.capabilities.inputCostPerToken)),1)])):u("",!0),a.capabilities.outputCostPerToken?(r(),c("div",Pa,[l[11]||(l[11]=i("span",{class:"cost-label"},"Out:",-1)),m(" $"+p(y(V)(a.capabilities.outputCostPerToken)),1)])):u("",!0)])):(r(),c("span",Ba,"-"))],64)):u("",!0)];var t}),_:2},1032,["data-source","data-testid","aria-label"])]),_:2},1024))),128))]),_:1},8,["activeKey"]),0===Object.keys(M.value).length?(r(),n(K,{key:3,description:S.value,class:"empty-state"},null,8,["description"])):u("",!0),j.value?(r(),n(va,{key:4,onModelsUpdated:I})):u("",!0)])}}}),[["__scopeId","data-v-a560f82b"]]);export{Ha as default};
