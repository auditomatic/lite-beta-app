import{c as $}from"./index-BHXEDjmJ.js";const x={"blue-subtle":{name:"Blue (Subtle)",colors:["rgba(59, 130, 246, 0.1)","rgba(59, 130, 246, 0.3)","rgba(59, 130, 246, 0.7)"]},"green-red":{name:"Green-Red",colors:["#dc2626","#fbbf24","#10b981"]},"blue-yellow":{name:"Blue-Yellow",colors:["#1e40af","#3b82f6","#fbbf24"]},"purple-orange":{name:"Purple-Orange",colors:["#7c3aed","#a855f7","#ff9500"]},grayscale:{name:"Grayscale",colors:["#f3f4f6","#9ca3af","#374151"]},viridis:{name:"Viridis",colors:["#440154","#482878","#3e4989","#31688e","#26828e","#1f9e89","#35b779","#6ece58","#b5de2b","#fde725"]},inferno:{name:"Inferno",colors:["#000004","#1b0c41","#4a0c6b","#781c6d","#a52c60","#cf4446","#ed6925","#fb9b06","#f7d13d","#fcffa4"]},magma:{name:"Magma",colors:["#000004","#180f3d","#440f76","#721f81","#9e2f7f","#cd4071","#f1605d","#fd9668","#feca8d","#fcfdbf"]},plasma:{name:"Plasma",colors:["#0d0887","#46039f","#7201a8","#9c179e","#bd3786","#d8576b","#ed7953","#fb9f3a","#fdca26","#f0f921"]}};function I(a,r){if(r.length===0)return"transparent";if(r.length===1)return r[0];a=Math.max(0,Math.min(1,a));const s=1/(r.length-1),o=Math.floor(a/s),p=a%s/s,f=r[Math.min(o,r.length-1)],h=r[Math.min(o+1,r.length-1)];return V(f,h,p)}function V(a,r,s){if(a.startsWith("rgba")&&r.startsWith("rgba")){const t=M=>{const d=M.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*([\d.]*)\)/);return d?{r:parseInt(d[1]),g:parseInt(d[2]),b:parseInt(d[3]),a:d[4]?parseFloat(d[4]):1}:null},e=t(a),g=t(r);if(e&&g){const M=Math.round(e.r+(g.r-e.r)*s),d=Math.round(e.g+(g.g-e.g)*s),y=Math.round(e.b+(g.b-e.b)*s),S=e.a+(g.a-e.a)*s;return`rgba(${M}, ${d}, ${y}, ${S.toFixed(2)})`}}if(a.startsWith("rgba")||r.startsWith("rgba"))return s<.5?a:r;const o=a.replace("#",""),p=r.replace("#",""),f=parseInt(o.substr(0,2),16),h=parseInt(o.substr(2,2),16),u=parseInt(o.substr(4,2),16),l=parseInt(p.substr(0,2),16),i=parseInt(p.substr(2,2),16),b=parseInt(p.substr(4,2),16),m=Math.round(f+(l-f)*s),c=Math.round(h+(i-h)*s),n=Math.round(u+(b-u)*s);return`#${m.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}`}function w(a){let r,s,o;if(a.startsWith("rgba")){const u=a.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*([\d.]*)\)/);if(!u)return!1;r=parseInt(u[1]),s=parseInt(u[2]),o=parseInt(u[3])}else{const u=a.charAt(0)==="#"?a.substring(1,7):a;r=parseInt(u.substring(0,2),16),s=parseInt(u.substring(2,4),16),o=parseInt(u.substring(4,6),16)}const f=[r/255,s/255,o/255].map(u=>u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4));return .2126*f[0]+.7152*f[1]+.0722*f[2]<=.179}function v(a){return w(a)?"#FFFFFF":"#000000"}function C(a,r,s){function o(l){if(typeof l=="number")return l;if(typeof l=="string"){const i=parseFloat(l);return isNaN(i)?null:i}return null}function p(l,i,b){const m=o(l.value);if(m===null)return .5;if(s.value==="global"){const n=a.value.rows.flatMap(t=>t.cells).filter(t=>t!==null).map(t=>o(t.value)).filter(t=>t!==null);if(n.length>0){const t=Math.min(...n),e=Math.max(...n);if(e!==t)return(m-t)/(e-t)}}else if(s.value==="column"){const c=a.value.rows.map(n=>n.cells[b]).filter(n=>n!==null).map(n=>o(n.value)).filter(n=>n!==null);if(c.length>0){const n=Math.min(...c),t=Math.max(...c);if(t!==n)return(m-n)/(t-n)}}else if(s.value==="row"){const c=a.value.rows.find(n=>n.label===i);if(c){const n=c.cells.filter(t=>t!==null).map(t=>o(t.value)).filter(t=>t!==null);if(n.length>0){const t=Math.min(...n),e=Math.max(...n);if(e!==t)return(m-t)/(e-t)}}}return .5}function f(l,i,b){if(!l||l.value===null||typeof l.value!="number")return{};const m=x[r.value];if(!m)return{};const c=p(l,i,b),n=I(c,m.colors),t=v(n);return{backgroundColor:`${n} !important`,color:`${t} !important`,fontSize:"15px !important",fontWeight:"600 !important"}}function h(l){if(!l||l.value===null||typeof l.value!="number")return{};const i=x[r.value];if(!i)return{};let b=.5;const c=a.value.rows.flatMap(e=>e.cells).filter(e=>e!==null).map(e=>o(e.value)).filter(e=>e!==null);if(c.length>0){const e=Math.min(...c),g=Math.max(...c),M=o(l.value);M!==null&&(g!==e?b=(M-e)/(g-e):b=.5)}const n=I(b,i.colors),t=v(n);return{backgroundColor:`${n} !important`,color:`${t} !important`,fontSize:"15px !important",fontWeight:"600 !important"}}const u=$(()=>`${r.value}-${s.value}`);return{getCellStyle:f,getSummaryStyle:h,styleKey:u,colorScales:x,interpolateColor:I,getContrastColor:v}}export{x as c,v as g,I as i,C as u};
