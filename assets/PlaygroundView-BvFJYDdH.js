import{u as e}from"./models-db-CK0qIBeX.js";import{u as a}from"./designs-db-D0ajitFg.js";import{p as t,J as s,l,_ as o,a as n}from"./index-0dU5AN9h.js";import{f as r,r as i,d,c as p,w as u,a6 as c,_ as m,k as v,W as g,Z as h,Y as f,a1 as y,V as b,F as k,a8 as x,G as _,a0 as w,a7 as C,ad as j,o as E,u as P}from"./vendor-BARfHmiz.js";import{T as I}from"./TemplateEditor-BJGwn7Hy.js";import{G as R}from"./GenericModelSelectorModal-cbJk1Nin.js";import"./db-CL8uhZCz.js";import"./defaultData-Bk-Mi7PC.js";import"./variable.service-EtjHNw25.js";import"./cost-formatting-Bv_drrqY.js";import"./feature-flags-DaxAZY-J.js";import"./EnvironmentalCostSummary-Cj112wWk.js";function O(e){if(!e||"object"!=typeof e)return e;const a=Array.isArray(e)?[...e]:{...e};if(a.Authorization){const e=a.Authorization;if(e.startsWith("Bearer ")){const t=e.substring(7);a.Authorization=`Bearer ${t.substring(0,8)}...${t.substring(t.length-4)}`}else a.Authorization="[REDACTED]"}return Object.keys(a).forEach(e=>{"object"==typeof a[e]&&null!==a[e]&&(a[e]=O(a[e]))}),a}const A={class:"parameter-panel"},L={class:"panel-content"},M={key:0,class:"params-section"},S={key:0,class:"reasoning-warning"},T={key:5,class:"param-description"},$={key:4,class:"param-description"},z={key:2,class:"params-section"},D={class:"logprobs-controls"},F={class:"panel-actions"},V=o(d({__name:"ParameterPanel",props:{model:{},modelValue:{}},emits:["update:modelValue","change"],setup(e,{emit:a}){const s=e,l=a,o=i({}),n=r(!1),d=r(3),C=p(()=>{if(!s.model)return{};const e=t.getParametersForModel(s.model.provider,s.model.modelId),a={},l=(e,t="")=>{Object.entries(e).forEach(([e,s])=>{const o=t?`${t}.${e}`:e;"object"===s.type&&s.properties?l(s.properties,o):a[o]=s})};l(e);const o={};for(const[t,s]of Object.entries(a))s.basic&&(o[t]=s);const n={},r=o.temperature?"temperature":o["options.temperature"]?"options.temperature":null;r&&(n[r]=o[r]);for(const[t,s]of Object.entries(o))t!==r&&(n[t]=s);return n}),j=p(()=>{if(!s.model)return{};const e=t.getParametersForModel(s.model.provider,s.model.modelId),a={},l=(e,t="")=>{Object.entries(e).forEach(([e,s])=>{const o=t?`${t}.${e}`:e;"object"===s.type&&s.properties?l(s.properties,o):a[o]=s})};l(e);const o={};for(const[t,s]of Object.entries(a))s.basic||(o[t]=s);return o}),E=p(()=>!!s.model&&(("openai-chat"===s.model.provider||"openai-responses"===s.model.provider)&&s.model.modelId.match(/^o[0-9]/))),P=p(()=>!!s.model&&t.supportsLogprobs(s.model.provider,s.model.modelId)),I=p(()=>s.model?t.getLogprobsParameters(s.model.provider,s.model.modelId):{}),R=p(()=>!!I.value.topLogprobs);function O(e,a){o[e]=a,l("update:modelValue",{...o}),l("change",{...o})}function V(e){return e.replace(/\./g," â€º ").replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}function N(e){n.value=e,B()}function U(e){d.value=e||3,B()}function B(){const e=I.value;if(Object.keys(o).forEach(e=>{(e.includes("logprobs")||"include"===e)&&delete o[e]}),n.value){if(e.enableParams)for(const a of e.enableParams)if("boolean"===a.type)if(a.name.includes(".")){const e=a.name.split(".");let t=o;for(let a=0;a<e.length-1;a++)t[e[a]]||(t[e[a]]={}),t=t[e[a]];t[e[e.length-1]]=a.value}else o[a.name]=a.value;else"array"===a.type&&(o[a.name]||(o[a.name]=[]),o[a.name].includes(a.value)||o[a.name].push(a.value));if(e.topLogprobs)if(e.topLogprobs.includes(".")){const a=e.topLogprobs.split(".");let t=o;for(let e=0;e<a.length-1;e++)t[a[e]]||(t[a[e]]={}),t=t[a[e]];t[a[a.length-1]]=d.value}else o[e.topLogprobs]=d.value}else if(e.enableParams)for(const a of e.enableParams)"array"===a.type&&o[a.name]&&(o[a.name]=o[a.name].filter(e=>e!==a.value),0===o[a.name].length&&delete o[a.name]);l("update:modelValue",{...o}),l("change",{...o})}function q(){if(!s.model)return;Object.keys(o).forEach(e=>delete o[e]);const e=t.supportsLogprobs(s.model.provider,s.model.modelId);n.value=e,d.value=3;const a=(e,t="")=>{Object.entries(e).forEach(([e,s])=>{const l=t?`${t}.${e}`:e;"object"===s.type&&s.properties?a(s.properties,l):void 0!==s.default&&(o[l]=s.default)})},r=t.getParametersForModel(s.model.provider,s.model.modelId);a(r),e&&B(),l("update:modelValue",{...o}),l("change",{...o})}return u(()=>s.model,e=>{if(e){const a=t.supportsLogprobs(e.provider,e.modelId);n.value=a,d.value=3,q(),a&&B()}},{immediate:!0}),u(()=>s.modelValue,e=>{Object.assign(o,e)},{immediate:!0,deep:!0}),(e,a)=>{const t=g("a-alert"),s=g("a-input-number"),l=g("a-switch"),r=g("a-select-option"),i=g("a-select"),p=g("a-input"),u=g("a-form-item"),I=g("a-collapse-panel"),B=g("a-collapse"),J=g("a-button"),G=g("a-form");return f(),c("div",A,[a[4]||(a[4]=m("div",{class:"panel-header"},[m("h3",null,"Parameters")],-1)),m("div",L,[v(G,{layout:"vertical"},{default:h(()=>[Object.keys(C.value).length>0?(f(),c("div",M,[a[0]||(a[0]=m("h4",null,"Basic Parameters",-1)),E.value?(f(),c("div",S,[v(t,{message:"O* reasoning models do not support temperature",type:"info",size:"small","show-icon":"",closable:!1})])):y("",!0),(f(!0),c(k,null,x(C.value,(e,a)=>(f(),b(u,{key:a,label:V(a)},{default:h(()=>["number"===e.type?(f(),b(s,{key:0,value:o[a],onChange:e=>O(a,e),min:e.min,max:e.max,step:e.step||.1,placeholder:String(e.default),size:"large",style:{width:"100%"}},null,8,["value","onChange","min","max","step","placeholder"])):"integer"===e.type?(f(),b(s,{key:1,value:o[a],onChange:e=>O(a,e),min:e.min,max:e.max,placeholder:String(e.default),size:"large",style:{width:"100%"}},null,8,["value","onChange","min","max","placeholder"])):"boolean"===e.type?(f(),b(l,{key:2,checked:o[a],onChange:e=>O(a,e),"checked-children":"true","un-checked-children":"false"},null,8,["checked","onChange"])):"string"===e.type&&e.enum?(f(),b(i,{key:3,value:o[a],onChange:e=>O(a,e),placeholder:String(e.default),size:"large",style:{width:"100%"},allowClear:""},{default:h(()=>[(f(!0),c(k,null,x(e.enum,e=>(f(),b(r,{key:e,value:e},{default:h(()=>[_(w(e),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onChange","placeholder"])):(f(),b(p,{key:4,value:o[a],onChange:e=>O(a,e.target.value),placeholder:String(e.default),size:"large"},null,8,["value","onChange","placeholder"])),e.description?(f(),c("div",T,w(e.description),1)):y("",!0)]),_:2},1032,["label"]))),128))])):y("",!0),Object.keys(j.value).length>0?(f(),b(B,{key:1,ghost:""},{default:h(()=>[v(I,{key:"advanced",header:"Advanced Parameters"},{default:h(()=>[(f(!0),c(k,null,x(j.value,(e,a)=>(f(),b(u,{key:a,label:V(a)},{default:h(()=>["number"===e.type||"integer"===e.type?(f(),b(s,{key:0,value:o[a],onChange:e=>O(a,e),min:e.min,max:e.max,step:"number"===e.type?e.step||.1:1,placeholder:String(e.default),size:"large",style:{width:"100%"}},null,8,["value","onChange","min","max","step","placeholder"])):"boolean"===e.type?(f(),b(l,{key:1,checked:o[a],onChange:e=>O(a,e),"checked-children":"true","un-checked-children":"false"},null,8,["checked","onChange"])):"string"===e.type&&e.enum?(f(),b(i,{key:2,value:o[a],onChange:e=>O(a,e),placeholder:String(e.default),size:"large",style:{width:"100%"},allowClear:""},{default:h(()=>[(f(!0),c(k,null,x(e.enum,e=>(f(),b(r,{key:e,value:e},{default:h(()=>[_(w(e),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onChange","placeholder"])):(f(),b(p,{key:3,value:o[a],onChange:e=>O(a,e.target.value),placeholder:String(e.default),size:"large"},null,8,["value","onChange","placeholder"])),e.description?(f(),c("div",$,w(e.description),1)):y("",!0)]),_:2},1032,["label"]))),128))]),_:1})]),_:1})):y("",!0),P.value?(f(),c("div",z,[a[2]||(a[2]=m("h4",null,"Log Probabilities",-1)),m("div",D,[v(u,{label:"Enable Logprobs"},{default:h(()=>[v(l,{checked:n.value,onChange:N,"checked-children":"On","un-checked-children":"Off"},null,8,["checked"])]),_:1}),n.value&&R.value?(f(),b(u,{key:0,label:"Top Alternatives"},{default:h(()=>[v(s,{value:d.value,onChange:U,min:0,max:20,size:"large",style:{width:"100%"},placeholder:"3"},null,8,["value"]),a[1]||(a[1]=m("div",{class:"param-description"}," Number of alternative tokens to show (0-20) ",-1))]),_:1,__:[1]})):y("",!0)])])):y("",!0),m("div",F,[v(J,{onClick:q,size:"small"},{default:h(()=>a[3]||(a[3]=[_(" Reset to Defaults ")])),_:1,__:[3]})])]),_:1})])])}}}),[["__scopeId","data-v-8a496cc0"]]),N={class:"logprobs-display"},U={key:0,class:"color-legend"},B={key:1,class:"tokens-container"},q=["onMouseenter"],J={key:2,class:"regular-text"},G={class:"tooltip-header"},W={class:"token-text"},H={class:"token-probability"},K={key:0,class:"alternatives"},Y={class:"alt-text"},X={class:"alt-probability"},Q={class:"logprob-raw"},Z=o(d({__name:"LogprobsDisplay",props:{text:{},logprobsData:{}},setup(e){const a=e,t=r({visible:!1,token:{text:"",logprob:0},style:{}}),s=p(()=>a.logprobsData?a.logprobsData.map(e=>({text:e.token,logprob:e.logprob,bytes:e.bytes,topLogprobs:e.top_logprobs})):[]),l=["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#abd9e9","#74add1","#4575b4","#313695"];function o(e){const a=100*Math.exp(e.logprob),t=Math.min(Math.floor(a/(100/(l.length-1))),l.length-1);return{color:l[t],cursor:"pointer",transition:"all 0.2s ease"}}function n(e){return(100*Math.exp(e)).toFixed(2)}function i(){t.value.visible=!1}return(e,a)=>(f(),c("div",N,[s.value.length>0?(f(),c("div",U,a[1]||(a[1]=[C('<span class="legend-label" data-v-a0458886>Token Confidence:</span><div class="legend-gradient" data-v-a0458886><span class="legend-low" data-v-a0458886>Low</span><div class="gradient-bar" data-v-a0458886></div><span class="legend-high" data-v-a0458886>High</span></div>',2)]))):y("",!0),s.value.length>0?(f(),c("div",B,[(f(!0),c(k,null,x(s.value,(e,s)=>(f(),c("span",{key:s,class:"token",style:j(o(e)),onMouseenter:a=>function(e,a,s){t.value={visible:!0,token:e,style:{position:"fixed",left:`${s.clientX+10}px`,top:s.clientY-10+"px",zIndex:"1000"}}}(e,0,a),onMouseleave:i,onMousemove:a[0]||(a[0]=e=>{return a=e,void(t.value.visible&&(t.value.style={...t.value.style,left:`${a.clientX+10}px`,top:a.clientY-10+"px"}));var a})},w(e.text),45,q))),128))])):(f(),c("div",J,w(e.text),1)),t.value.visible?(f(),c("div",{key:3,class:"token-tooltip",style:j(t.value.style)},[m("div",G,[m("span",W,'"'+w(t.value.token.text)+'"',1),m("span",H,w(n(t.value.token.logprob))+"%",1)]),t.value.token.topLogprobs&&t.value.token.topLogprobs.length>0?(f(),c("div",K,[a[2]||(a[2]=m("div",{class:"alternatives-header"},"Alternative tokens:",-1)),(f(!0),c(k,null,x(t.value.token.topLogprobs?.slice(0,5),(e,a)=>(f(),c("div",{key:a,class:"alternative-token"},[m("span",Y,'"'+w(e.token)+'"',1),m("span",X,w(n(e.logprob))+"%",1)]))),128))])):y("",!0),m("div",Q," Raw logprob: "+w(t.value.token.logprob.toFixed(6)),1)],4)):y("",!0)]))}}),[["__scopeId","data-v-a0458886"]]),ee={class:"response-display"},ae={key:0,class:"loading-state"},te={key:1,class:"error-state"},se={class:"error-details"},le={key:2,class:"response-content"},oe={class:"response-text"},ne={class:"response-metadata"},re={class:"metadata-grid"},ie={class:"metadata-item"},de={class:"value"},pe={key:0,class:"metadata-section"},ue={class:"metadata-item"},ce={class:"value"},me={class:"metadata-item"},ve={class:"value"},ge={class:"metadata-item"},he={class:"value"},fe={key:1,class:"metadata-section"},ye={class:"metadata-item"},be={class:"value"},ke={class:"metadata-item"},xe={class:"value"},_e={class:"metadata-item"},we={class:"value"},Ce={class:"raw-response"},je={class:"raw-response"},Ee={key:3,class:"empty-state"},Pe=o(d({__name:"ResponseDisplay",props:{response:{},isLoading:{type:Boolean},error:{}},setup(e){function a(e){return e<1e-4?e.toFixed(6):e<.01?e.toFixed(4):e.toFixed(3)}function t(e){if(!e)return"No raw response data";try{return JSON.stringify(e,null,2)}catch{return String(e)}}function s(e){if(!e)return"No error details available";try{return JSON.stringify(e,null,2)}catch{return String(e)}}return(e,l)=>{const o=g("a-spin"),n=g("a-alert"),r=g("a-collapse-panel"),i=g("a-collapse");return f(),c("div",ee,[e.isLoading?(f(),c("div",ae,[v(o,{size:"large"},{tip:h(()=>l[0]||(l[0]=[_("Generating response...")])),_:1})])):e.error?(f(),c("div",te,[v(n,{type:"error",message:e.error.message||"API Error",description:e.error.details,"show-icon":""},null,8,["message","description"]),e.error.response?(f(),b(i,{key:0,ghost:"",style:{"margin-top":"16px"}},{default:h(()=>[v(r,{key:"details",header:"Full API Request/Response"},{default:h(()=>[m("pre",se,w(s(e.error.response)),1)]),_:1})]),_:1})):y("",!0)])):e.response?(f(),c("div",le,[m("div",oe,[v(Z,{text:e.response.content,"logprobs-data":e.response.logprobs},null,8,["text","logprobs-data"])]),m("div",ne,[v(i,{ghost:""},{default:h(()=>[v(r,{key:"metadata",header:"Response Details"},{default:h(()=>[m("div",re,[m("div",ie,[l[1]||(l[1]=m("span",{class:"label"},"Latency:",-1)),m("span",de,w(e.response.latency)+"ms",1)]),e.response.tokens?(f(),c("div",pe,[l[5]||(l[5]=m("h5",null,"Token Usage",-1)),m("div",ue,[l[2]||(l[2]=m("span",{class:"label"},"Input:",-1)),m("span",ce,w(e.response.tokens.prompt_tokens||"?"),1)]),m("div",me,[l[3]||(l[3]=m("span",{class:"label"},"Output:",-1)),m("span",ve,w(e.response.tokens.completion_tokens||"?"),1)]),m("div",ge,[l[4]||(l[4]=m("span",{class:"label"},"Total:",-1)),m("span",he,w(e.response.tokens.total_tokens||"?"),1)])])):y("",!0),e.response.cost?(f(),c("div",fe,[l[9]||(l[9]=m("h5",null,"Cost Estimate",-1)),m("div",ye,[l[6]||(l[6]=m("span",{class:"label"},"Input:",-1)),m("span",be,"$"+w(a(e.response.cost.input)),1)]),m("div",ke,[l[7]||(l[7]=m("span",{class:"label"},"Output:",-1)),m("span",xe,"$"+w(a(e.response.cost.output)),1)]),m("div",_e,[l[8]||(l[8]=m("span",{class:"label"},"Total:",-1)),m("span",we,"$"+w(a(e.response.cost.total)),1)])])):y("",!0)]),v(i,{ghost:"",style:{"margin-top":"16px"}},{default:h(()=>[v(r,{key:"raw",header:"Raw API Response"},{default:h(()=>[m("pre",Ce,w(t(e.response.raw)),1)]),_:1})]),_:1}),e.response.debug?(f(),b(i,{key:0,ghost:"",style:{"margin-top":"8px"}},{default:h(()=>[v(r,{key:"debug",header:"API Request Details"},{default:h(()=>[m("pre",je,w(t(e.response.debug)),1)]),_:1})]),_:1})):y("",!0)]),_:1})]),_:1})])])):(f(),c("div",Ee,l[10]||(l[10]=[m("div",{class:"empty-content"},[m("div",{class:"empty-icon"},"ðŸ’¬"),m("p",null,"Response will appear here after running a prompt")],-1)])))])}}}),[["__scopeId","data-v-5133f129"]]),Ie={class:"playground-view","data-testid":"page-playground"},Re={class:"page-header"},Oe={class:"header-actions"},Ae={class:"playground-content"},Le={class:"left-panel"},Me={class:"panel-section"},Se={key:0,class:"model-info"},Te={class:"info-header"},$e={class:"model-name"},ze={class:"provider-badge"},De={key:0,class:"info-details"},Fe={class:"detail-item"},Ve={class:"value"},Ne={class:"detail-item"},Ue={class:"value"},Be={class:"detail-item"},qe={class:"value"},Je={key:0,class:"panel-section"},Ge={class:"template-buttons"},We={class:"center-panel"},He={class:"prompt-section"},Ke={class:"section-header"},Ye={class:"character-count"},Xe={key:0,class:"response-section"},Qe={class:"section-header"},Ze={key:0,class:"response-meta"},ea={class:"response-container"},aa={key:0,class:"right-panel"},ta={class:"design-list"},sa=["onClick"],la={class:"design-name"},oa={class:"design-description"},na={class:"design-preview"},ra=o(d({__name:"PlaygroundView",setup(o){const d=e(),u=a(),b=n(),C=r(null),j=r(""),A=r({}),L=r(!1),M=r(!1),S=r(!1),{isExecuting:T,lastResponse:$,lastError:z,executePrompt:D}=function(){const e=r(!1),a=r(null),o=r(null),n=i([]);return{isExecuting:e,lastResponse:a,lastError:o,executionHistory:n,executePrompt:async function(r){if(e.value)throw new Error("Execution already in progress");e.value=!0,a.value=null,o.value=null;const i={timestamp:new Date,model:`${r.model.provider}:${r.model.modelId}`,prompt:r.prompt,parameters:{...r.parameters}};let d;try{const e={id:`${r.model.provider}:${r.model.modelId}`,name:r.model.displayName,provider:r.model.provider,model:r.model.modelId,params:r.parameters,created_at:new Date},o=t.getResponseModes(r.model.provider),n=o.text||Object.values(o)[0],p=r.getApiKey(r.model.provider),u=r.getBaseUrl(r.model.provider);d=s.buildAPIRequest(e,r.prompt,p,u,n);const c=Date.now(),m=await fetch(d.url,{method:d.method,headers:d.headers,body:JSON.stringify(d.body)}),v=Date.now()-c,g=await m.text();let h;try{h=JSON.parse(g)}catch{h=g}if(!m.ok){const e=s.extractErrorMessage(h),a={request:{url:d.url,method:d.method,headers:O(d.headers),body:d.body},response:{status:m.status,statusText:m.statusText,headers:Object.fromEntries(m.headers.entries()),body:h}},t=new Error(`API error (${m.status}): ${e}`);throw t.fullResponse=a,t}if(s.isErrorResponse(h)){const e=s.extractErrorMessage(h),a={request:{url:d.url,method:d.method,headers:O(d.headers),body:d.body},response:{status:m.status,statusText:m.statusText,headers:Object.fromEntries(m.headers.entries()),body:h}},t=new Error(`Provider error: ${e}`);throw t.fullResponse=a,t}const f=s.extractResponseContent(r.model.provider,h),y=s.extractUsageInfo(r.model.provider,h);let b;const k=t.getLogprobsResponsePath(r.model.provider);if(k){const e=function(e,a){if(!e||!a)return;const t=a.replace(/\[(\d+)\]/g,".$1").split(".");let s=e;for(const l of t){if(null==s)return;s=s[l]}return s}(h,k);Array.isArray(e)&&(b=e.map(e=>({token:e.token,logprob:e.logprob,bytes:e.bytes,top_logprobs:e.top_logprobs})))}let x;if(r.model.capabilities&&y.prompt_tokens&&y.completion_tokens){const e=(r.model.capabilities.inputCostPerToken||0)*y.prompt_tokens,a=(r.model.capabilities.outputCostPerToken||0)*y.completion_tokens;x={input:e,output:a,total:e+a}}const _={content:f||"",latency:v,tokens:y,cost:x,logprobs:b,raw:h,debug:{request:{url:d.url,method:d.method,headers:O(d.headers),body:d.body},response:{status:m.status,statusText:m.statusText,headers:Object.fromEntries(m.headers.entries())}}};a.value=_,i.response=_,l.info("Playground execution successful",{model:r.model.modelId,latency:v,tokens:y.total_tokens})}catch(p){const e={message:p instanceof Error?p.message:String(p),details:p instanceof Error?p.stack:void 0,response:p.fullResponse||{request:{url:d?.url||"unknown",method:d?.method||"unknown",headers:O(d?.headers||{}),body:d?.body||"unknown"},response:{status:"unknown",statusText:"Network or parsing error",headers:{},body:p instanceof Error?p.message:String(p)}}};o.value=e,i.error=e,l.error("Playground execution failed",{model:r.model.modelId,error:e.message,fullResponse:p.fullResponse})}finally{e.value=!1,n.unshift(i),n.length>10&&n.pop()}},clearResults:function(){a.value=null,o.value=null},clearHistory:function(){n.splice(0,n.length)}}}(),F=[{name:"Creative",prompt:"Write a creative short story about:"},{name:"Analysis",prompt:"Analyze the following text and provide insights:"},{name:"Explain",prompt:"Explain this concept in simple terms:"},{name:"Summarize",prompt:"Summarize the following content:"}],N=p(()=>C.value&&j.value.trim().length>0&&!T.value);function U(e){A.value={...e}}function B(){L.value=!0}function q(e){C.value=e,M.value=!1,A.value={}}function J(e){return e<.01?e.toFixed(4):e<1?e.toFixed(3):e.toFixed(2)}async function G(){N.value&&C.value&&(S.value=!0,await D({model:C.value,prompt:j.value,parameters:A.value,getApiKey:e=>b.getApiKey(e),getBaseUrl:e=>b.getBaseUrl(e)}))}return E(async()=>{d.enabledModels.length>0&&(C.value=d.enabledModels[0])}),(e,a)=>{const t=g("a-button"),s=g("a-modal");return f(),c("div",Ie,[m("div",Re,[a[6]||(a[6]=m("div",{class:"header-content"},[m("h1",null,"LLM Playground"),m("p",{class:"description"},"Test prompts and explore model responses interactively")],-1)),m("div",Oe,[v(t,{type:"default",onClick:B,disabled:!P(u).designs.length},{default:h(()=>a[5]||(a[5]=[_(" Load from Design ")])),_:1,__:[5]},8,["disabled"]),v(t,{type:"primary",onClick:G,disabled:!N.value,loading:P(T)},{default:h(()=>[_(w(P(T)?"Running...":"Run"),1)]),_:1},8,["disabled","loading"])])]),m("div",Ae,[m("div",Le,[m("div",Me,[a[10]||(a[10]=m("h3",null,"Model",-1)),v(t,{size:"large",style:{width:"100%"},onClick:a[0]||(a[0]=e=>M.value=!0)},{default:h(()=>[_(w(C.value?C.value.displayName:"Select Model"),1)]),_:1}),C.value?(f(),c("div",Se,[m("div",Te,[m("span",$e,w(C.value.displayName),1),m("span",ze,w(C.value.provider),1)]),C.value.capabilities?(f(),c("div",De,[m("div",Fe,[a[7]||(a[7]=m("span",{class:"label"},"Context:",-1)),m("span",Ve,w((l=C.value.capabilities.contextWindow,l?l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(0)+"k":l.toString():"N/A"))+" tokens",1)]),m("div",Ne,[a[8]||(a[8]=m("span",{class:"label"},"Input:",-1)),m("span",Ue,"$"+w(J(1e3*(C.value.capabilities.inputCostPerToken||0)))+"/1k",1)]),m("div",Be,[a[9]||(a[9]=m("span",{class:"label"},"Output:",-1)),m("span",qe,"$"+w(J(1e3*(C.value.capabilities.outputCostPerToken||0)))+"/1k",1)])])):y("",!0)])):y("",!0)]),C.value?(f(),c("div",Je,[a[11]||(a[11]=m("h3",null,"Quick Templates",-1)),m("div",Ge,[(f(),c(k,null,x(F,e=>v(t,{key:e.name,size:"small",onClick:a=>function(e){j.value=e}(e.prompt)},{default:h(()=>[_(w(e.name),1)]),_:2},1032,["onClick"])),64))])])):y("",!0)]),m("div",We,[m("div",He,[m("div",Ke,[a[12]||(a[12]=m("h3",null,"Prompt",-1)),m("span",Ye,w(j.value.length)+" characters",1)]),v(I,{modelValue:j.value,"onUpdate:modelValue":a[1]||(a[1]=e=>j.value=e),rows:12,placeholder:"Enter your prompt here...","data-testid":"playground-prompt-editor"},null,8,["modelValue"])]),S.value?(f(),c("div",Xe,[m("div",Qe,[a[13]||(a[13]=m("h3",null,"Response",-1)),P($)?(f(),c("div",Ze,[m("span",null,w(P($).latency)+"ms",1),m("span",null,w(P($).tokens?.total_tokens||"?")+" tokens",1)])):y("",!0)]),m("div",ea,[v(Pe,{response:P($),"is-loading":P(T),error:P(z)},null,8,["response","is-loading","error"])])])):y("",!0)]),C.value?(f(),c("div",aa,[v(V,{model:C.value,modelValue:A.value,"onUpdate:modelValue":a[2]||(a[2]=e=>A.value=e),onChange:U},null,8,["model","modelValue"])])):y("",!0)]),v(s,{open:L.value,"onUpdate:open":a[3]||(a[3]=e=>L.value=e),title:"Load from Design",width:"800px",footer:null},{default:h(()=>[m("div",ta,[(f(!0),c(k,null,x(P(u).designs,e=>(f(),c("div",{key:e.id,class:"design-item",onClick:a=>function(e){j.value=e.promptTemplate,L.value=!1}(e)},[m("div",la,w(e.name),1),m("div",oa,w(e.description||"No description"),1),m("div",na,w(e.promptTemplate.substring(0,100))+"...",1)],8,sa))),128))])]),_:1},8,["open"]),v(R,{open:M.value,mode:"playground",title:"Select Model",onClose:a[4]||(a[4]=e=>M.value=!1),onSelectModel:q},null,8,["open"])]);var l}}}),[["__scopeId","data-v-2f0b6edd"]]);export{ra as default};
