import{a as c}from"./useV4LiveQuery-Cn2JLPvq.js";import{l,d as t,c as s}from"./index-VqxE_YFg.js";class w{liveModels(){return l(async()=>{const a=await t.models.toArray();a.sort((o,e)=>(o.displayName||o.modelId).localeCompare(e.displayName||e.modelId));const r=a.map(o=>Object.freeze(o));return Object.freeze(r)})}liveModelsByProvider(){return l(async()=>{const a=await t.models.toArray(),r={};for(const e of a)r[e.provider]||(r[e.provider]=[]),r[e.provider].push(Object.freeze(e));const o={};for(const[e,d]of Object.entries(r))d.sort((n,i)=>(n.displayName||n.modelId).localeCompare(i.displayName||i.modelId)),o[e]=Object.freeze(d);return Object.freeze(o)})}liveEnabledModels(){return l(async()=>{const r=(await t.models.filter(o=>o.enabled===!0).toArray()).map(o=>Object.freeze(o));return Object.freeze(r)})}liveModelsBySpecificProvider(a){return l(async()=>{const o=(await t.models.where("provider").equals(a).toArray()).map(e=>Object.freeze(e));return Object.freeze(o)})}liveModel(a){return l(async()=>{const r=await t.models.get(a);return r?Object.freeze(r):null})}liveModelStats(){return l(async()=>{const a=await t.models.toArray(),r=a.length,o=a.filter(e=>e.enabled===!0).length;return Object.freeze({total:r,enabled:o,disabled:r-o})})}liveProviderStats(){return l(async()=>{const a=await t.models.toArray(),r={};for(const e of a)r[e.provider]||(r[e.provider]={total:0,enabled:0,available:0}),r[e.provider].total++,e.enabled&&r[e.provider].enabled++,e.available!==!1&&r[e.provider].available++;const o={};for(const[e,d]of Object.entries(r))o[e]=Object.freeze(d);return Object.freeze(o)})}}const u=new w;function A(){const{data:v,loading:a,error:r}=c(()=>u.liveModels(),{initialValue:[],shallow:!0}),{data:o,loading:e,error:d}=c(()=>u.liveModelsByProvider(),{initialValue:{},shallow:!0}),{data:n,loading:i,error:m}=c(()=>u.liveEnabledModels(),{initialValue:[],shallow:!0}),{data:b,loading:p,error:y}=c(()=>u.liveModelStats(),{initialValue:{total:0,enabled:0,disabled:0},shallow:!0}),M=s(()=>a.value||e.value||i.value||p.value),z=s(()=>r.value||d.value||m.value||y.value);function j(f){return v.value.find(g=>g.id===f)}function O(f){return o.value[f]||[]}return{models:s(()=>v.value),modelsByProvider:s(()=>o.value),enabledModels:s(()=>n.value),stats:s(()=>b.value),loading:M,error:z,findModel:j,getProviderModels:O}}export{A as u};
