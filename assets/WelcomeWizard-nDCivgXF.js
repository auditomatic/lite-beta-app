import{I as e,j as a,aa as t,l,_ as s,d as o,C as n,f as i,ab as r,H as d,G as c,ac as u,m as p,z as v,ad as m,e as g,Y as h,x as f,n as y,R as k,T as b,a3 as w}from"./index-C6frMIbt.js";import{k as _,d as C,f as O,aa as x,a0 as P,F as A,ab as I,_ as S,Y as M,Z as z,a3 as T,a2 as U,G as R,u as E,c as F,w as W,X as L,$ as j,h as B,o as V,ae as D,B as N,q as $,ad as Y,W as q}from"./vendor-B8IWC-3k.js";import{M as G}from"./ModelCostDisplay-BBgVSnoX.js";import{D as H,C as K}from"./DollarOutlined-BRPJ2-CY.js";import{B as X}from"./BarChartOutlined-7iMjqQ-4.js";import"./db-CL8uhZCz.js";import"./cost-formatting-Bv_drrqY.js";var Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"};function J(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},l=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),l.forEach(function(a){Z(e,a,t[a])})}return e}function Z(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var ee=function(a,t){var l=J({},a,t.attrs);return _(e,J({},l,{icon:Q}),null)};ee.displayName="CloudDownloadOutlined",ee.inheritAttrs=!1;var ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attrs:{d:"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attrs:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]},name:"comment",theme:"outlined"};function te(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},l=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),l.forEach(function(a){le(e,a,t[a])})}return e}function le(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var se=function(a,t){var l=te({},a,t.attrs);return _(e,te({},l,{icon:ae}),null)};se.displayName="CommentOutlined",se.inheritAttrs=!1;var oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function ne(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},l=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),l.forEach(function(a){ie(e,a,t[a])})}return e}function ie(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var re=function(a,t){var l=ne({},a,t.attrs);return _(e,ne({},l,{icon:oe}),null)};re.displayName="SendOutlined",re.inheritAttrs=!1;const de={class:"wizard-content"},ce={class:"feature-grid-container"},ue={class:"feature-grid"},pe={class:"card-header"},ve={class:"feature-icon"},me={class:"wizard-nav"},ge=s(C({__name:"WizardWelcome",emits:["next","skip"],setup(e,{emit:s}){const o=s,n=a(),i=O(!1);async function r(){i.value=!0;try{l.info("Auto-detecting Ollama...");const e=await n.detectOllama();n.providers.ollama.detected&&(n.providers.ollama.enabled=!0,l.info("Ollama detected and enabled",{models:e.length})),l.info("Fetching model list..."),await n.fetchModelPricing(),await n.completeWizard(),o("skip")}catch(e){l.error("Failed to initialize and skip wizard",{error:e}),o("skip")}finally{i.value=!1}}const d=[{icon:"ðŸŒ",title:"Browser Compatibility",description:"Safari is not well supported. Chrome and Firefox are preferred for best performance and compatibility.",isWarning:!0},{icon:"âš ï¸",title:"Experimental Beta",description:"Features may change at any time. Regularly export all data to files (CSV/Excel/JSON)",isWarning:!0},{icon:"âš ï¸",title:"Cost Warning",description:"Costs are estimates, response length varies, check provider billing.",isWarning:!0},{icon:"ðŸŒ",title:"Environmental Costs",description:"COâ‚‚, water & energy shown alongside costs. Shows ?? when unknown to remind you of hidden impacts.",isWarning:!0},{icon:"âš¡",title:"Performance",description:"Maxes out 1 CPU thread during runs. 1K prompts: 500MB RAM. 10K: 4GB RAM."},{icon:"ðŸ’¾",title:"Local Storage",description:"All data stored locally in your browser - no cloud uploads, complete privacy"},{icon:"ðŸ¤–",title:"Multi-Provider",description:"Test across OpenAI, Anthropic, OpenRouter, Ollama, and more providers"},{icon:"ðŸ“",title:"Design Templates",description:"Create prompt templates with variables to test different scenarios systematically"},{icon:"ðŸ”„",title:"Variable Lists",description:"Define lists of test values that get substituted into your prompts automatically"},{icon:"ðŸ§ª",title:"Run Trials",description:"Test multiple models and configurations with your variable combinations in parallel"},{icon:"ðŸ“Š",title:"Analyze Results",description:"View live progress, compare responses, and export data for further analysis"},{icon:"ðŸ’°",title:"Cost Tracking",description:"Real-time cost estimation and tracking across all providers to monitor your API spending"}];return(e,a)=>{const l=M("a-button");return z(),x("div",de,[a[3]||(a[3]=P("div",{class:"wizard-header"},[P("h1",null,"Welcome to Auditomatic Lite"),P("p",{class:"tagline"},"Browser-Based Testing for Multiple LLM Providers")],-1)),P("div",ce,[P("div",ue,[(z(),x(A,null,I(d,e=>P("div",{key:e.title,class:T(["feature-card",{"warning-feature":e.isWarning}])},[P("div",pe,[P("span",ve,U(e.icon),1),P("h3",null,U(e.title),1)]),P("p",null,U(e.description),1)],2)),64))])]),P("div",me,[_(l,{size:"large",onClick:r,loading:i.value,class:"skip-button"},{default:S(()=>[a[1]||(a[1]=R(" I know what I'm doing (No API keys, auto-detect local Ollama) ")),_(E(t))]),_:1,__:[1]},8,["loading"]),_(l,{size:"large",type:"primary",onClick:a[0]||(a[0]=a=>e.$emit("next")),class:"primary-button"},{default:S(()=>[a[2]||(a[2]=R(" Enter API keys and get started ")),_(E(t))]),_:1,__:[2]})])])}}}),[["__scopeId","data-v-3c56370d"]]),he={class:"test-progress"},fe={key:0,class:"pre-test-container"},ye={class:"test-preview"},ke={class:"preview-row"},be={class:"preview-value"},we={class:"preview-row"},_e={class:"preview-value"},Ce={class:"preview-row"},Oe={class:"preview-cost"},xe={key:1,class:"cost-unknown"},Pe={class:"test-actions"},Ae={key:1,class:"testing-container"},Ie={class:"test-info"},Se={class:"info-row"},Me={class:"info-value"},ze={class:"info-row"},Te={class:"info-value"},Ue={class:"info-row"},Re={class:"info-value"},Ee={class:"cost-display-wrapper"},Fe={key:1,class:"cost-unknown"},We={key:0,class:"test-details"},Le={class:"detail-item"},je={key:0,class:"detail-item"},Be={key:1,class:"detail-item"},Ve={class:"request-section"},De={class:"request-box"},Ne={class:"request-item"},$e={class:"request-item"},Ye={key:2,class:"response-section"},qe={class:"response-box"},Ge={class:"response-meta"},He={key:1,class:"error-details"},Ke={key:0,class:"error-message"},Xe={class:"error-suggestions"},Qe={key:0},Je={key:1},Ze="Say 'Connection successful!' in exactly 3 words.",ea=s(C({__name:"ApiTestModal",props:{modelValue:{type:Boolean},provider:{}},emits:["update:modelValue","test-complete","continue-clicked"],setup(e,{emit:t}){const l=e,s=t,d=a(),c=o(),u=F({get:()=>l.modelValue,set:e=>s("update:modelValue",e)}),p=O(!1),v=O(null),m=O(""),g=O(null),h=O(0),f=10,y=5,k=F(()=>({openai:"OpenAI",anthropic:"Anthropic",openrouter:"OpenRouter"}[l.provider])),b=F(()=>({openai:"api.openai.com",anthropic:"api.anthropic.com",openrouter:"openrouter.ai/api"}[l.provider])),w={openai:"gpt-4.1-nano",anthropic:"claude-3-haiku-20240307",openrouter:"meta-llama/llama-3.1-8b-instruct"};async function C(){p.value=!0,v.value=null;try{const e=Date.now(),a=await d.testProvider(l.provider),t=a.latency||Date.now()-e,o=h.value&&h.value>0?h.value:void 0;v.value={success:!0,message:"API key verified successfully",responseTime:t,model:m.value,cost:o,prompt:Ze,response:a.response},s("test-complete",!0)}catch(e){const a=e instanceof Error?e.message:String(e);let t=a;a.includes("401")||a.includes("Unauthorized")?t="Invalid API key - please check your key and try again":a.includes("403")||a.includes("Forbidden")?t="API key lacks permissions or the account may need billing enabled":a.includes("404")?t="Model not found - the test model may not be available for your account":a.includes("429")?t="Rate limit exceeded - please wait a moment and try again":a.includes("Network")||a.includes("Failed to fetch")?t="Network error - please check your internet connection":a.includes("insufficient_quota")&&(t="Insufficient API credits - please add credits to your account"),v.value={success:!1,message:"Connection test failed",error:t},s("test-complete",!1)}finally{p.value=!1}}function A(){v.value?.success&&s("continue-clicked"),u.value=!1}return W(u,e=>{if(e){v.value=null,p.value=!1;const{model:e,cost:a,record:t}=function(e){const a=c.getModelsForProvider(e).filter(a=>("openrouter"!==e||0!==a.capabilities?.inputCostPerToken)&&a.enabled&&void 0!==a.capabilities?.inputCostPerToken);if(0===a.length)return{model:w[e],cost:null,record:null};let t=a[0],l=Number.MAX_VALUE;for(const s of a){const e=(s.capabilities?.inputCostPerToken||0)*f+(s.capabilities?.outputCostPerToken||0)*y;e<l&&(l=e,t=s)}return{model:t.modelId,cost:l,record:t}}(l.provider);m.value=e,g.value=t,h.value=a}}),(e,a)=>{const t=M("a-alert"),l=M("a-button"),s=M("a-spin"),o=M("a-result"),d=M("a-modal");return z(),L(d,{open:u.value,"onUpdate:open":a[0]||(a[0]=e=>u.value=e),title:`Test ${k.value} API Connection`,footer:null,width:"600px","mask-closable":!1},{default:S(()=>[P("div",he,[p.value||v.value?p.value?(z(),x("div",Ae,[_(s,{size:"large",tip:"Sending test request..."},{default:S(()=>[P("div",Ie,[P("div",Se,[a[8]||(a[8]=P("span",{class:"info-label"},"Provider:",-1)),P("span",Me,U(k.value),1)]),P("div",ze,[a[9]||(a[9]=P("span",{class:"info-label"},"Model:",-1)),P("span",Te,U(m.value),1)]),P("div",Ue,[a[10]||(a[10]=P("span",{class:"info-label"},"Endpoint:",-1)),P("span",Re,U(b.value),1)]),P("div",{class:"info-row"},[a[11]||(a[11]=P("span",{class:"info-label"},"Test prompt:",-1)),P("span",{class:"info-value"},'"'+U(Ze)+'"')]),P("div",Ee,[a[12]||(a[12]=P("span",{class:"cost-label"},"Estimated cost:",-1)),g.value?(z(),L(G,{key:0,model:g.value,mode:"total","input-tokens":f,"output-tokens":y,layout:"inline",size:"small"},null,8,["model","input-tokens","output-tokens"])):(z(),x("span",Fe,"Cost data unavailable"))])])]),_:1})])):v.value?(z(),L(o,{key:2,status:v.value.success?"success":"error",title:v.value.success?"Connection Successful!":"Connection Failed","sub-title":v.value.message},{extra:S(()=>[v.value.success?(z(),x("div",We,[P("div",Le,[_(E(n),{class:"detail-icon"}),P("span",null,"Response time: "+U(v.value.responseTime)+"ms",1)]),v.value.model?(z(),x("div",je,[_(E(i),{class:"detail-icon"}),P("span",null,"Model used: "+U(v.value.model),1)])):j("",!0),v.value.cost?(z(),x("div",Be,[_(E(H),{class:"detail-icon"}),P("span",null,"Actual cost: $"+U(v.value.cost.toFixed(6)),1)])):j("",!0),P("div",Ve,[a[17]||(a[17]=P("h4",null,"What we sent:",-1)),P("div",De,[P("div",Ne,[a[13]||(a[13]=P("strong",null,"Prompt:",-1)),R(" "+U(v.value.prompt),1)]),P("div",$e,[a[14]||(a[14]=P("strong",null,"Model:",-1)),R(" "+U(v.value.model),1)]),a[15]||(a[15]=P("div",{class:"request-item"},[P("strong",null,"Temperature:"),R(" 0.5 ")],-1)),a[16]||(a[16]=P("div",{class:"request-item"},[P("strong",null,"Max tokens:"),R(" 10 ")],-1))])]),v.value.response?(z(),x("div",Ye,[a[18]||(a[18]=P("h4",null,"Actual AI Response:",-1)),P("div",qe,[P("pre",null,U(v.value.response),1)]),P("div",Ge,[P("small",null,"Response length: "+U(v.value.response.length)+" characters",1)])])):j("",!0)])):(z(),x("div",He,[v.value.error?(z(),x("div",Ke,[_(E(r),{class:"error-icon"}),P("span",null,U(v.value.error),1)])):j("",!0),P("div",Xe,[a[22]||(a[22]=P("p",null,[P("strong",null,"Please check:")],-1)),P("ul",null,[a[19]||(a[19]=P("li",null,"Your API key is valid and active",-1)),a[20]||(a[20]=P("li",null,"You have billing enabled on your account",-1)),a[21]||(a[21]=P("li",null,"The API key has the correct permissions",-1)),"anthropic"===e.provider?(z(),x("li",Qe,"For Anthropic, ensure you have credits available")):j("",!0),"openai"===e.provider?(z(),x("li",Je,"For OpenAI, ensure your organization is set up")):j("",!0)])])])),_(l,{type:"primary",onClick:A,class:"close-button"},{default:S(()=>[R(U(v.value.success?"Continue":"Close"),1)]),_:1})]),_:1},8,["status","title","sub-title"])):j("",!0):(z(),x("div",fe,[a[7]||(a[7]=P("h3",null,"Review Test Details",-1)),P("div",ye,[P("div",ke,[a[1]||(a[1]=P("span",{class:"preview-label"},"Provider:",-1)),P("span",be,U(k.value),1)]),P("div",we,[a[2]||(a[2]=P("span",{class:"preview-label"},"Model:",-1)),P("span",_e,U(m.value),1)]),P("div",{class:"preview-row"},[a[3]||(a[3]=P("span",{class:"preview-label"},"Test Prompt:",-1)),P("div",{class:"preview-prompt"},U(Ze))]),P("div",Ce,[a[4]||(a[4]=P("span",{class:"preview-label"},"Estimated Cost:",-1)),P("div",Oe,[g.value?(z(),L(G,{key:0,model:g.value,mode:"total","input-tokens":f,"output-tokens":y,layout:"inline",size:"small"},null,8,["model","input-tokens","output-tokens"])):(z(),x("span",xe,"Cost data unavailable"))])])]),_(t,{type:"info","show-icon":"",message:"This will make a real API call to verify your key works",style:{margin:"16px 0"}}),P("div",Pe,[_(l,{onClick:A},{default:S(()=>a[5]||(a[5]=[R("Cancel")])),_:1,__:[5]}),_(l,{type:"primary",onClick:C},{default:S(()=>[_(E(re)),a[6]||(a[6]=R(" Send Test Request "))]),_:1,__:[6]})])]))])]),_:1},8,["open","title"])}}}),[["__scopeId","data-v-79da504e"]]),aa={key:0,class:"step-content"},ta={key:0,class:"loading-container"},la={key:1,class:"error-container"},sa={key:2},oa={class:"filter-options top-filters"},na={class:"filter-checkboxes"},ia={class:"filter-label"},ra={class:"filter-label"},da={class:"step-description"},ca={class:"setup-option"},ua={class:"option-content"},pa={class:"option-header"},va={class:"option-description"},ma={class:"model-preview"},ga={key:0,class:"more-indicator"},ha={class:"setup-option"},fa={class:"option-content"},ya={class:"category-preview"},ka={class:"setup-option"},ba={class:"option-content"},wa={class:"option-header"},_a={class:"warning-message"},Ca={class:"step-actions"},Oa={key:1,class:"step-content"},xa={class:"category-section"},Pa={class:"provider-label"},Aa={class:"category-section"},Ia={class:"usecase-label"},Sa={class:"usecase-label"},Ma={class:"usecase-label"},za={class:"usecase-label"},Ta={class:"selection-summary"},Ua={class:"step-actions"},Ra={key:2,class:"step-content"},Ea={class:"review-summary"},Fa={class:"summary-item"},Wa={key:0,class:"summary-item"},La={key:1,class:"summary-item"},ja={class:"summary-item"},Ba={class:"model-list-preview"},Va={class:"model-tags"},Da={key:0,class:"more-models"},Na={class:"step-actions"},$a=s(C({__name:"OpenRouterModelWizard",props:{modelValue:{type:Boolean}},emits:["update:modelValue","complete"],setup(e,{emit:a}){const t=e,s=a,i=F({get:()=>t.modelValue,set:e=>s("update:modelValue",e)}),v=o(),m=O(0),g=O(""),h=O([]),f=O([]),y=O(!1),k=O(!1),b=O(!0),w=O(!0),C=O([]),T=O(null),W=F(()=>{let e=C.value;if(b.value){const a=e.length;e.length>0&&l.info("Sample models before filtering:",e.slice(0,3).map(e=>({modelId:e.modelId,inputCost:e.capabilities?.inputCostPerToken,outputCost:e.capabilities?.outputCostPerToken,capabilities:e.capabilities}))),e=e.filter(e=>(e.capabilities?.inputCostPerToken||0)>0),l.info("Free models filter applied:",{beforeFilter:a,afterFilter:e.length,removedCount:a-e.length})}if(w.value){const a=new Map;for(const t of e){let e=t.modelId;e.endsWith("-latest")||(e=e.replace(/-\d{4}(?:-\d{2})?(?:-\d{2})?$/,""),e=e.replace(/-(turbo|vision|instruct|chat)-\d{4}(?:-\d{2})?(?:-\d{2})?$/,"-$1"),e=e.replace(/-\d{8}$/,""),e=e.replace(/-\d{4}-\d{2}-\d{2}$/,""),a.has(e)||a.set(e,[]),a.get(e).push(t))}e=[];for(const[,t]of a){if(0===t.length)continue;const a=t.sort((e,a)=>{const t=e.modelId.match(/\d{4}(?:-\d{2})?(?:-\d{2})?$/)?.[0]||"";return(a.modelId.match(/\d{4}(?:-\d{2})?(?:-\d{2})?$/)?.[0]||"").localeCompare(t)});e.push(a[0])}}return e}),D=F(()=>{const e=new Map;for(const a of W.value){const t=a.modelId.split("/")[0];if(!t)continue;const l=e.get(t);if(l)l.count++;else{const a={openai:"OpenAI",anthropic:"Anthropic","meta-llama":"Meta (Llama)",google:"Google",mistralai:"Mistral AI",cohere:"Cohere",microsoft:"Microsoft",nvidia:"NVIDIA",perplexity:"Perplexity","x-ai":"X.AI",nousresearch:"Nous Research",pygmalionai:"Pygmalion",cognitivecomputations:"Cognitive Computations"};e.set(t,{label:a[t]||t,count:1})}}return Array.from(e.entries()).map(([e,a])=>({value:e,...a})).sort((e,a)=>a.count-e.count)}),N=F(()=>["openai/gpt-4-turbo-preview","openai/gpt-3.5-turbo","anthropic/claude-3-opus-20240229","anthropic/claude-3-sonnet-20240229","anthropic/claude-3-haiku-20240307","meta-llama/llama-3.1-70b-instruct","meta-llama/llama-3.1-8b-instruct","mistralai/mixtral-8x7b-instruct","google/gemini-pro","google/gemini-pro-vision"].filter(e=>C.value.some(a=>a.modelId===e))),$=F(()=>N.value.slice(0,4).map(e=>e.split("/")[1]||e));function Y(){0===m.value&&"recommended"===g.value||0===m.value&&"all"===g.value?m.value=2:m.value++}function q(){2===m.value&&"categories"!==g.value?m.value=0:m.value--}function G(){i.value=!1}async function H(){y.value=!0;try{const e=J();let a=0;for(const t of e){const e=C.value.find(e=>e.modelId===t);e&&(await v.updateModel(e.id,{enabled:!0}),a++)}p.success(`Successfully enabled ${a} OpenRouter models`),s("complete",e),i.value=!1}catch(e){p.error("Failed to enable models: "+(e instanceof Error?e.message:"Unknown error"))}finally{y.value=!1}}function Q(){switch(g.value){case"recommended":return"Recommended Models";case"categories":return"Custom Selection";case"all":return"All Models";default:return""}}function J(){let e=W.value;if("recommended"===g.value){const a=new Set(e.map(e=>e.modelId));return N.value.filter(e=>a.has(e))}if("all"===g.value)return e.map(e=>e.modelId);if("categories"===g.value){if(h.value.length>0&&(e=e.filter(e=>{const a=e.modelId.split("/")[0];return h.value.includes(a)})),f.value.length>0&&f.value.length<4){const a={chat:e=>!e.includes("instruct")&&!e.includes("code"),coding:e=>e.includes("code")||e.includes("instruct"),analysis:e=>e.includes("gpt-4")||e.includes("claude")||e.includes("gemini"),creative:e=>e.includes("gpt")||e.includes("claude")||e.includes("mixtral")};e=e.filter(e=>f.value.some(t=>a[t]?.(e.modelId)??!0))}return e.map(e=>e.modelId)}return[]}return B(()=>{!v.isLoading&&i.value&&async function(){if(k.value)return;k.value=!0,T.value=null;try{const e=v.models;if(l.info("All models in store:",{totalCount:e.length,providers:[...new Set(e.map(e=>e.provider))],providerCounts:Object.entries(v.modelsByProvider).map(([e,a])=>({provider:e,count:a.length}))}),C.value=v.getModelsForProvider("openrouter"),l.info("Loading OpenRouter models:",{count:C.value.length,totalModelsInStore:v.models.length,isStoreLoading:v.isLoading,models:C.value.slice(0,5).map(e=>({id:e.id,provider:e.provider,modelId:e.modelId,inputCost:e.capabilities?.inputCostPerToken,outputCost:e.capabilities?.outputCostPerToken}))}),0===C.value.length&&!v.isLoading){const e=v.models;l.warn("No OpenRouter models found:",{totalModels:e.length,providers:[...new Set(e.map(e=>e.provider))],openrouterCount:e.filter(e=>"openrouter"===e.provider).length}),0===e.length?T.value="No models found in database. Model discovery may have failed.":e.some(e=>"openrouter"===e.provider)?T.value="No OpenRouter models found. This should not happen - please report this issue.":T.value="Discovering OpenRouter models... This may take a moment."}}catch(e){l.error("Error loading models:",e),T.value=e instanceof Error?e.message:"Failed to load models"}finally{k.value=!1}}()}),V(async()=>{l.info("OpenRouterModelWizard mounted, checking store state:",{isLoading:v.isLoading,totalModels:v.models.length,hasOpenRouter:v.models.some(e=>"openrouter"===e.provider)}),await v.initialize()}),(e,a)=>{const t=M("a-step"),l=M("a-steps"),s=M("a-spin"),o=M("a-alert"),p=M("a-tooltip"),v=M("a-checkbox"),C=M("a-tag"),O=M("a-radio"),F=M("a-radio-group"),B=M("a-button"),V=M("a-checkbox-group"),Z=M("a-divider"),ee=M("a-modal");return z(),L(ee,{open:i.value,"onUpdate:open":a[5]||(a[5]=e=>i.value=e),title:"Select OpenRouter Models",width:"900px",footer:null,"mask-closable":!1},{default:S(()=>[_(l,{current:m.value,class:"wizard-steps"},{default:S(()=>[_(t,{title:"Quick Setup"}),_(t,{title:"Categories"}),_(t,{title:"Review"})]),_:1},8,["current"]),0===m.value?(z(),x("div",aa,[k.value?(z(),x("div",ta,[_(s,{size:"large",tip:"Loading OpenRouter models..."},{default:S(()=>a[6]||(a[6]=[P("div",{style:{padding:"50px"}},null,-1)])),_:1,__:[6]})])):T.value?(z(),x("div",la,[_(o,{type:"error",message:T.value,"show-icon":""},null,8,["message"])])):(z(),x("div",sa,[a[24]||(a[24]=P("h3",null,"Configure Model Filtering",-1)),P("div",oa,[P("div",na,[_(v,{checked:b.value,"onUpdate:checked":a[0]||(a[0]=e=>b.value=e)},{default:S(()=>[P("span",ia,[a[7]||(a[7]=R(' Hide "free" models that sell your data ')),_(p,{title:"Free models on OpenRouter often collect and use your data for training"},{default:S(()=>[_(E(d),{class:"filter-info"})]),_:1})])]),_:1},8,["checked"]),_(v,{checked:w.value,"onUpdate:checked":a[1]||(a[1]=e=>w.value=e)},{default:S(()=>[P("span",ra,[a[8]||(a[8]=R(" Simplify model names (hide date suffixes) ")),_(p,{title:"Shows only one version when multiple date-suffixed versions exist (e.g., gpt-4 instead of gpt-4-0125, gpt-4-0613)"},{default:S(()=>[_(E(d),{class:"filter-info"})]),_:1})])]),_:1},8,["checked"])])]),a[25]||(a[25]=P("h3",null,"Choose Your Setup",-1)),P("p",da," OpenRouter provides access to "+U(W.value.length)+" models"+U(b.value||w.value?" (filtered)":"")+". How would you like to select them? ",1),_(F,{value:g.value,"onUpdate:value":a[2]||(a[2]=e=>g.value=e),class:"setup-options"},{default:S(()=>[P("div",ca,[_(O,{value:"recommended"},{default:S(()=>[P("div",ua,[P("div",pa,[a[10]||(a[10]=P("strong",null,"Recommended Models",-1)),_(C,{color:"blue"},{default:S(()=>a[9]||(a[9]=[R("Best Choice")])),_:1,__:[9]})]),P("p",va,U(N.value.length)+" popular models across major providers",1),P("div",ma,[(z(!0),x(A,null,I($.value,e=>(z(),L(C,{key:e},{default:S(()=>[R(U(e),1)]),_:2},1024))),128)),N.value.length>4?(z(),x("span",ga,"+"+U(N.value.length-4)+" more",1)):j("",!0)])])]),_:1})]),P("div",ha,[_(O,{value:"categories"},{default:S(()=>[P("div",fa,[a[16]||(a[16]=P("div",{class:"option-header"},[P("strong",null,"Choose by Category")],-1)),a[17]||(a[17]=P("p",{class:"option-description"},"Select models by provider or use case",-1)),P("div",ya,[_(E(n)),a[11]||(a[11]=R(" Select specific providers")),a[12]||(a[12]=P("br",null,null,-1)),_(E(n)),a[13]||(a[13]=R(" Filter by use case")),a[14]||(a[14]=P("br",null,null,-1)),_(E(n)),a[15]||(a[15]=R(" Fine-tune your selection "))])])]),_:1})]),P("div",ka,[_(O,{value:"all"},{default:S(()=>[P("div",ba,[P("div",wa,[a[19]||(a[19]=P("strong",null,"Enable All Models",-1)),_(C,{color:"orange"},{default:S(()=>a[18]||(a[18]=[R("Not Recommended")])),_:1,__:[18]})]),a[21]||(a[21]=P("p",{class:"option-description"},"200+ models - may be overwhelming",-1)),P("div",_a,[_(E(r)),a[20]||(a[20]=R(" This will enable every available model "))])])]),_:1})])]),_:1},8,["value"]),P("div",Ca,[_(B,{onClick:G},{default:S(()=>a[22]||(a[22]=[R("Cancel")])),_:1,__:[22]}),_(B,{type:"primary",onClick:Y,disabled:!g.value},{default:S(()=>a[23]||(a[23]=[R(" Continue â†’ ")])),_:1,__:[23]},8,["disabled"])])]))])):j("",!0),1===m.value&&"categories"===g.value?(z(),x("div",Oa,[a[36]||(a[36]=P("h3",null,"Select Providers & Use Cases",-1)),P("div",xa,[a[26]||(a[26]=P("h4",null,"Providers",-1)),a[27]||(a[27]=P("p",{class:"section-hint"},"Select which AI providers you want models from",-1)),_(V,{value:h.value,"onUpdate:value":a[3]||(a[3]=e=>h.value=e),class:"provider-grid"},{default:S(()=>[(z(!0),x(A,null,I(D.value,e=>(z(),L(v,{key:e.value,value:e.value},{default:S(()=>[P("span",Pa,[R(U(e.label)+" ",1),_(C,{size:"small"},{default:S(()=>[R(U(e.count)+" models",1)]),_:2},1024)])]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_(Z),P("div",Aa,[a[32]||(a[32]=P("h4",null,"Use Cases",-1)),a[33]||(a[33]=P("p",{class:"section-hint"},"Select what you'll use the models for",-1)),_(V,{value:f.value,"onUpdate:value":a[4]||(a[4]=e=>f.value=e),class:"usecase-grid"},{default:S(()=>[_(v,{value:"chat"},{default:S(()=>[P("span",Ia,[_(E(se)),a[28]||(a[28]=R(" Conversational AI "))])]),_:1}),_(v,{value:"coding"},{default:S(()=>[P("span",Sa,[_(E(K)),a[29]||(a[29]=R(" Code Generation "))])]),_:1}),_(v,{value:"analysis"},{default:S(()=>[P("span",Ma,[_(E(X)),a[30]||(a[30]=R(" Data Analysis "))])]),_:1}),_(v,{value:"creative"},{default:S(()=>[P("span",za,[_(E(c)),a[31]||(a[31]=R(" Creative Writing "))])]),_:1})]),_:1},8,["value"])]),P("div",Ta,[_(E(d)),P("span",null,U(`Selecting ${h.value.length||"all"} providers and ${f.value.length||"all"} use cases`),1)]),P("div",Ua,[_(B,{onClick:q},{default:S(()=>a[34]||(a[34]=[R("â† Back")])),_:1,__:[34]}),_(B,{type:"primary",onClick:Y,disabled:0===h.value.length&&0===f.value.length},{default:S(()=>a[35]||(a[35]=[R(" Continue â†’ ")])),_:1,__:[35]},8,["disabled"])])])):j("",!0),2===m.value?(z(),x("div",Ra,[a[44]||(a[44]=P("h3",null,"Review Your Selection",-1)),P("div",Ea,[P("div",Fa,[a[37]||(a[37]=P("strong",null,"Setup Type:",-1)),P("span",null,U(Q()),1)]),"categories"===g.value?(z(),x("div",Wa,[a[38]||(a[38]=P("strong",null,"Selected Providers:",-1)),P("span",null,U(h.value.length||"All"),1)])):j("",!0),"categories"===g.value?(z(),x("div",La,[a[39]||(a[39]=P("strong",null,"Use Cases:",-1)),P("span",null,U(f.value.length||"All"),1)])):j("",!0),P("div",ja,[a[40]||(a[40]=P("strong",null,"Models to Enable:",-1)),P("span",null,U(J().length)+" models",1)])]),P("div",Ba,[a[41]||(a[41]=P("h4",null,"Models that will be enabled:",-1)),P("div",Va,[(z(!0),x(A,null,I(J().slice(0,20),e=>(z(),L(C,{key:e},{default:S(()=>[R(U(e),1)]),_:2},1024))),128)),J().length>20?(z(),x("span",Da," +"+U(J().length-20)+" more ",1)):j("",!0)])]),_(o,{type:"info","show-icon":"",message:"You can always add or remove models later from the Models page",class:"info-alert"}),P("div",Na,[_(B,{onClick:q},{default:S(()=>a[42]||(a[42]=[R("â† Back")])),_:1,__:[42]}),_(B,{type:"primary",onClick:H,loading:y.value},{default:S(()=>[_(E(u)),a[43]||(a[43]=R(" Enable Models "))]),_:1,__:[43]},8,["loading"])])])):j("",!0)]),_:1},8,["open"])}}}),[["__scopeId","data-v-e33a9724"]]),Ya={class:"wizard-content"},qa={class:"providers-container"},Ga={class:"providers-section"},Ha={class:"providers-grid"},Ka={class:"provider-links"},Xa={class:"provider-config"},Qa={class:"provider-links"},Ja={class:"provider-config"},Za={class:"provider-links"},et={class:"provider-config"},at={class:"providers-section"},tt={class:"providers-grid local-grid"},lt={class:"provider-config ollama-config"},st={key:0,class:"ollama-info"},ot={key:1,class:"ollama-info"},nt={key:0,class:"ollama-not-found"},it={key:1},rt={class:"ollama-actions"},dt={key:2,class:"ollama-info connected"},ct={class:"model-preview"},ut={key:0,class:"more-models"},pt={class:"wizard-nav"},vt={class:"nav-right"},mt={key:0,class:"test-warning"},gt=s(C({__name:"WizardProviders",emits:["next","back"],setup(e,{emit:t}){const s=t,i=a(),d=O([]),c=O(!1),u=O(!1),g=O({openai:!1,anthropic:!1,openrouter:!1,ollama:!1}),h=O({openai:!1,anthropic:!1,openrouter:!1}),f=O(!1),y=O("openai"),k=O(!1),b=O({openai:!1,anthropic:!1,openrouter:!1}),w=F(()=>i.providers.ollama.detected?{detected:!0,text:"Connected"}:{detected:!1,text:"Not detected"}),C=F(()=>{if(i.providers.openai.enabled){if(!i.providers.openai.key)return!1;if(!h.value.openai)return!1}if(i.providers.anthropic.enabled){if(!i.providers.anthropic.key)return!1;if(!h.value.anthropic)return!1}if(i.providers.openrouter.enabled){if(!i.providers.openrouter.key)return!1;if(!h.value.openrouter)return!1}return!(i.providers.ollama.enabled&&!i.providers.ollama.detected)&&i.hasAnyProvider}),W=F(()=>{const e=[];return i.providers.openai.enabled&&i.providers.openai.key&&!h.value.openai&&e.push("OpenAI"),i.providers.anthropic.enabled&&i.providers.anthropic.key&&!h.value.anthropic&&e.push("Anthropic"),i.providers.openrouter.enabled&&i.providers.openrouter.key&&!h.value.openrouter&&e.push("OpenRouter"),e.length>0});function B(e){"openai"===e?i.providers.openai.enabled=!i.providers.openai.enabled:"anthropic"===e?i.providers.anthropic.enabled=!i.providers.anthropic.enabled:"openrouter"===e?i.providers.openrouter.enabled=!i.providers.openrouter.enabled:"ollama"===e&&(i.providers.ollama.enabled=!i.providers.ollama.enabled,i.providers.ollama.enabled&&!w.value.detected&&K())}function $(e){y.value=e,f.value=!0}const Y=O(null);async function q(e){if(e){if(h.value[y.value]=!0,p.success(("openai"===y.value?"OpenAI":"anthropic"===y.value?"Anthropic":"OpenRouter")+" API key verified and working!"),"openrouter"===y.value){p.info("Discovering available models...");try{const e=o(),a=await e.discoverModels(!0);l.info("Model discovery result:",a);const t=a.sources.find(e=>"openrouter"===e.id);"error"===t?.status?p.warning(`OpenRouter discovery had issues: ${t.error||"Unknown error"}`):"success"===t?.status&&p.success(`Found ${t.modelCount||0} OpenRouter models`);let s=0;const n=30;for(;s<n;){const a=e.getModelsForProvider("openrouter");if(a.length>0){l.info("OpenRouter models now in store",{count:a.length});break}await new Promise(e=>setTimeout(e,100)),s++}Y.value={success:!0,modelsFound:e.getModelsForProvider("openrouter").length}}catch(a){console.error("Model discovery error:",a),p.error("Failed to discover models, but you can continue"),Y.value={success:!1,error:a}}}}else h.value[y.value]=!1}async function G(){"openrouter"===y.value&&Y.value&&(k.value=!0,Y.value=null)}function H(e){p.success(`Successfully configured ${e.length} OpenRouter models!`)}async function K(){g.value.ollama=!0,c.value=!0;const e=await i.detectOllama();d.value=e.map(e=>e.name||e),g.value.ollama=!1,i.providers.ollama.detected?p.success("Ollama connected!"):p.warning("Ollama not found. Make sure Ollama is installed and running.")}function X(){if(!C.value){const e=[];if(i.providers.openai.enabled&&i.providers.openai.key&&!h.value.openai&&e.push("OpenAI"),i.providers.anthropic.enabled&&i.providers.anthropic.key&&!h.value.anthropic&&e.push("Anthropic"),i.providers.openrouter.enabled&&i.providers.openrouter.key&&!h.value.openrouter&&e.push("OpenRouter"),e.length>0)return void p.error(`Please test your API key for: ${e.join(", ")}`);if(i.providers.ollama.enabled&&!i.providers.ollama.detected)return void p.error("Cannot continue: Ollama is selected but not detected. Please install and start Ollama, or deselect it.");const a=[];return i.providers.openai.enabled&&!i.providers.openai.key&&a.push("OpenAI"),i.providers.anthropic.enabled&&!i.providers.anthropic.key&&a.push("Anthropic"),i.providers.openrouter.enabled&&!i.providers.openrouter.key&&a.push("OpenRouter"),a.length>0?void p.error(`Cannot continue: Missing API keys for ${a.join(", ")}`):void p.warning("Please configure at least one provider")}s("next")}return V(()=>{}),(e,a)=>{const t=M("a-checkbox"),l=M("a-button"),s=M("a-input"),o=M("a-card"),p=M("a-alert");return z(),x("div",Ya,[_(ea,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),provider:y.value,onTestComplete:q,onContinueClicked:G},null,8,["modelValue","provider"]),_($a,{modelValue:k.value,"onUpdate:modelValue":a[1]||(a[1]=e=>k.value=e),onComplete:H},null,8,["modelValue"]),a[55]||(a[55]=D('<div class="wizard-header" data-v-97d041ad><h2 data-v-97d041ad>Connect to AI Providers <span class="header-subtitle" data-v-97d041ad>Select the AI services you want to use. You can add more later in Settings.</span></h2></div><div class="wizard-progress" data-v-97d041ad><div class="progress-step completed" data-v-97d041ad>1. Welcome</div><div class="progress-step active" data-v-97d041ad>2. Providers</div><div class="progress-step" data-v-97d041ad>3. Models</div><div class="progress-step" data-v-97d041ad>4. Start</div></div>',2)),P("div",qa,[P("div",Ga,[a[42]||(a[42]=P("h3",{class:"section-title"},"â˜ï¸ Cloud Providers",-1)),P("div",Ha,[_(o,{class:T(["provider-card",{selected:E(i).providers.openai.enabled,"has-error":u.value&&E(i).providers.openai.enabled&&!E(i).providers.openai.key}])},{default:S(()=>[P("div",{class:"provider-header",onClick:a[6]||(a[6]=e=>B("openai"))},[_(t,{checked:E(i).providers.openai.enabled,"onUpdate:checked":a[2]||(a[2]=e=>E(i).providers.openai.enabled=e),onClick:a[3]||(a[3]=N(()=>{},["stop"]))},null,8,["checked"]),a[36]||(a[36]=P("div",{class:"provider-info"},[P("h4",null,"OpenAI"),P("span",{class:"provider-models"},"GPT-3.5/4* and O* (reasoning) models via Chat Completions and Responses API")],-1)),P("div",Ka,[P("a",{href:"https://auth.openai.com/create-account",target:"_blank",onClick:a[4]||(a[4]=N(()=>{},["stop"])),class:"api-link"}," Signup "),P("a",{href:"https://platform.openai.com/api-keys",target:"_blank",onClick:a[5]||(a[5]=N(()=>{},["stop"])),class:"api-link"}," API Keys ")])]),P("div",Xa,[_(s,{value:E(i).providers.openai.key,"onUpdate:value":a[8]||(a[8]=e=>E(i).providers.openai.key=e),placeholder:E(i).providers.openai.key?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"sk-...",type:b.value.openai?"text":"password",size:"large",autocomplete:"off",onBlur:()=>{},onFocus:a[9]||(a[9]=()=>E(i).providers.openai.enabled=!0),onInput:a[10]||(a[10]=()=>{E(i).providers.openai.enabled||(E(i).providers.openai.enabled=!0)})},{suffix:S(()=>[_(l,{type:"text",size:"small",onClick:a[7]||(a[7]=e=>b.value.openai=!b.value.openai)},{icon:S(()=>[b.value.openai?(z(),L(E(m),{key:1})):(z(),L(E(v),{key:0}))]),_:1})]),_:1},8,["value","placeholder","type"]),_(l,{onClick:a[11]||(a[11]=N(e=>$("openai"),["stop"])),disabled:!E(i).providers.openai.enabled||!E(i).providers.openai.key,type:(h.value.openai,"default"),class:T({"tested-success":h.value.openai,"pulse-attention":E(i).providers.openai.enabled&&E(i).providers.openai.key&&!h.value.openai})},{default:S(()=>[h.value.openai?(z(),x(A,{key:0},[_(E(n)),a[37]||(a[37]=R(" Working "))],64)):(z(),x(A,{key:1},[R("Test")],64))]),_:1},8,["disabled","type","class"])])]),_:1},8,["class"]),_(o,{class:T(["provider-card",{selected:E(i).providers.anthropic.enabled,"has-error":u.value&&E(i).providers.anthropic.enabled&&!E(i).providers.anthropic.key}])},{default:S(()=>[P("div",{class:"provider-header",onClick:a[16]||(a[16]=e=>B("anthropic"))},[_(t,{checked:E(i).providers.anthropic.enabled,"onUpdate:checked":a[12]||(a[12]=e=>E(i).providers.anthropic.enabled=e),onClick:a[13]||(a[13]=N(()=>{},["stop"]))},null,8,["checked"]),a[38]||(a[38]=P("div",{class:"provider-info"},[P("h4",null,"Anthropic"),P("span",{class:"provider-models"},[R("Claude Haiku, Sonnet, Opus 3* and 4, only via Messages API"),P("br"),R("Â ")])],-1)),P("div",Qa,[P("a",{href:"https://console.anthropic.com/login",target:"_blank",onClick:a[14]||(a[14]=N(()=>{},["stop"])),class:"api-link"}," Signup "),P("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",onClick:a[15]||(a[15]=N(()=>{},["stop"])),class:"api-link"}," API Keys ")])]),P("div",Ja,[_(s,{value:E(i).providers.anthropic.key,"onUpdate:value":a[18]||(a[18]=e=>E(i).providers.anthropic.key=e),placeholder:E(i).providers.anthropic.key?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"sk-ant-...",type:b.value.anthropic?"text":"password",size:"large",autocomplete:"off",onBlur:()=>{},onFocus:a[19]||(a[19]=()=>E(i).providers.anthropic.enabled=!0),onInput:a[20]||(a[20]=()=>{E(i).providers.anthropic.enabled||(E(i).providers.anthropic.enabled=!0)})},{suffix:S(()=>[_(l,{type:"text",size:"small",onClick:a[17]||(a[17]=e=>b.value.anthropic=!b.value.anthropic)},{default:S(()=>[b.value.anthropic?(z(),L(E(m),{key:1})):(z(),L(E(v),{key:0}))]),_:1})]),_:1},8,["value","placeholder","type"]),_(l,{onClick:a[21]||(a[21]=N(e=>$("anthropic"),["stop"])),disabled:!E(i).providers.anthropic.enabled||!E(i).providers.anthropic.key,type:(h.value.anthropic,"default"),class:T({"tested-success":h.value.anthropic,"pulse-attention":E(i).providers.anthropic.enabled&&E(i).providers.anthropic.key&&!h.value.anthropic})},{default:S(()=>[h.value.anthropic?(z(),x(A,{key:0},[_(E(n)),a[39]||(a[39]=R(" Working "))],64)):(z(),x(A,{key:1},[R("Test")],64))]),_:1},8,["disabled","type","class"])])]),_:1},8,["class"]),_(o,{class:T(["provider-card",{selected:E(i).providers.openrouter.enabled}])},{default:S(()=>[P("div",{class:"provider-header",onClick:a[26]||(a[26]=e=>B("openrouter"))},[_(t,{checked:E(i).providers.openrouter.enabled,"onUpdate:checked":a[22]||(a[22]=e=>E(i).providers.openrouter.enabled=e),onClick:a[23]||(a[23]=N(()=>{},["stop"]))},null,8,["checked"]),a[40]||(a[40]=P("div",{class:"provider-info"},[P("h4",null,"OpenRouter"),P("span",{class:"provider-models"},"200+ models (OpenAI, Anthropic, Google, Meta, more) with one API key and bill")],-1)),P("div",Za,[P("a",{href:"https://openrouter.ai/sign-up",target:"_blank",onClick:a[24]||(a[24]=N(()=>{},["stop"])),class:"api-link"}," Signup "),P("a",{href:"https://openrouter.ai/keys",target:"_blank",onClick:a[25]||(a[25]=N(()=>{},["stop"])),class:"api-link"}," API Keys ")])]),P("div",et,[_(s,{value:E(i).providers.openrouter.key,"onUpdate:value":a[28]||(a[28]=e=>E(i).providers.openrouter.key=e),placeholder:E(i).providers.openrouter.key?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"sk-or-...",type:b.value.openrouter?"text":"password",size:"large",autocomplete:"off",onBlur:()=>{},onFocus:a[29]||(a[29]=()=>E(i).providers.openrouter.enabled=!0),onInput:a[30]||(a[30]=()=>{E(i).providers.openrouter.enabled||(E(i).providers.openrouter.enabled=!0)})},{suffix:S(()=>[_(l,{type:"text",size:"small",onClick:a[27]||(a[27]=e=>b.value.openrouter=!b.value.openrouter)},{default:S(()=>[b.value.openrouter?(z(),L(E(m),{key:1})):(z(),L(E(v),{key:0}))]),_:1})]),_:1},8,["value","placeholder","type"]),_(l,{onClick:a[31]||(a[31]=N(e=>$("openrouter"),["stop"])),disabled:!E(i).providers.openrouter.enabled||!E(i).providers.openrouter.key,type:(h.value.openrouter,"default"),class:T({"tested-success":h.value.openrouter,"pulse-attention":E(i).providers.openrouter.enabled&&E(i).providers.openrouter.key&&!h.value.openrouter})},{default:S(()=>[h.value.openrouter?(z(),x(A,{key:0},[_(E(n)),a[41]||(a[41]=R(" Working "))],64)):(z(),x(A,{key:1},[R("Test")],64))]),_:1},8,["disabled","type","class"])])]),_:1},8,["class"])])]),P("div",at,[a[51]||(a[51]=P("h3",{class:"section-title"},"ðŸ’» Local Options",-1)),P("div",tt,[_(o,{class:T(["provider-card",{selected:E(i).providers.ollama.enabled}])},{default:S(()=>[P("div",{class:"provider-header",onClick:a[34]||(a[34]=e=>B("ollama"))},[_(t,{checked:E(i).providers.ollama.enabled,"onUpdate:checked":a[32]||(a[32]=e=>E(i).providers.ollama.enabled=e),onClick:a[33]||(a[33]=N(()=>{},["stop"]))},null,8,["checked"]),a[43]||(a[43]=P("div",{class:"provider-info"},[P("h4",null,"Ollama"),P("span",{class:"provider-models"},"Free, private, runs on your computer")],-1)),P("span",{class:T(["status-text",{connected:w.value.detected}])},U(w.value.detected?"âœ“":"â—‹"),3)]),P("div",lt,[E(i).providers.ollama.enabled?w.value.detected?(z(),x("div",dt,[a[50]||(a[50]=P("p",null,[P("strong",null,"âœ“ Connected!"),R(" Ollama is running")],-1)),P("div",ct,[(z(!0),x(A,null,I(d.value.slice(0,3),e=>(z(),x("span",{key:e,class:"model-name"},U(e),1))),128)),d.value.length>3?(z(),x("span",ut," +"+U(d.value.length-3)+" more ",1)):j("",!0)]),_(l,{onClick:K,loading:g.value.ollama,size:"small"},{default:S(()=>a[49]||(a[49]=[R(" Refresh ")])),_:1,__:[49]},8,["loading"])])):(z(),x("div",ot,[c.value&&!w.value.detected?(z(),x("div",nt,[_(p,{type:"warning","show-icon":"",class:"ollama-alert"},{message:S(()=>a[45]||(a[45]=[P("strong",null,"Ollama Not Found",-1)])),description:S(()=>a[46]||(a[46]=[P("p",null,"Ollama is not running on your system. To use Ollama:",-1),P("ol",null,[P("li",null,[R("Download and install Ollama from "),P("a",{href:"https://ollama.ai",target:"_blank"},"ollama.ai")]),P("li",null,"Start Ollama (it runs in the background)"),P("li",null,'Click "Retry Detection" below')],-1),P("p",{class:"warning-note"},"âš ï¸ You cannot continue with Ollama selected until it's detected.",-1)])),_:1})])):(z(),x("div",it,a[47]||(a[47]=[P("p",null,"Ollama lets you run AI models locally - no API keys, no costs, completely private.",-1)]))),P("div",rt,[_(l,{onClick:K,loading:g.value.ollama},{default:S(()=>[R(U(c.value?"Retry Detection":"Detect Ollama"),1)]),_:1},8,["loading"]),a[48]||(a[48]=P("a",{href:"https://ollama.ai",target:"_blank",class:"install-link"}," Download Ollama â†’ ",-1))])])):(z(),x("div",st,a[44]||(a[44]=[P("p",null,"No API keys needed, but requires installation with admin privileges.",-1),P("a",{href:"https://ollama.com",target:"_blank",class:"install-link"}," Learn more â†’ ",-1)])))])]),_:1},8,["class"])])])]),P("div",pt,[_(l,{size:"large",onClick:a[35]||(a[35]=a=>e.$emit("back"))},{default:S(()=>a[52]||(a[52]=[R(" â† Back ")])),_:1,__:[52]}),P("div",vt,[W.value?(z(),x("div",mt,[_(E(r)),a[53]||(a[53]=P("span",null,"Please test your API keys before continuing",-1))])):j("",!0),_(l,{size:"large",type:"primary",onClick:X,disabled:!C.value},{default:S(()=>a[54]||(a[54]=[R(" Continue â†’ ")])),_:1,__:[54]},8,["disabled"])])])])}}}),[["__scopeId","data-v-97d041ad"]]),ht={class:"environmental-section"},ft={class:"metric-toggles"},yt={class:"metric-toggle co2-mandatory"},kt={class:"metric-toggle"},bt={class:"toggle-content"},wt={class:"toggle-status"},_t={class:"metric-toggle"},Ct={class:"toggle-content"},Ot={class:"toggle-status"},xt={class:"example-display"},Pt={class:"cost-widget"},At={class:"enviro-group"},It={key:0,class:"cost-tab"},St={key:1,class:"enviro-item"},Mt={key:2,class:"cost-tab"},zt={key:3,class:"enviro-item"},Tt={class:"unknown-impact-notice"},Ut=s(C({__name:"EnvironmentalCostsSection",setup(e){const t=g(),l=a(),s=O(!0),o=O(!0);async function n(){l.setEnvironmentalMetrics({showCO2:!0,showWater:s.value,showElectricity:o.value}),await t.setEnvironmentalCostsEnabled(!0)}return V(()=>{s.value=l.environmentalMetrics?.showWater??!0,o.value=l.environmentalMetrics?.showElectricity??!0,t.setEnvironmentalCostsEnabled(!0)}),(e,a)=>{const t=M("a-tooltip");return z(),x("div",ht,[a[12]||(a[12]=P("h3",null,"Environmental Impact Tracking",-1)),a[13]||(a[13]=P("p",{class:"impact-statement"}," AI models have real environmental costs that providers don't disclose. We show COâ‚‚, water, and energy usage alongside financial costs. ",-1)),P("div",ft,[P("label",yt,[a[2]||(a[2]=P("input",{type:"checkbox",checked:"",disabled:""},null,-1)),_(E(u),{class:"checkbox-icon"}),a[3]||(a[3]=P("div",{class:"toggle-content"},[P("span",{class:"toggle-label"},"COâ‚‚ Emissions"),P("span",{class:"toggle-status"},"(mandatory)")],-1)),_(t,{title:"COâ‚‚ tracking cannot be disabled. AI models contribute to climate change and we believe users should be aware of this impact.",placement:"right"},{default:S(()=>[_(E(d),{class:"info-icon"})]),_:1})]),P("label",kt,[$(P("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),onChange:n},null,544),[[Y,s.value]]),s.value?(z(),L(E(u),{key:0,class:"checkbox-icon"})):j("",!0),P("div",bt,[a[4]||(a[4]=P("span",{class:"toggle-label"},"ðŸ’§ Water Usage",-1)),P("span",wt,"("+U(s.value?"shown":"hidden")+")",1)])]),P("label",_t,[$(P("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),onChange:n},null,544),[[Y,o.value]]),o.value?(z(),L(E(u),{key:0,class:"checkbox-icon"})):j("",!0),P("div",Ct,[a[5]||(a[5]=P("span",{class:"toggle-label"},"âš¡ Electricity Consumption",-1)),P("span",Ot,"("+U(o.value?"shown":"hidden")+")",1)])])]),P("div",xt,[a[10]||(a[10]=P("span",{class:"example-label"},"Example display:",-1)),P("div",Pt,[a[7]||(a[7]=P("span",{class:"cost-label"},"Estimated cost:",-1)),a[8]||(a[8]=P("span",{class:"cost-group"},[P("span",{class:"cost-value"},"$0.003")],-1)),a[9]||(a[9]=P("span",{class:"cost-tab"},null,-1)),P("span",At,[a[6]||(a[6]=P("span",{class:"enviro-item"},"COâ‚‚ ??",-1)),s.value?(z(),x("span",It)):j("",!0),s.value?(z(),x("span",St,"ðŸ’§ ??")):j("",!0),o.value?(z(),x("span",Mt)):j("",!0),o.value?(z(),x("span",zt,"âš¡ ??")):j("",!0)])])]),P("div",Tt,[_(E(r),{class:"notice-icon"}),a[11]||(a[11]=P("div",{class:"notice-content"},[P("p",null,[R(' When data is unavailable, we show "'),P("strong",null,"??"),R('" to remind you of hidden impacts. ')]),P("p",{class:"notice-small"}," You can change display options later in settings, but COâ‚‚ tracking cannot be disabled. ")],-1))])])}}}),[["__scopeId","data-v-820f0028"]]),Rt={class:"wizard-content"},Et={class:"models-content"},Ft={class:"model-update-card"},Wt={class:"card-header"},Lt={class:"card-header-left"},jt={class:"card-status"},Bt={key:0,class:"status-text"},Vt={class:"card-body"},Dt={class:"update-info"},Nt={class:"info-item"},$t={class:"info-item"},Yt={class:"info-item"},qt={class:"info-item"},Gt={class:"success-message"},Ht={class:"error-message"},Kt={class:"card-footer"},Xt={class:"wizard-nav"},Qt=s(C({__name:"WizardModels",emits:["next","back"],setup(e){const t=a();async function l(){await t.fetchModelPricing()}function s(){t.modelUpdate.error=null,t.modelUpdate.started=!1,l()}function o(){t.nextStep()}return(e,a)=>{const i=M("a-button"),r=M("a-progress"),c=M("a-space");return z(),x("div",Rt,[a[18]||(a[18]=D('<div class="wizard-header" data-v-240e8827><h2 data-v-240e8827>Models &amp; Options <span class="header-subtitle" data-v-240e8827>Keep your model list up to date and configure environmental tracking</span></h2></div><div class="wizard-progress" data-v-240e8827><div class="progress-step completed" data-v-240e8827>1. Welcome</div><div class="progress-step completed" data-v-240e8827>2. Providers</div><div class="progress-step active" data-v-240e8827>3. Models &amp; Options</div><div class="progress-step" data-v-240e8827>4. Start</div></div>',2)),P("div",Et,[P("div",Ft,[P("div",Wt,[P("div",Lt,[P("h3",null,[_(E(ee)),a[2]||(a[2]=R(" Model Database"))]),P("div",jt,[E(t).modelUpdate.started?E(t).modelUpdate.loading?(z(),x(A,{key:1},[_(E(h),{spin:""}),a[3]||(a[3]=P("span",{class:"status-text"},"Updating...",-1))],64)):E(t).modelUpdate.completed?(z(),x(A,{key:2},[_(E(n),{class:"status-icon success"}),a[4]||(a[4]=P("span",{class:"status-text"},"Updated",-1))],64)):E(t).modelUpdate.error?(z(),x(A,{key:3},[_(E(f),{class:"status-icon error"}),a[5]||(a[5]=P("span",{class:"status-text"},"Failed",-1))],64)):j("",!0):(z(),x("span",Bt,"Not updated"))])]),_(i,{type:"primary",onClick:l,loading:E(t).modelUpdate.loading,size:"small"},{default:S(()=>[_(E(y)),a[6]||(a[6]=R(" Update Models "))]),_:1,__:[6]},8,["loading"])]),P("div",Vt,[E(t).modelUpdate.started?E(t).modelUpdate.loading?(z(),x(A,{key:1},[_(r,{percent:E(t).modelUpdate.progress,"show-info":!1,size:"small","stroke-color":{"0%":"#108ee9","100%":"#87d068"}},null,8,["percent"]),a[12]||(a[12]=P("p",{class:"progress-text"},"Discovering models from all configured sources...",-1))],64)):E(t).modelUpdate.completed?(z(),x(A,{key:2},[P("p",Gt,U(E(t).modelUpdate.summary),1),a[13]||(a[13]=P("p",{class:"info-text"},"You can view all models in the Models page after setup.",-1))],64)):E(t).modelUpdate.error?(z(),x(A,{key:3},[P("p",Ht,U(E(t).modelUpdate.error),1),_(i,{size:"small",onClick:s},{default:S(()=>[_(E(k)),a[14]||(a[14]=R(" Retry "))]),_:1,__:[14]})],64)):j("",!0):(z(),x(A,{key:0},[a[11]||(a[11]=P("p",null,[R("We'll fetch model information from multiple sources including "),P("a",{href:"https://github.com/BerriAI/litellm",target:"_blank"},"LiteLLM"),R(" and provider APIs.")],-1)),P("div",Dt,[P("span",Nt,[_(E(u)),a[7]||(a[7]=R(" Model capabilities & pricing"))]),P("span",$t,[_(E(u)),a[8]||(a[8]=R(" Context limits & features"))]),P("span",Yt,[_(E(u)),a[9]||(a[9]=R(" Provider-specific models"))]),P("span",qt,[_(E(u)),a[10]||(a[10]=R(" Deterministic test models"))])])],64))]),P("div",Kt,[_(E(d)),a[15]||(a[15]=P("span",null,"You can update model pricing anytime from the Models page",-1))])]),_(Ut)]),P("div",Xt,[_(i,{size:"large",onClick:a[0]||(a[0]=a=>e.$emit("back"))},{default:S(()=>a[16]||(a[16]=[R(" â† Back ")])),_:1,__:[16]}),_(c,null,{default:S(()=>[_(i,{size:"large",onClick:o},{default:S(()=>a[17]||(a[17]=[R(" Skip for Now ")])),_:1,__:[17]}),_(i,{size:"large",type:"primary",onClick:a[1]||(a[1]=a=>e.$emit("next")),disabled:E(t).modelUpdate.loading},{default:S(()=>[R(U(E(t).modelUpdate.completed?"Continue":"Skip Update")+" â†’ ",1)]),_:1},8,["disabled"])]),_:1})])])}}}),[["__scopeId","data-v-240e8827"]]),Jt={class:"wizard-content"},Zt={class:"wizard-header"},el={class:"setup-summary"},al={class:"summary-grid"},tl={key:0,class:"summary-item"},ll={class:"summary-value"},sl={key:1,class:"summary-item"},ol={class:"summary-value"},nl={key:2,class:"summary-item"},il={class:"summary-value"},rl={class:"main-content"},dl={class:"guide-container"},cl={class:"guide-nav"},ul=["onClick"],pl={class:"guide-content"},vl={class:"guide-card"},ml=["innerHTML"],gl={class:"wizard-footer"},hl={class:"wizard-nav"},fl=s(C({__name:"WizardComplete",emits:["complete"],setup(e,{emit:t}){const l=t,s=a(),i=o(),r=O(!0),d=O(0),c=[{title:"Playground",subtitle:"Start easy with a single prompt to a single LLM",description:"The playground is perfect for quick experimentation, before you design a prompt with variables and run a systematic experimental trial. Enter a single prompt, select a model, adjust optional model parameters (like temperature or max response length), and see the LLM API response.",route:"/playground"},{title:"Variables",subtitle:"Create lists of conditions in a variable list",description:"Build lists of test values that will be systematically substituted into your prompts. Create simple lists (e.g., 50 first names) or attributed lists (e.g., names with gender and ethnicity attributes). Import from CSV, paste from spreadsheets, or enter manually. These become the {{variables}} in your prompt templates.",route:"/variables"},{title:"Template",subtitle:"Create a prompt and substitute in variable placeholders",description:'Write reusable prompt templates with {{variable}} placeholders that get filled from your variable lists.\n\nAdd regex patterns to extract key information from responses (e.g., "\\d+" to extract the last number).\n\nOne template can be tested across multiple model configurations.',route:"/templates"},{title:"Trial",subtitle:"With a template, test one or more LLM API configurations",description:"Execute systematic experiments by running your template across all variable combinations with multiple models. Configure different temperature settings, compare GPT-4 vs Claude vs Gemini on the same prompts, monitor real-time progress and costs, then analyze results with pivot tables to find patterns and model differences.",route:"/trials"},{title:"Spreadsheet (beta)",subtitle:"Import CSV with one prompt per row, test with one LLM",description:"Skip variable lists and templatesâ€”import a CSV where each row contains a complete prompt. Select one model, configure parameters, and run all prompts in sequence. Export results back to CSV with responses in adjacent columns. Perfect for testing existing prompt datasets or when your prompts don't follow a template pattern.",route:"/spreadsheet"}],u=F(()=>i.models.filter(e=>!(!s.providers.openai.enabled||"openai"!==e.provider)||(!(!s.providers.anthropic.enabled||"anthropic"!==e.provider)||(!(!s.providers.openrouter.enabled||"openrouter"!==e.provider)||!(!s.providers.ollama.enabled||"ollama"!==e.provider)))).length);function p(){s.previousStep()}function v(){r.value&&localStorage.setItem("wizard.dontShowAgain","true"),l("complete")}return(e,a)=>{const t=M("a-tag"),l=M("router-link"),o=M("a-checkbox"),i=M("a-button");return z(),x("div",Jt,[P("div",Zt,[_(E(n),{class:"success-icon"}),a[1]||(a[1]=P("h2",null,"You're All Set!",-1)),a[2]||(a[2]=P("p",null,"Everything is configured and ready to go",-1))]),P("div",el,[a[6]||(a[6]=P("h3",null,"Your Configuration",-1)),P("div",al,[E(s).enabledProviders.length?(z(),x("div",tl,[a[3]||(a[3]=P("strong",null,"Providers:",-1)),P("div",ll,[(z(!0),x(A,null,I(E(s).enabledProviders,e=>(z(),L(t,{key:e},{default:S(()=>[R(U(e),1)]),_:2},1024))),128))])])):j("",!0),u.value?(z(),x("div",sl,[a[4]||(a[4]=P("strong",null,"Available Models:",-1)),P("div",ol,U(u.value)+" models ready",1)])):j("",!0),E(s).providers.testing.enabled?(z(),x("div",nl,[a[5]||(a[5]=P("strong",null,"Testing Tools:",-1)),P("div",il,U(E(s).providers.testing.models.length)+" debug models enabled ",1)])):j("",!0)])]),P("div",rl,[a[7]||(a[7]=P("h3",null,"Getting Started Guide",-1)),P("div",dl,[P("div",cl,[(z(),x(A,null,I(c,(e,a)=>P("div",{key:e.title,class:T(["guide-nav-item",{active:d.value===a}]),onClick:e=>d.value=a},[P("strong",null,U(e.title)+":",1),P("span",null,U(e.subtitle),1)],10,ul)),64))]),P("div",pl,[P("div",vl,[P("h4",null,U(c[d.value].title),1),P("div",{class:"guide-description",innerHTML:(m=c[d.value].description,m.split("\n\n").map(e=>`<p>${e}</p>`).join(""))},null,8,ml),_(l,{to:c[d.value].route,class:"guide-link"},{default:S(()=>[R(" Go to "+U(c[d.value].title)+" â†’ ",1)]),_:1},8,["to"])])])])]),P("div",gl,[_(o,{checked:r.value,"onUpdate:checked":a[0]||(a[0]=e=>r.value=e)},{default:S(()=>a[8]||(a[8]=[R(" Don't show this wizard on startup ")])),_:1,__:[8]},8,["checked"])]),P("div",hl,[_(i,{size:"large",onClick:p},{default:S(()=>a[9]||(a[9]=[R(" â† Back ")])),_:1,__:[9]}),_(i,{size:"large",type:"primary",onClick:v},{default:S(()=>a[10]||(a[10]=[R(" Get Started â†’ ")])),_:1,__:[10]})])]);var m}}}),[["__scopeId","data-v-17a2802a"]]),yl={class:"welcome-wizard"},kl={class:"wizard-container"},bl=s(C({__name:"WelcomeWizard",setup(e){const t=q(),s=a();async function o(){s.skip(),await t.push("/")}async function n(){s.hasAnyProvider||0===s.currentStep?await t.push("/"):w.confirm({title:"Exit Setup?",content:"You haven't configured any AI providers yet. You can always set them up later in Settings.",okText:"Exit Anyway",cancelText:"Stay",onOk:async()=>{await t.push("/")}})}let i=!1;async function r(){if(!i){i=!0;try{await s.completeWizard(),await new Promise(e=>setTimeout(e,300)),"tour"===s.tourChoice?(p.info("Interactive tour coming soon! Taking you to the playground..."),await t.push("/playground")):"playground"===s.tourChoice?await t.push("/playground"):await t.push("/")}catch(e){l.error("Failed to complete wizard:",e),p.error("Failed to save settings. Please try again."),i=!1}}}return V(async()=>{await s.initialize()}),(e,a)=>{const t=M("a-button");return z(),x("div",yl,[P("div",kl,[_(t,{class:"wizard-close",type:"text",shape:"circle",onClick:n},{icon:S(()=>[_(E(b))]),_:1}),0===E(s).currentStep?(z(),L(ge,{key:0,onNext:E(s).nextStep,onSkip:o},null,8,["onNext"])):1===E(s).currentStep?(z(),L(gt,{key:1,onNext:E(s).nextStep,onBack:E(s).previousStep},null,8,["onNext","onBack"])):2===E(s).currentStep?(z(),L(Qt,{key:2,onNext:E(s).nextStep,onBack:E(s).previousStep},null,8,["onNext","onBack"])):3===E(s).currentStep?(z(),L(fl,{key:3,onComplete:r})):j("",!0)])])}}}),[["__scopeId","data-v-52d1074b"]]);export{bl as default};
